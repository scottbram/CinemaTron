var auth="object"==typeof auth?auth:{};auth={sesh_check:()=>new Promise((o,t)=>{$.ajax({url:"/.netlify/functions/at_auth",dataType:"json"}).done(t=>{t.length>0&&o(t)}).fail((o,e,l)=>{t(o,e,l)})}),input_validation:()=>{$("body").on("input",".auth_form input",function(){var o=$(this)[0],t=$(this).val(),e=$(this).closest("form"),l=e.attr("id"),a=!1,n=!1;if(o.setCustomValidity(""),"email"===$(this).attr("type")){let{valid_eml:e}=utils.validate_email(t);e?o.setCustomValidity(""):o.setCustomValidity("Please check that the email is correct.")}if("password"===$(this).attr("type")){let{valid_pw:l,valid_pw_length:a,valid_pw_length_msg:n,valid_ltrCases:s,valid_ltrCases_msg:i,valid_pw_spcChar:r,valid_pw_spcChar_msg:c}=utils.validate_pw(t);l&&o.setCustomValidity("");let d="";a?$(e).find(".validHelp_minLength").removeClass("invalid").addClass("valid"):($(e).find(".validHelp_minLength").removeClass("valid").addClass("invalid"),d+=n),s?$(e).find(".validHelp_ltrCases").removeClass("invalid").addClass("valid"):($(e).find(".validHelp_ltrCases").removeClass("valid").addClass("invalid"),d+=i),r?$(e).find(".validHelp_spcChar").removeClass("invalid").addClass("valid"):($(e).find(".validHelp_spcChar").removeClass("valid").addClass("invalid"),d+=c),o.setCustomValidity(d)}if("auth_pw_set_pw_retype"===$(this).attr("id")){if($("#auth_pw_set_pw").val()!==$(this).val()){let t="Doesn't match new password!";$(this).attr("title","Doesn't match new password!"),$(this).attr("data-toggle","tooltip"),$(this).attr("data-placement","top"),$(this).tooltip("show"),o.setCustomValidity(t)}else o.setCustomValidity(""),$(this).attr("title",""),$(this).tooltip("hide")}o.checkValidity();""!==$.trim(e.find("input[type=email]").val())&&""!==$.trim(e.find("input[type=password]").val())&&(a=!0);let s=document.getElementById(l).getElementsByTagName("input");(s=[...s]).forEach(o=>{let t=o.getAttribute("type");if("email"===t||"password"===t){if(!o.checkValidity())return;n=!0}}),a&&n?(!0,$("#auth_login_do").prop("disabled",!1)):(!1,$("#auth_login_do").prop("disabled",!0))})},login_btn_init:()=>{$(".auth-loginout, #log_in_prompt").click(()=>{auth.show_login_modal("toggle")})},login_modal_init:()=>{auth.login_btn_init(),auth.show_login_modal()},show_login_modal:()=>{function o(){$("#auth_login_actions_msgs").empty(),$("#auth_login_do").prop("disabled",!0),$("#auth_login input").prop("disabled",!0),$("#auth_login_modal .modal-body").prepend('<div class="overlay overlay-enlighten" aria-hidden="true"></div>'),$("#auth_login_modal .overlay").prepend('<span class="spinner spinner-border spinner-border-md" role="status" aria-hidden="true"></span>'),auth.login_do()}$.get("components/_auth_login.html",function(t){$("body").append(t),$("#auth_login_modal").on("show.bs.modal",function(){auth.input_validation(),setTimeout(function(){$(".auth_form input").trigger("input")},500),$("#auth_login input").off("keyup"),$("#auth_login input").keyup(function(t){var e=!0;let l=document.getElementById("auth_login").getElementsByTagName("input");(l=[...l]).forEach(o=>{o.checkValidity()||(e=!1)}),console.log(`e.which === 13: ${13===t.which}`),console.log(`allFldsValid: ${e}`),13===t.which&&e&&(console.log("enter"),o())}),$("#auth_login_do").off("click"),$("#auth_login_do").on("click",function(){o()})}),$("#auth_login_modal").on("shown.bs.modal",function(){""===$.trim($("#auth_login").find("input[type=email]").val())&&""===$.trim($("#auth_login").find("input[type=password]").val())&&$("#auth_login_email").focus()}),$("#auth_login_modal").on("hidden.bs.modal",function(){$("#auth_login_modal").modal("dispose"),$("#auth_login_modal").remove()}),$("#auth_login_modal").modal({backdrop:"static"}),$("#auth_login_modal").modal("show")})},auth_do:o=>{var t;switch(console.log(e),o){case"auth_pw_set":t="auth_pw_set";break;case"auth_login":t="auth_login"}var e={auth_task:t};$.each($("#"+o+" input"),function(o,t){var l=$(t).attr("data-authfld"),a=$(t).val();e[l]=a}),console.log(e);var l=JSON.stringify(e);$.ajax({url:"/.netlify/functions/at_auth",type:"POST",contentType:"application/json",data:l,success:function(){window.location.reload(!0)},error:function(o,t,e){var l;if(console.log("error event"),console.log("jqXHR: "),console.log(o),console.log("textStatus: "),console.log(t),console.log("errorThrown: "),console.log(e),void 0!==o.responseJSON){let t=o.responseJSON.statusCode;l=t+"\n"+o.responseJSON.error+"\n"+o.responseJSON.message,401===t&&console.log("Communicate the specific authentication problem to user")}else l=o.responseText;console.error("Error:\n"+l)},complete:function(){console.log("complete event")}})},pw_set_do:()=>{var o={task:"pw_set"};$.each($("#auth_pw_set input"),function(t,e){var l=$(e).attr("id"),a=$(e).val();o[l]=a}),console.log(o);var t=JSON.stringify(o);$.ajax({url:"/.netlify/functions/at_auth",type:"POST",contentType:"application/json",data:t,success:function(o,t,e){console.log("success event"),console.log("resp: "),console.log(o),console.log("textStatus: "),console.log(t),console.log("jqXhr: "),console.log(e)},error:function(o,t,e){var l;if(console.log("error event"),console.log("jqXHR: "),console.log(o),console.log("textStatus: "),console.log(t),console.log("errorThrown: "),console.log(e),void 0!==o.responseJSON){l=o.responseJSON.statusCode+"\n"+o.responseJSON.error+"\n"+o.responseJSON.message}else l=o.responseText;console.error("Error:\n"+l)},complete:function(){console.log("complete event")}})},login_do:()=>{var o={auth_task:"auth_login"};$.each($("#auth_login input"),function(t,e){var l=$(e).attr("data-authfld"),a=$(e).val();o[l]=a});var t=JSON.stringify(o);$.ajax({url:"/.netlify/functions/at_auth",type:"POST",contentType:"application/json",data:t,success:function(o){console.log("success event"),auth.login_success(o)},error:function(o,t,e){var l;if(console.log("error event"),console.log("jqXHR: "),console.log(o),console.log("textStatus: "),console.log(t),console.log("errorThrown: "),console.log(e),void 0!==o.responseJSON){l=o.responseJSON.statusCode+"\n"+o.responseJSON.error+"\n"+o.responseJSON.message}else l=o.responseText;console.error("Error:\n"+l),$("#auth_login_actions_msgs").prepend('<span class="msg_loginStatus msg-warning">Please check that the login info is correct</span>'),$("#auth_login_actions_msgs").show(),$("#auth_login_do").prop("disabled",!1),$("#auth_login input").prop("disabled",!1),$("#auth_login_modal .modal-body .overlay").remove()},complete:function(){console.log("complete event")}})},login_success:()=>{if(0===$(".valChg").length)location.reload();else{var o=$(".save:disabled");$.each(o,function(){$(this).is(":visible")&&$(this).prop("disabled",!1)}),$("#auth_login_modal").modal("hide")}},logout_init:()=>{$(".auth-loginout").text("Log out"),$(".auth-loginout").removeClass("disabled"),$(".auth-loginout").removeAttr("tabindex"),$(".auth-loginout").removeAttr("aria-disabled"),$(".auth-loginout").click(function(){auth.logout_do()})},logout_do:()=>{$.ajax({url:"/.netlify/functions/at_auth?auth_task=logout",type:"GET",success:function(o){auth.logout_success()},error:function(o,t,e){var l;if(console.log("error event"),console.log("jqXHR: "),console.log(o),console.log("textStatus: "),console.log(t),console.log("errorThrown: "),console.log(e),void 0!==o.responseJSON){l=o.responseJSON.statusCode+"\n"+o.responseJSON.error+"\n"+o.responseJSON.message}else l=o.responseText;console.error("Error:\n"+l)},complete:function(){console.log("complete event")}})},logout_success:()=>{location.reload()}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NoYXJlZC9hdXRoLmpzIl0sIm5hbWVzIjpbImF1dGgiLCJzZXNoX2NoZWNrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCIkIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiZG9uZSIsInJlc3AiLCJsZW5ndGgiLCJmYWlsIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJpbnB1dF92YWxpZGF0aW9uIiwib24iLCJmbGRfZWwiLCJ0aGlzIiwiZmxkX3ZhbCIsInZhbCIsImZsZF9wYXJlbnRGb3JtIiwiY2xvc2VzdCIsImZsZF9wYXJlbnRGb3JtX2lkIiwiYXR0ciIsImZsZF9wYXJlbnRGb3JtX2FsbEZsZHNfbm90RW1wdHkiLCJmbGRfcGFyZW50Rm9ybV9hbGxGbGRzX3ZhbGlkIiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJ2YWxpZF9lbWwiLCJ1dGlscyIsInZhbGlkYXRlX2VtYWlsIiwidmFsaWRfcHciLCJ2YWxpZF9wd19sZW5ndGgiLCJ2YWxpZF9wd19sZW5ndGhfbXNnIiwidmFsaWRfbHRyQ2FzZXMiLCJ2YWxpZF9sdHJDYXNlc19tc2ciLCJ2YWxpZF9wd19zcGNDaGFyIiwidmFsaWRfcHdfc3BjQ2hhcl9tc2ciLCJ2YWxpZGF0ZV9wdyIsImN1c3RvbVZhbGlkYXRpb25Nc2ciLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRvb2x0aXAiLCJjaGVja1ZhbGlkaXR5IiwidHJpbSIsImF1dGhfaW5wdXRzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZm9yRWFjaCIsIml0bSIsImZsZF90eXBlIiwiZ2V0QXR0cmlidXRlIiwicHJvcCIsImxvZ2luX2J0bl9pbml0IiwiY2xpY2siLCJzaG93X2xvZ2luX21vZGFsIiwibG9naW5fbW9kYWxfaW5pdCIsImxvZ2luX21vZGFsX2dvIiwiZW1wdHkiLCJwcmVwZW5kIiwibG9naW5fZG8iLCJnZXQiLCJ0aGVHb3R0ZW4iLCJhcHBlbmQiLCJzZXRUaW1lb3V0IiwidHJpZ2dlciIsIm9mZiIsImtleXVwIiwiZSIsImFsbEZsZHNWYWxpZCIsImNvbnNvbGUiLCJsb2ciLCJ3aGljaCIsImZvY3VzIiwibW9kYWwiLCJyZW1vdmUiLCJiYWNrZHJvcCIsImF1dGhfZG8iLCJmb3JtX2lzIiwiYXV0aF90YXNrIiwicmVxX29iaiIsImVhY2giLCJpZHgiLCJmbGROYW1lIiwiZmxkVmFsIiwicmVxX3N0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJkYXRhIiwic3VjY2VzcyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsImVycl9zdGF0dXNDb2RlIiwicmVzcG9uc2VUZXh0IiwiY29tcGxldGUiLCJwd19zZXRfZG8iLCJ0YXNrIiwianFYaHIiLCJsb2dpbl9zdWNjZXNzIiwic2hvdyIsInNhdmVCdG5zIiwiaXMiLCJsb2dvdXRfaW5pdCIsInRleHQiLCJyZW1vdmVBdHRyIiwibG9nb3V0X2RvIiwibG9nb3V0X3N1Y2Nlc3MiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLEtBQTJCLGlCQUFYLEtBQXdCQSxLQUFPLEdBQ2xEQSxLQUFPLENBQ1BDLFdBQWEsSUFDTCxJQUFJQyxRQUFTLENBQUNDLEVBQVNDLEtBQzdCQyxFQUFFQyxLQUFLLENBQ05DLElBQUssOEJBQ0xDLFNBQVUsU0FFVkMsS0FBT0MsSUFDSEEsRUFBS0MsT0FBUyxHQUNqQlIsRUFBUU8sS0FHVEUsS0FBTSxDQUFFQyxFQUFPQyxFQUFZQyxLQUMzQlgsRUFBT1MsRUFBT0MsRUFBWUMsT0FLN0JDLGlCQUFtQixLQUNsQlgsRUFBRSxRQUFRWSxHQUFHLFFBQVMsbUJBQW9CLFdBSXpDLElBQUlDLEVBQVNiLEVBQUVjLE1BQU0sR0FDakJDLEVBQVVmLEVBQUVjLE1BQU1FLE1BQ2xCQyxFQUFpQmpCLEVBQUVjLE1BQU1JLFFBQVEsUUFDakNDLEVBQW9CRixFQUFlRyxLQUFLLE1B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b0QsTUFBTyxXQUMxQnpELEtBQUtrSCxlQUlQQSxVQUFZLEtBTVg3RyxFQUFFQyxLQUFLLENBQ05DLElBQUssK0NBQ0xvRixLQUFNLE1BQ05HLFFBQVMsU0FBVXBGLEdBQ2xCVixLQUFLbUgsa0JBRU5qQixNQUFPLFNBQVVyRixFQUFPQyxFQUFZQyxHQWFuQyxJQUFJb0YsRUFHSixHQWRBMUIsUUFBUUMsSUFBSSxlQUVaRCxRQUFRQyxJQUFJLFdBQ1pELFFBQVFDLElBQUk3RCxHQUVaNEQsUUFBUUMsSUFBSSxnQkFDWkQsUUFBUUMsSUFBSTVELEdBRVoyRCxRQUFRQyxJQUFJLGlCQUNaRCxRQUFRQyxJQUFJM0QsUUFLc0IsSUFBdkJGLEVBQU11RixhQUE4QixDQUs5Q0QsRUFKcUJ0RixFQUFNdUYsYUFBeUIsV0FJeEIsS0FIYnZGLEVBQU11RixhQUFvQixNQUdTLEtBRnBDdkYsRUFBTXVGLGFBQXNCLGFBSTFDRCxFQUFXdEYsRUFBTXlGLGFBR2xCN0IsUUFBUXlCLE1BQU0sV0FBYUMsSUFJNUJJLFNBQVUsV0FFVDlCLFFBQVFDLElBQUksc0JBTWZ5QyxlQUFpQixLQUNoQm5CLFNBQVNDIiwiZmlsZSI6ImpzL3NoYXJlZC9hdXRoLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBhdXRoLmpzICovXG52YXIgYXV0aCA9ICggdHlwZW9mIChhdXRoKSA9PT0gJ29iamVjdCcgKSA/IGF1dGggOiB7fTtcbihhdXRoID0ge1xuXHRzZXNoX2NoZWNrIDogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5hamF4KHtcblx0XHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9hdXRoJyxcblx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xuXHRcdFx0fSlcblx0XHRcdC5kb25lKCAocmVzcCkgPT4ge1xuXHRcdFx0XHRpZiAocmVzcC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShyZXNwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5mYWlsKCAoIGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApID0+IHtcblx0XHRcdFx0cmVqZWN0KGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG5cdFx0XHR9KTtcblx0XHR9KVxuXHR9XG5cdCxcblx0aW5wdXRfdmFsaWRhdGlvbiA6ICgpID0+IHtcblx0XHQkKCdib2R5Jykub24oJ2lucHV0JywgJy5hdXRoX2Zvcm0gaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdC8vIGNvbnNvbGUubG9nKCdpbnB1dF92YWxpZGF0aW9uKCkgLmF1dGhfZm9ybSBpbnB1dDogaW5wdXQgb3IgY2hnJyk7XG5cblx0XHRcdHZhciBmbGRfZWwgPSAkKHRoaXMpWzBdO1xuXHRcdFx0dmFyIGZsZF92YWwgPSAkKHRoaXMpLnZhbCgpO1xuXHRcdFx0dmFyIGZsZF9wYXJlbnRGb3JtID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtJyk7XG5cdFx0XHR2YXIgZmxkX3BhcmVudEZvcm1faWQgPSBmbGRfcGFyZW50Rm9ybS5hdHRyKCdpZCcpO1xuXHRcdFx0dmFyIGZsZF9wYXJlbnRGb3JtX3ZhbGlkO1xuXHRcdFx0dmFyIGZsZF9wYXJlbnRGb3JtX2FsbEZsZHNfbm90RW1wdHkgPSBmYWxzZTtcblx0XHRcdHZhciBmbGRfcGFyZW50Rm9ybV9hbGxGbGRzX3ZhbGlkID0gZmFsc2U7XG5cblx0XHRcdC8qKiBEbyBzb21lIHZhbGlkYXRpb24gKi9cblx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG5cdFx0XHRcblx0XHRcdGlmICggJCh0aGlzKS5hdHRyKCd0eXBlJykgPT09ICdlbWFpbCcgKSB7XG5cdFx0XHRcdGxldCB7IHZhbGlkX2VtbCB9ID0gdXRpbHMudmFsaWRhdGVfZW1haWwoZmxkX3ZhbCk7XG5cblx0XHRcdFx0aWYgKCB2YWxpZF9lbWwgKSB7XG5cdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ1BsZWFzZSBjaGVjayB0aGF0IHRoZSBlbWFpbCBpcyBjb3JyZWN0LicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggJCh0aGlzKS5hdHRyKCd0eXBlJykgPT09ICdwYXNzd29yZCcgKSB7XG5cdFx0XHRcdGxldCB7IFxuXHRcdFx0XHRcdHZhbGlkX3B3LCBcblx0XHRcdFx0XHR2YWxpZF9wd19sZW5ndGgsIFxuXHRcdFx0XHRcdHZhbGlkX3B3X2xlbmd0aF9tc2csIFxuXHRcdFx0XHRcdHZhbGlkX2x0ckNhc2VzLCBcblx0XHRcdFx0XHR2YWxpZF9sdHJDYXNlc19tc2csIFxuXHRcdFx0XHRcdHZhbGlkX3B3X3NwY0NoYXIsIFxuXHRcdFx0XHRcdHZhbGlkX3B3X3NwY0NoYXJfbXNnIFxuXHRcdFx0XHR9ID0gdXRpbHMudmFsaWRhdGVfcHcoZmxkX3ZhbCk7XG5cblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ3ZhbGlkX3B3OiAnKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2codmFsaWRfcHcpO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKCB2YWxpZF9wdyApIHtcblx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IGN1c3RvbVZhbGlkYXRpb25Nc2cgPSAnJztcblx0XHRcdFx0XG5cdFx0XHRcdGlmICggIXZhbGlkX3B3X2xlbmd0aCApIHtcblx0XHRcdFx0XHQkKGZsZF9wYXJlbnRGb3JtKS5maW5kKCcudmFsaWRIZWxwX21pbkxlbmd0aCcpLnJlbW92ZUNsYXNzKCd2YWxpZCcpLmFkZENsYXNzKCdpbnZhbGlkJyk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Y3VzdG9tVmFsaWRhdGlvbk1zZyArPSB2YWxpZF9wd19sZW5ndGhfbXNnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoZmxkX3BhcmVudEZvcm0pLmZpbmQoJy52YWxpZEhlbHBfbWluTGVuZ3RoJykucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKS5hZGRDbGFzcygndmFsaWQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggIXZhbGlkX2x0ckNhc2VzICkge1xuXHRcdFx0XHRcdCQoZmxkX3BhcmVudEZvcm0pLmZpbmQoJy52YWxpZEhlbHBfbHRyQ2FzZXMnKS5yZW1vdmVDbGFzcygndmFsaWQnKS5hZGRDbGFzcygnaW52YWxpZCcpO1xuXG5cdFx0XHRcdFx0Y3VzdG9tVmFsaWRhdGlvbk1zZyArPSB2YWxpZF9sdHJDYXNlc19tc2c7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JChmbGRfcGFyZW50Rm9ybSkuZmluZCgnLnZhbGlkSGVscF9sdHJDYXNlcycpLnJlbW92ZUNsYXNzKCdpbnZhbGlkJykuYWRkQ2xhc3MoJ3ZhbGlkJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICF2YWxpZF9wd19zcGNDaGFyICkge1xuXHRcdFx0XHRcdCQoZmxkX3BhcmVudEZvcm0pLmZpbmQoJy52YWxpZEhlbHBfc3BjQ2hhcicpLnJlbW92ZUNsYXNzKCd2YWxpZCcpLmFkZENsYXNzKCdpbnZhbGlkJyk7XG5cblx0XHRcdFx0XHRjdXN0b21WYWxpZGF0aW9uTXNnICs9IHZhbGlkX3B3X3NwY0NoYXJfbXNnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoZmxkX3BhcmVudEZvcm0pLmZpbmQoJy52YWxpZEhlbHBfc3BjQ2hhcicpLnJlbW92ZUNsYXNzKCdpbnZhbGlkJykuYWRkQ2xhc3MoJ3ZhbGlkJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoY3VzdG9tVmFsaWRhdGlvbk1zZyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggJCh0aGlzKS5hdHRyKCdpZCcpID09PSAnYXV0aF9wd19zZXRfcHdfcmV0eXBlJyApIHtcblx0XHRcdFx0bGV0IG5ld1B3ID0gJCgnI2F1dGhfcHdfc2V0X3B3JykudmFsKCk7XG5cdFx0XHRcdGxldCBuZXdQd19yZXR5cGUgPSAkKHRoaXMpLnZhbCgpO1xuXG5cdFx0XHRcdGlmIChuZXdQdyAhPT0gbmV3UHdfcmV0eXBlKSB7XG5cdFx0XHRcdFx0bGV0IGN1c3RvbVZhbGlkYXRpb25Nc2cgPSAnRG9lc25cXCd0IG1hdGNoIG5ldyBwYXNzd29yZCEnO1xuXG5cdFx0XHRcdFx0JCh0aGlzKS5hdHRyKCd0aXRsZScsICdEb2VzblxcJ3QgbWF0Y2ggbmV3IHBhc3N3b3JkIScpO1xuXHRcdFx0XHRcdCQodGhpcykuYXR0cignZGF0YS10b2dnbGUnLCAndG9vbHRpcCcpO1xuXHRcdFx0XHRcdCQodGhpcykuYXR0cignZGF0YS1wbGFjZW1lbnQnLCAndG9wJyk7XG5cblx0XHRcdFx0XHQkKHRoaXMpLnRvb2x0aXAoJ3Nob3cnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoY3VzdG9tVmFsaWRhdGlvbk1zZyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3RpdGxlJywgJycpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdCQodGhpcykudG9vbHRpcCgnaGlkZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8qKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVmFsaWRpdHlTdGF0ZSAqL1xuXHRcdFx0LyogY29uc29sZS5sb2coJ2ZsZF9lbC52YWxpZGl0eTogJyk7XG5cdFx0XHRjb25zb2xlLmxvZyhmbGRfZWwudmFsaWRpdHkpOyAqL1xuXHRcdFx0LyogY29uc29sZS5sb2coJ2ZsZF9lbC5jaGVja1ZhbGlkaXR5KCk6ICcpO1xuXHRcdFx0Y29uc29sZS5sb2coZmxkX2VsLmNoZWNrVmFsaWRpdHkoKSk7ICovXG5cblx0XHRcdC8qKiBUaGlzIGRlbGl2ZXJzIHRoZSBjdXN0b20gdmFsaWRhdGlvbiBtZXNzYWdlcyAqL1xuXHRcdFx0dmFyIGZsZF9pc1ZhbGlkID0gZmxkX2VsLmNoZWNrVmFsaWRpdHkoKTtcblxuXHRcdFx0LyogaWYgKCFmbGRfaXNWYWxpZCkge1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coJ0ZsZCBpbnZhbGlkLiBmbGRfZWwudmFsaWRhdGlvbk1lc3NhZ2U6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhmbGRfZWwudmFsaWRhdGlvbk1lc3NhZ2UpO1xuXG5cdFx0XHR9ICovXG5cblx0XHRcdGlmICggJC50cmltKCBmbGRfcGFyZW50Rm9ybS5maW5kKCdpbnB1dFt0eXBlPWVtYWlsXScpLnZhbCgpICkgIT09ICcnICYmICQudHJpbSggZmxkX3BhcmVudEZvcm0uZmluZCgnaW5wdXRbdHlwZT1wYXNzd29yZF0nKS52YWwoKSApICE9PSAnJyApIHtcblx0XHRcdFx0ZmxkX3BhcmVudEZvcm1fYWxsRmxkc19ub3RFbXB0eSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qIGlmICggZmxkX3BhcmVudEZvcm0uZmluZCgnaW5wdXRbdHlwZT1lbWFpbF0nKS5pcygnOnZhbGlkJykgJiYgZmxkX3BhcmVudEZvcm0uZmluZCgnaW5wdXRbdHlwZT1wYXNzd29yZF0nKS5pcygnOnZhbGlkJykgKSB7XG5cdFx0XHRcdGZsZF9wYXJlbnRGb3JtX2FsbEZsZHNfdmFsaWQgPSB0cnVlO1xuXHRcdFx0fSAqL1xuXHRcdFx0XG5cdFx0XHRsZXQgYXV0aF9pbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmbGRfcGFyZW50Rm9ybV9pZCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XG5cdFx0XHRcdGF1dGhfaW5wdXRzID0gWy4uLmF1dGhfaW5wdXRzXTtcblxuXHRcdFx0YXV0aF9pbnB1dHMuZm9yRWFjaCggKGl0bSkgPT4ge1xuXHRcdFx0XHRsZXQgZmxkX3R5cGUgPSBpdG0uZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG5cblx0XHRcdFx0aWYgKGZsZF90eXBlID09PSAnZW1haWwnIHx8IGZsZF90eXBlID09PSAncGFzc3dvcmQnKSB7XG5cdFx0XHRcdFx0bGV0IGZsZElzVmFsaWQgPSBpdG0uY2hlY2tWYWxpZGl0eSgpO1xuXG5cdFx0XHRcdFx0aWYgKCFmbGRJc1ZhbGlkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZmxkX3BhcmVudEZvcm1fYWxsRmxkc192YWxpZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZmxkX3BhcmVudEZvcm1fYWxsRmxkc19ub3RFbXB0eSAmJiBmbGRfcGFyZW50Rm9ybV9hbGxGbGRzX3ZhbGlkKSB7XG5cdFx0XHRcdGZsZF9wYXJlbnRGb3JtX3ZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0JCgnI2F1dGhfbG9naW5fZG8nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZsZF9wYXJlbnRGb3JtX3ZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luX2RvJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHQsXG5cdGxvZ2luX2J0bl9pbml0IDogKCkgPT4ge1xuXHRcdCQoJy5hdXRoLWxvZ2lub3V0LCAjbG9nX2luX3Byb21wdCcpLmNsaWNrKCAoKSA9PiB7XHRcblx0XHRcdGF1dGguc2hvd19sb2dpbl9tb2RhbCgndG9nZ2xlJyk7XG5cdFx0fSk7XG5cdH1cblx0LFxuXHRsb2dpbl9tb2RhbF9pbml0IDogKCkgPT4ge1xuXHRcdGF1dGgubG9naW5fYnRuX2luaXQoKTtcblxuXHRcdGF1dGguc2hvd19sb2dpbl9tb2RhbCgpO1xuXHR9XG5cdCxcblx0c2hvd19sb2dpbl9tb2RhbCA6ICgpID0+IHtcblx0XHRmdW5jdGlvbiBsb2dpbl9tb2RhbF9nbyAoKSB7XG5cdFx0XHQkKCcjYXV0aF9sb2dpbl9hY3Rpb25zX21zZ3MnKS5lbXB0eSgpO1xuXG5cdFx0XHQkKCcjYXV0aF9sb2dpbl9kbycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHQkKCcjYXV0aF9sb2dpbiBpbnB1dCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHRcblx0XHRcdCQoJyNhdXRoX2xvZ2luX21vZGFsIC5tb2RhbC1ib2R5JykucHJlcGVuZCgnPGRpdiBjbGFzcz1cIm92ZXJsYXkgb3ZlcmxheS1lbmxpZ2h0ZW5cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2Rpdj4nKTtcblx0XHRcdCQoJyNhdXRoX2xvZ2luX21vZGFsIC5vdmVybGF5JykucHJlcGVuZCgnPHNwYW4gY2xhc3M9XCJzcGlubmVyIHNwaW5uZXItYm9yZGVyIHNwaW5uZXItYm9yZGVyLW1kXCIgcm9sZT1cInN0YXR1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj4nKTtcblxuXHRcdFx0YXV0aC5sb2dpbl9kbygpO1xuXHRcdH1cblxuXHRcdCQuZ2V0KCdjb21wb25lbnRzL19hdXRoX2xvZ2luLmh0bWwnLCBmdW5jdGlvbiAodGhlR290dGVuKSB7XG5cdFx0XHQkKCdib2R5JykuYXBwZW5kKHRoZUdvdHRlbik7XG5cblx0XHRcdCQoJyNhdXRoX2xvZ2luX21vZGFsJykub24oJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGF1dGguaW5wdXRfdmFsaWRhdGlvbigpO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQkKCcuYXV0aF9mb3JtIGlucHV0JykudHJpZ2dlcignaW5wdXQnKTtcblx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdFx0XG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luIGlucHV0Jykub2ZmKCdrZXl1cCcpO1xuXHRcdFx0XHQkKCcjYXV0aF9sb2dpbiBpbnB1dCcpLmtleXVwKCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdHZhciBhbGxGbGRzVmFsaWQgPSB0cnVlO1xuXG5cdFx0XHRcdFx0bGV0IGF1dGhfaW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dGhfbG9naW4nKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtcblx0XHRcdFx0XHRcdGF1dGhfaW5wdXRzID0gWy4uLmF1dGhfaW5wdXRzXTtcblxuXHRcdFx0XHRcdGF1dGhfaW5wdXRzLmZvckVhY2goIChpdG0pID0+IHtcblx0XHRcdFx0XHRcdGxldCBmbGRJc1ZhbGlkID0gaXRtLmNoZWNrVmFsaWRpdHkoKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFmbGRJc1ZhbGlkKSB7XG5cdFx0XHRcdFx0XHRcdGFsbEZsZHNWYWxpZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgZS53aGljaCA9PT0gMTM6ICR7ZS53aGljaCA9PT0gMTN9YCk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYGFsbEZsZHNWYWxpZDogJHthbGxGbGRzVmFsaWR9YCk7XG5cblx0XHRcdFx0XHRpZiAoZS53aGljaCA9PT0gMTMgJiYgYWxsRmxkc1ZhbGlkICkge1xuXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZW50ZXInKTtcblxuXHRcdFx0XHRcdFx0bG9naW5fbW9kYWxfZ28oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luX2RvJykub2ZmKCdjbGljaycpO1xuXHRcdFx0XHQkKCcjYXV0aF9sb2dpbl9kbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRsb2dpbl9tb2RhbF9nbygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKCcjYXV0aF9sb2dpbl9tb2RhbCcpLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKCAkLnRyaW0oICQoJyNhdXRoX2xvZ2luJykuZmluZCgnaW5wdXRbdHlwZT1lbWFpbF0nKS52YWwoKSApID09PSAnJyAmJiAkLnRyaW0oICQoJyNhdXRoX2xvZ2luJykuZmluZCgnaW5wdXRbdHlwZT1wYXNzd29yZF0nKS52YWwoKSApID09PSAnJyApIHtcblx0XHRcdFx0XHQkKCcjYXV0aF9sb2dpbl9lbWFpbCcpLmZvY3VzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQkKCcjYXV0aF9sb2dpbl9tb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luX21vZGFsJykubW9kYWwoJ2Rpc3Bvc2UnKTtcblx0XHRcdFx0JCgnI2F1dGhfbG9naW5fbW9kYWwnKS5yZW1vdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKCcjYXV0aF9sb2dpbl9tb2RhbCcpLm1vZGFsKHtcblx0XHRcdFx0YmFja2Ryb3A6ICdzdGF0aWMnXG5cdFx0XHR9KTtcblx0XHRcdCQoJyNhdXRoX2xvZ2luX21vZGFsJykubW9kYWwoJ3Nob3cnKTtcblx0XHR9KTtcblx0fVxuXHQsXG5cdGF1dGhfZG8gOiAoZm9ybV9pcykgPT4ge1xuXHRcdGNvbnNvbGUubG9nKHJlcV9vYmopO1xuXG5cdFx0dmFyIGF1dGhfdGFzaztcblxuXHRcdHN3aXRjaCAoZm9ybV9pcykge1xuXHRcdFx0Y2FzZSAnYXV0aF9wd19zZXQnOlxuXHRcdFx0XHRhdXRoX3Rhc2sgPSAnYXV0aF9wd19zZXQnO1xuXHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdhdXRoX2xvZ2luJzpcblx0XHRcdFx0YXV0aF90YXNrID0gJ2F1dGhfbG9naW4nO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdHZhciByZXFfb2JqID0ge1xuXHRcdFx0J2F1dGhfdGFzayc6IGF1dGhfdGFza1xuXHRcdH07XG5cblx0XHQkLmVhY2goICQoJyMnICsgZm9ybV9pcyArICcgaW5wdXQnKSwgZnVuY3Rpb24gKGlkeCwgaXRtKSB7XG5cdFx0XHR2YXIgZmxkTmFtZSA9ICQoaXRtKS5hdHRyKCdkYXRhLWF1dGhmbGQnKTtcblx0XHRcdHZhciBmbGRWYWwgPSAkKGl0bSkudmFsKCk7XG5cblx0XHRcdHJlcV9vYmpbZmxkTmFtZV0gPSBmbGRWYWw7XG5cdFx0fSk7XG5cblx0XHRjb25zb2xlLmxvZyhyZXFfb2JqKTtcblxuXHRcdHZhciByZXFfc3RyID0gSlNPTi5zdHJpbmdpZnkocmVxX29iaik7XG5cblx0XHQkLmFqYXgoe1xuXHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9hdXRoJyxcblx0XHRcdHR5cGU6ICdQT1NUJyxcblx0XHRcdGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG5cdFx0XHRkYXRhOiByZXFfc3RyLFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIGV2ZW50Jyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciBlcnJfZGlzcDtcblxuXHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcblx0XHRcdFx0XHRsZXQgZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xuXHRcdFx0XHRcdGxldCBlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XG5cblx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XG5cblx0XHRcdFx0XHRpZiAoZXJyX3N0YXR1c0NvZGUgPT09IDQwMSkge1xuXHRcdFx0XHRcdFx0LyoqIFRoZSB1c2VyIGVudGVyZWQgaW52YWxpZCBjcmVkZW50aWFscyAqL1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnQ29tbXVuaWNhdGUgdGhlIHNwZWNpZmljIGF1dGhlbnRpY2F0aW9uIHByb2JsZW0gdG8gdXNlcicpXG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xuXHRcdFx0fSxcblx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcblxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdCxcblx0cHdfc2V0X2RvIDogKCkgPT4ge1xuXHRcdHZhciByZXFfb2JqID0ge1xuXHRcdFx0J3Rhc2snOiAncHdfc2V0J1xuXHRcdH07XG5cblx0XHQkLmVhY2goICQoJyNhdXRoX3B3X3NldCBpbnB1dCcpLCBmdW5jdGlvbiAoaWR4LCBpdG0pIHtcblx0XHRcdHZhciBmbGROYW1lID0gJChpdG0pLmF0dHIoJ2lkJyk7XG5cdFx0XHR2YXIgZmxkVmFsID0gJChpdG0pLnZhbCgpO1xuXG5cdFx0XHRyZXFfb2JqW2ZsZE5hbWVdID0gZmxkVmFsO1xuXHRcdH0pO1xuXG5cdFx0Y29uc29sZS5sb2cocmVxX29iaik7XG5cblx0XHR2YXIgcmVxX3N0ciA9IEpTT04uc3RyaW5naWZ5KHJlcV9vYmopO1xuXG5cdFx0JC5hamF4KHtcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfYXV0aCcsXG5cdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0ZGF0YTogcmVxX3N0cixcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwLCB0ZXh0U3RhdHVzLCBqcVhocikge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzIGV2ZW50Jyk7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ3Jlc3A6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXNwKTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdqcVhocjogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGpxWGhyKTtcblxuXHRcdFx0fSxcblx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIGV2ZW50Jyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciBlcnJfZGlzcDtcblxuXHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcblx0XHRcdFx0XHRsZXQgZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xuXHRcdFx0XHRcdGxldCBlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XG5cblx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xuXHRcdFx0fSxcblx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcblxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdCxcblx0bG9naW5fZG8gOiAoKSA9PiB7XG5cdFx0dmFyIHJlcV9vYmogPSB7XG5cdFx0XHQnYXV0aF90YXNrJzogJ2F1dGhfbG9naW4nXG5cdFx0fTtcblxuXHRcdCQuZWFjaCggJCgnI2F1dGhfbG9naW4gaW5wdXQnKSwgZnVuY3Rpb24gKGlkeCwgaXRtKSB7XG5cdFx0XHR2YXIgZmxkTmFtZSA9ICQoaXRtKS5hdHRyKCdkYXRhLWF1dGhmbGQnKTtcblx0XHRcdHZhciBmbGRWYWwgPSAkKGl0bSkudmFsKCk7XG5cblx0XHRcdHJlcV9vYmpbZmxkTmFtZV0gPSBmbGRWYWw7XG5cdFx0fSk7XG5cblx0XHQvLyBjb25zb2xlLmxvZygncmVxX29iajogJyk7XG5cdFx0Ly8gY29uc29sZS5sb2cocmVxX29iaik7XG5cblx0XHR2YXIgcmVxX3N0ciA9IEpTT04uc3RyaW5naWZ5KHJlcV9vYmopO1xuXG5cdFx0JC5hamF4KHtcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfYXV0aCcsXG5cdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0ZGF0YTogcmVxX3N0cixcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ3N1Y2Nlc3MgZXZlbnQnKTtcblxuXHRcdFx0XHRhdXRoLmxvZ2luX3N1Y2Nlc3MocmVzcCk7XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3IgZXZlbnQnKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdqcVhIUjogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGpxWEhSKTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIGVycl9kaXNwO1xuXHRcdFx0XHR2YXIgZXJyX2Rpc3BfbXNnO1xuXG5cdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xuXHRcdFx0XHRcdGVycl9kaXNwX21zZyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnZXJyb3InXTtcblx0XHRcdFx0XHRsZXQgZXJyX21zZyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnbWVzc2FnZSddO1xuXG5cdFx0XHRcdFx0ZXJyX2Rpc3AgPSBlcnJfc3RhdHVzQ29kZSArICdcXG4nICsgZXJyX2Rpc3BfbXNnICsgJ1xcbicgKyBlcnJfbXNnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVycl9kaXNwID0ganFYSFIucmVzcG9uc2VUZXh0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3I6XFxuJyArIGVycl9kaXNwKTtcblxuXHRcdFx0XHQkKCcjYXV0aF9sb2dpbl9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c3BhbiBjbGFzcz1cIm1zZ19sb2dpblN0YXR1cyBtc2ctd2FybmluZ1wiPlBsZWFzZSBjaGVjayB0aGF0IHRoZSBsb2dpbiBpbmZvIGlzIGNvcnJlY3Q8L3NwYW4+Jyk7XG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luX2FjdGlvbnNfbXNncycpLnNob3coKTtcblxuXHRcdFx0XHQvKiogUmVzZXQgdGhlIG1vZGFsIHN0YXRlICovXG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luX2RvJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdCQoJyNhdXRoX2xvZ2luIGlucHV0JykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQkKCcjYXV0aF9sb2dpbl9tb2RhbCAubW9kYWwtYm9keSAub3ZlcmxheScpLnJlbW92ZSgpO1xuXHRcdFx0fSxcblx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcblxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdCxcblx0bG9naW5fc3VjY2VzcyA6ICgpID0+IHtcblx0XHQvKiogV2hlbiB0aGVyZSdzIG5vIHJlY2VudGx5IGVkaXRlZCBmaWVsZHMgcHJlc2VudCwgcmVmcmVzaCBwYWdlICovXG5cdFx0aWYgKCAkKCcudmFsQ2hnJykubGVuZ3RoID09PSAwICkge1xuXHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBzYXZlQnRucyA9ICQoJy5zYXZlOmRpc2FibGVkJyk7XG5cdFx0XHQkLmVhY2goc2F2ZUJ0bnMsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKCAkKHRoaXMpLmlzKCc6dmlzaWJsZScpICkge1xuXHRcdFx0XHRcdCQodGhpcykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSlcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdCQoJyNhdXRoX2xvZ2luX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcblx0XHR9XG5cdH1cblx0LFxuXHRsb2dvdXRfaW5pdCA6ICgpID0+IHtcblx0XHQkKCcuYXV0aC1sb2dpbm91dCcpLnRleHQoJ0xvZyBvdXQnKTtcblx0XHQkKCcuYXV0aC1sb2dpbm91dCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdCQoJy5hdXRoLWxvZ2lub3V0JykucmVtb3ZlQXR0cigndGFiaW5kZXgnKTtcblx0XHQkKCcuYXV0aC1sb2dpbm91dCcpLnJlbW92ZUF0dHIoJ2FyaWEtZGlzYWJsZWQnKTtcblx0XHQkKCcuYXV0aC1sb2dpbm91dCcpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRhdXRoLmxvZ291dF9kbygpO1xuXHRcdH0pO1xuXHR9XG5cdCxcblx0bG9nb3V0X2RvIDogKCkgPT4ge1xuXG5cdFx0LyoqXG5cdFx0ICogTmVlZCBzb21lIGFjdGl2aXR5IGluZGljYXRpb24gaGVyZVxuXHRcdCAqL1xuXG5cdFx0JC5hamF4KHtcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfYXV0aD9hdXRoX3Rhc2s9bG9nb3V0Jyxcblx0XHRcdHR5cGU6ICdHRVQnLFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3ApIHtcblx0XHRcdFx0YXV0aC5sb2dvdXRfc3VjY2VzcygpO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIGV2ZW50Jyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciBlcnJfZGlzcDtcblx0XHRcdFx0dmFyIGVycl9kaXNwX21zZztcblxuXHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcblx0XHRcdFx0XHRlcnJfZGlzcF9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ2Vycm9yJ107XG5cdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcblxuXHRcdFx0XHRcdGVycl9kaXNwID0gZXJyX3N0YXR1c0NvZGUgKyAnXFxuJyArIGVycl9kaXNwX21zZyArICdcXG4nICsgZXJyX21zZztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlcnJfZGlzcCA9IGpxWEhSLnJlc3BvbnNlVGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yOlxcbicgKyBlcnJfZGlzcCk7XG5cblx0XHRcdFx0Ly8gJCgnI2F1dGhfbG9naW5fYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX2xvZ2luU3RhdHVzIG1zZy13YXJuaW5nXCI+UGxlYXNlIGNoZWNrIHRoYXQgdGhlIGxvZ2luIGluZm8gaXMgY29ycmVjdDwvc21hbGw+Jyk7XG5cdFx0XHR9LFxuXHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdjb21wbGV0ZSBldmVudCcpO1xuXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0LFxuXHRsb2dvdXRfc3VjY2VzcyA6ICgpID0+IHtcblx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcblx0fVxufSk7XG4iXX0=
