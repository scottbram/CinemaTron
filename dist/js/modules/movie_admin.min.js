var movie_admin="object"==typeof movie_admin?movie_admin:{};(movie_admin={init:()=>{auth.sesh_check().then(function(e){movie_admin.load_movie_list()}).catch(function(e){console.log("errObj: "),console.log(e),$("#movie_list_status").alert("close");$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg"><a id="log_in_prompt" href="#">Log in to edit</a></span></div>'),$("#log_in_prompt").click(function(e){auth.show_login_modal("toggle")}),auth.show_login_modal()})},load_movie_list:()=>{$("#movie_list_status_msg").text("Movies loading"),$("#movie_admin_list_actions").css("visibility","visible"),$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(e,a,i){e.length>0&&$.each(e,function(a,i){var t=i.id,s=i.fields,l=s.Title,o=s.Year,n=s.Length,r=s.Rating,m=s.Format,_=(s.Art,s.Active),v="";_&&(v=" checked");var c,d,g,h=movie_admin.seeing_stars(r);switch(m){case"DVD":c="selected";break;case"Streaming":d="selected";break;case"VHS":g="selected"}var u='<div class="movie_listing" data-recid="'+t+'"data-haschgs="false"id="movie_listing_'+t+'"><div class="movie_title form-field-container"><label for="movie_title_'+t+'">Title</label> <small class="text-muted">(50 characters or less)</small><input id="movie_title_'+t+'" value="'+l+'" data-fldname="Title" data-ogval="'+l+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+t+'">Year</label><small class="text-muted">(from 1800 to 2100)</small><input id="movie_year_'+t+'" value="'+o+'" data-fldname="Year" data-ogval="'+o+'" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container"><label for="movie_length_'+t+'">Length</label><small class="text-muted">(in minutes)</small><input id="movie_length_'+t+'" value="'+n+'" data-fldname="Length" data-ogval="'+n+'" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+t+'">Rating</label>'+h+'<input id="movie_rating_'+t+'" value="'+r+'" data-fldname="Rating" data-ogval="'+r+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format form-field-container"><label for="movie_format_'+t+'">Format</label><select id="movie_format_'+t+'" class="form-control" data-fldname="Format" data-ogval="'+m+'"><option value="DVD"'+c+'>DVD</option><option value="Streaming"'+d+'>Streaming</option><option value="VHS"'+g+'>VHS</option></select></div><div class="movie_rating form-field-container form-check"><input id="movie_active_'+t+'" data-fldname="Active" data-ogval="'+_+'" class="form-check-input" type="checkbox"'+v+'><label for="movie_active_'+t+'" class="lbl_checkbox form-check-label">Active</label></div></div></div>';$("#movie_admin_list").append(u),a+1===e.length&&movie_admin.ready()})}).fail(function(e,a,i){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:()=>{$("#movie_list_status").alert("close"),movie_admin.add_movie_click(),$(".add-movie").prop("disabled",!1),movie_admin.track_changes_field(),movie_admin.rating_hover(),movie_admin.rating_click(),movie_admin.save_all_click()},add_movie_click:()=>{$(".add-movie").click(function(e){movie_admin.add_movie(),$("input").first().focus()})},add_movie:()=>{var e=Date.now(),a='<div class="movie_listing is-new form-group" data-recid="'+e+'"data-haschgs="false"id="movie_listing_'+e+'"class="movie_listing_new"><div class="movie_title form-field-container"><label for="movie_title_'+e+'">Title</label><small class="text-muted">(50 characters or less)</small><input id="movie_title_'+e+'" value="" data-fldname="Title" class="form-control" type="text" minlength="1" maxlength="50" required></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+e+'">Year</label><small class="text-muted">(from 1800 to 2100)</small><input id="movie_year_'+e+'" value="" data-fldname="Year" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container"><label for="movie_length_'+e+'">Length</label><small class="text-muted">(in minutes)</small><input id="movie_length_'+e+'" value="" data-fldname="Length" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+e+'">Rating</label>'+movie_admin.seeing_stars("1")+'<input id="movie_rating_'+e+'" value="1" data-fldname="Rating" class="form-control valChg" type="number" min="1" max="5" hidden required></div><div class="movie_format form-field-container"><label for="movie_format_'+e+'">Format</label><select id="movie_format_'+e+'" class="form-control valChg" data-fldname="Format"><option value="DVD">DVD</option><option value="Streaming" selected>Streaming</option><option value="VHS">VHS</option></select></div><div class="movie_rating form-field-container form-check"><input id="movie_active_'+e+'" data-fldname="Active" class="form-check-input" type="checkbox" checked><label for="movie_active_'+e+'" class="lbl_checkbox form-check-label">Active</label></div></div></div>';$("#movie_admin_list").prepend(a),$(".is-new .movie_rating_stars").addClass("valChg-colorsOnly")},seeing_stars:e=>{var a="";a+='<div class="movie_rating_stars">';for(var i=1,t=0;t<e;t++)a+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+i+'">&#9733 </span>',i++;var s=5-e;for(t=0;t<s;t++)a+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+i+'">&#9734  </span>',i++;return a+="</div>"},track_changes_field:()=>{$("#movie_admin_list").on("input change","input",function(e){console.log("ch-ch-ch-changes");var a,i=$(this).attr("data-ogval"),t=$(this).val(),s=$(this).attr("data-fldname"),l=$(this)[0];if(l.setCustomValidity(""),i!==t)switch($(this).addClass("valChg"),s){case"Title":$(this).val().length>0&&$(this).val().length<51?l.setCustomValidity(""):l.setCustomValidity("Title must be 1 to 50 characters");break;case"Year":a=utils.input_numbers_only(t),$(this).val(a),4===$(this).val().length&&parseInt($(this).val())>=1800&&parseInt($(this).val())<=2100?l.setCustomValidity(""):l.setCustomValidity("Must be a 4 digit number between 1800 and 2100");break;case"Length":a=utils.input_numbers_only(t),$(this).val(a),parseInt($(this).val())>=1&&parseInt($(this).val())<=999?l.setCustomValidity(""):l.setCustomValidity("Must be a 3 digit number greater than 1")}else $(this).removeClass("valChg").nextAll(".valChgMsg").remove();movie_admin.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(e){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),movie_admin.track_changes_listing($(this))})},track_changes_listing:e=>{e.closest(".movie_listing").find("input, select").hasClass("valChg")?e.closest(".movie_listing").attr("data-haschgs",!0):e.closest(".movie_listing").attr("data-haschgs",!1),movie_admin.save_all_check()},rating_hover:()=>{$("#movie_admin_list").on("mouseenter",".movie_rating_star",function(e){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")}).on("mouseleave",".movie_rating_star",function(e){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:()=>{$("#movie_admin_list").on("click",".movie_rating_star",function(e){var a=$(this).attr("data-ratingstar"),i=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+i).val(a).change(),$("#movie_rating_"+i).attr("data-ogval")!==$("#movie_rating_"+i).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:()=>{},save_all_check:()=>{0!==$(".valChg").length?($(".save-all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save-all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:()=>{$(".save_item").click(function(e){$(this).prop("disabled",!0);var a=$(this).attr("data-recid");movie_admin.save_one(a)})},save_all_click:()=>{$(".save-all").click(function(e){$(".save-all").prop("disabled",!0),movie_admin.save_all()})},save_item:(e,a)=>{var i={ID:e},t={},s=$("#movie_listing_"+e).find(".valChg");$.each(s,function(e,a){var i=$(a).attr("data-fldname"),s=$(a).val();"Year"===i|"Length"===i|"Rating"===i&&(s=Number(s)),t[i]=s});var l=$("#movie_active_"+e).is(":checked");t.Active=l,i.fields=t;var o=JSON.stringify(i);return new Promise(function(i,t){a?$.ajax({url:"/.netlify/functions/at_create_movie",type:"POST",contentType:"application/json",data:o,success:function(a,t,s){console.log("success event");var l=a.id;$("#movie_listing_"+e).attr("id","movie_listing_"+l),$("#movie_listing_"+l).attr("data-recid","movie_listing_"+l),$("#movie_listing_"+l).removeClass("is-new"),$("#movie_listing_"+l).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+l).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),i(a)},error:function(e,a,i){var s;if(console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;t(),console.error("Error:\n"+s)},complete:function(){console.log("complete event")}}):$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:o,success:function(a,t,s){console.log("success event"),$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+e).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),i()},error:function(e,a,i){var s;if(console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;t(),console.error("Error:\n"+s),401===e.status&&auth.show_login_modal()},complete:function(){console.log("complete event")}})})},save_one:e=>{movie_admin.save_item(e).then(function(){movie_admin.status_msg("save_one_success")},function(e){console.error(e)})},save_all:()=>{$("#movie_admin_list").find("input:focus").blur(),$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var e=$('.movie_listing[data-haschgs="true"]');$.each(e,function(a,i){var t=!1,s=$(i).attr("data-recid");$(i).hasClass("is-new")&&(t=!0),movie_admin.save_item(s,t).then(function(){a+1===e.length&&movie_admin.status_msg("save_all_success")},function(e){console.error(e)})})},status_msg:e=>{switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(e){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21vZHVsZXMvbW92aWVfYWRtaW4uanMiXSwibmFtZXMiOlsibW92aWVfYWRtaW4iLCJpbml0IiwiYXV0aCIsInNlc2hfY2hlY2siLCJ0aGVuIiwicmVzcCIsImxvYWRfbW92aWVfbGlzdCIsImNhdGNoIiwiZXJyT2JqIiwiY29uc29sZSIsImxvZyIsIiQiLCJhbGVydCIsInByZXBlbmQiLCJjbGljayIsImUiLCJzaG93X2xvZ2luX21vZGFsIiwidGV4dCIsImNzcyIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRvbmUiLCJ0ZXh0U3RhdHVzIiwianFYSFIiLCJsZW5ndGgiLCJlYWNoIiwiaWR4IiwiaXRtIiwibW92aWVfcmVjaWQiLCJpZCIsIm1vdmllX29iaiIsImZpZWxkcyIsIm1vdmllX3RpdGxlIiwiVGl0bGUiLCJtb3ZpZV95ZWFyIiwiWWVhciIsIm1vdmllX2xlbmd0aCIsIkxlbmd0aCIsIm1vdmllX3JhdGluZyIsIlJhdGluZyIsIm1vdmllX2Zvcm1hdCIsIkZvcm1hdCIsIm1vdmllX2FjdGl2ZSIsIkFydCIsIkFjdGl2ZSIsIm1vdmllX2FjdGl2ZV9jaGVja2VkIiwiRFZEc2VsIiwiU1RSc2VsIiwiVkhTc2VsIiwibW92aWVfcmF0aW5nX3N0YXJzIiwic2VlaW5nX3N0YXJzIiwibW92aWVfbGlzdGluZyIsImFwcGVuZCIsInJlYWR5IiwiZmFpbCIsImVycm9yVGhyb3duIiwiYWRkX21vdmllX2NsaWNrIiwicHJvcCIsInRyYWNrX2NoYW5nZXNfZmllbGQiLCJyYXRpbmdfaG92ZXIiLCJyYXRpbmdfY2xpY2siLCJzYXZlX2FsbF9jbGljayIsImFkZF9tb3ZpZSIsImZpcnN0IiwiZm9jdXMiLCJEYXRlIiwibm93IiwiYWRkQ2xhc3MiLCJyYXRpbmdzdGFyIiwiaSIsIm1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCIsIm9uIiwiZmxkX3ZhbCIsIm9nVmFsIiwidGhpcyIsImF0dHIiLCJjdXJyVmFsIiwidmFsIiwiZmxkX25hbWUiLCJmbGRfZWwiLCJzZXRDdXN0b21WYWxpZGl0eSIsInV0aWxzIiwiaW5wdXRfbnVtYmVyc19vbmx5IiwicGFyc2VJbnQiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJyZW1vdmUiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImNsb3Nlc3QiLCJmaW5kIiwiaGFzQ2xhc3MiLCJzYXZlX2FsbF9jaGVjayIsImh0bWwiLCJwcmV2QWxsIiwic2libGluZ3MiLCJtb3ZpZV9yYXRpbmdfc2VsIiwiY2hhbmdlIiwic2F2ZV9vbmVfY2hlY2siLCJzYXZlX29uZV9jbGljayIsInNhdmVfb25lIiwic2F2ZV9hbGwiLCJzYXZlX2l0ZW0iLCJpc05ldyIsInJlcV9vYmoiLCJJRCIsInJlcV9vYmpfZmxkcyIsImNoZ2RGbGRzQXJyIiwiaWR4X2ZsZCIsIml0bV9mbGQiLCJmbGROYW1lIiwiZmxkVmFsIiwiTnVtYmVyIiwiaXMiLCJyZXFfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlByb21pc2UiLCJwcm9tU3VjY2VzcyIsInByb21FcnJvciIsInR5cGUiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWNjZXNzIiwianFYaHIiLCJtb3ZpZV9yZWNpZF9uZXciLCJlcnJvciIsImVycl9kaXNwIiwicmVzcG9uc2VKU09OIiwicmVzcG9uc2VUZXh0IiwiY29tcGxldGUiLCJzdGF0dXMiLCJzdGF0dXNfbXNnIiwiYmx1ciIsImNoZ2RNb3ZpZXNBcnIiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiZmFkZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsWUFBeUMsaUJBQWxCLFlBQStCQSxZQUFjLElBQ3ZFQSxZQUFjLENBQ2RDLEtBQU8sS0FDTkMsS0FBS0MsYUFDSkMsS0FBTSxTQUFVQyxHQUNoQkwsWUFBWU0sb0JBQ1ZDLE1BQU8sU0FBV0MsR0FFcEJDLFFBQVFDLElBQUksWUFDWkQsUUFBUUMsSUFBSUYsR0FHWkcsRUFBRSxzQkFBc0JDLE1BQU0sU0FNOUJELEVBQUUsZ0JBQWdCRSxRQUpMLGtMQU1iRixFQUFF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LElBQUksd0JBVWpCMkYsU0FBWXhFLElBQ0k3QixZQUFZdUcsVUFBVTFFLEdBRTVCekIsS0FDUixXQUlDSixZQUFZcUksV0FBVyxxQkFFeEIsU0FBVTdILEdBQ1RDLFFBQVFzSCxNQUFNdkgsTUFLakI4RixTQUFXLEtBQ1YzRixFQUFFLHFCQUFxQmdGLEtBQUssZUFBZTJDLE9BRTNDM0gsRUFBRSxrREFBa0Q0RSxTQUVwRDVFLEVBQUUsa0NBQWtDRSxRQUFRLDBGQWlCNUMsSUFBSTBILEVBQWdCNUgsRUFBRSx1Q0FFdEJBLEVBQUVlLEtBQUs2RyxFQUFlLFNBQVU1RyxFQUFLQyxHQUNwQyxJQUFJNEUsR0FBUSxFQUNSM0UsRUFBY2xCLEVBQUVpQixHQUFLZ0QsS0FBSyxjQUV6QmpFLEVBQUVpQixHQUFLZ0UsU0FBUyxZQUNwQlksR0FBUSxHQUdNeEcsWUFBWXVHLFVBQVUxRSxFQUFhMkUsR0FFekNwRyxLQUNSLFdBQ0t1QixFQUFJLElBQU00RyxFQUFjOUcsUUFDM0J6QixZQUFZcUksV0FBVyxxQkFHekIsU0FBVTdILEdBQ1RDLFFBQVFzSCxNQUFNdkgsUUFNbEI2SCxXQUFjQSxJQUNiLE9BQVFBLEdBQ1AsSUFBSyxtQkFHTCxJQUFLLGlCQUVMLE1BQ0EsSUFBSyxtQkFFSjFILEVBQUUsa0RBQWtENEUsU0FFcEQ1RSxFQUFFLGtDQUFrQ0UsUUFBUSxzRkFHNUMySCxPQUFPQyxXQUFZLFdBQ2xCOUgsRUFBRSxpREFBaUQrSCxRQUFRLE9BQVEsU0FBVTNILEdBQzVFSixFQUFFZ0UsTUFBTVksWUFFUCxTQU9KdEYiLCJmaWxlIjoianMvbW9kdWxlcy9tb3ZpZV9hZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogbW92aWUtYWRtaW4uanMgKi9cclxudmFyIG1vdmllX2FkbWluID0gKCB0eXBlb2YgKG1vdmllX2FkbWluKSA9PT0gJ29iamVjdCcgKSA/IG1vdmllX2FkbWluIDoge307XHJcbihtb3ZpZV9hZG1pbiA9IHtcclxuXHRpbml0IDogKCkgPT4ge1xyXG5cdFx0YXV0aC5zZXNoX2NoZWNrKClcclxuXHRcdC50aGVuKCBmdW5jdGlvbiAocmVzcCkge1xyXG5cdFx0XHRtb3ZpZV9hZG1pbi5sb2FkX21vdmllX2xpc3QoKTtcclxuXHRcdH0pLmNhdGNoKCBmdW5jdGlvbiAoIGVyck9iaiApIHtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJPYmo6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJPYmopO1xyXG5cclxuXHRcdFx0LyoqIE5vIHZhbGlkIHNlc3Npb24gZm91bmQgKi9cclxuXHRcdFx0JCgnI21vdmllX2xpc3Rfc3RhdHVzJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0XHR2YXIgZXJyTXNnID0gJzxkaXYgaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c1wiIGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj4nICtcclxuXHRcdFx0XHRcdCc8c3BhbiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzX21zZ1wiPjxhIGlkPVwibG9nX2luX3Byb21wdFwiIGhyZWY9XCIjXCI+TG9nIGluIHRvIGVkaXQ8L2E+PC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHRcclxuXHRcdFx0JCgnI21vdmllX2FkbWluJykucHJlcGVuZChlcnJNc2cpO1xyXG5cclxuXHRcdFx0JCgnI2xvZ19pbl9wcm9tcHQnKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRhdXRoLnNob3dfbG9naW5fbW9kYWwoJ3RvZ2dsZScpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGF1dGguc2hvd19sb2dpbl9tb2RhbCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRsb2FkX21vdmllX2xpc3QgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXNfbXNnJykudGV4dCgnTW92aWVzIGxvYWRpbmcnKTtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnMnKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG5cclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfZ2V0X21vdmllP3JlY2lkPWFsbCcsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uICggcmVzcCwgdGV4dFN0YXR1cywganFYSFIgKSB7XHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlIFx0PSBtb3ZpZV9vYmouQWN0aXZlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnJztcclxuXHRcdFx0XHRcdGlmIChtb3ZpZV9hY3RpdmUpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnIGNoZWNrZWQnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSBtb3ZpZV9hZG1pbi5zZWVpbmdfc3RhcnMobW92aWVfcmF0aW5nKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgRFZEc2VsLCBTVFJzZWwsIFZIU3NlbDtcclxuXHRcdFx0XHRcdHN3aXRjaCAobW92aWVfZm9ybWF0KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ0RWRCc6XHJcblx0XHRcdFx0XHRcdFx0RFZEc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1N0cmVhbWluZyc6XHJcblx0XHRcdFx0XHRcdFx0U1RSc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1ZIUyc6XHJcblx0XHRcdFx0XHRcdFx0VkhTc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9saXN0aW5nID0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9saXN0aW5nXCIgJyArXHJcblx0XHRcdFx0XHRcdFx0J2RhdGEtcmVjaWQ9XCInICsgbW92aWVfcmVjaWQgKydcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCdkYXRhLWhhc2NoZ3M9XCJmYWxzZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0J2lkPVwibW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICc8ZGl2IGNsYXNzPVwibW92aWVfcG9zdGVyXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV90aXRsZSBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV90aXRsZV8nICsgbW92aWVfcmVjaWQgKyAnXCI+VGl0bGUnICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JyA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3RpdGxlICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiVGl0bGVcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfdGl0bGUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBtaW5sZW5ndGg9XCIxXCIgbWF4bGVuZ3RoPVwiNTBcIicgKyBcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxzXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3llYXIgZm9ybS1maWVsZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIj5ZZWFyJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlllYXJcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV95ZWFyICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIElucHV0IHR5cGU9XCJudW1iZXJcIiBoYXMgdW5kZXNpcmFibGUgc2lkZSBlZmZlY3RzICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMTgwMFwiIG1heD1cIjIxMDBcIicgKyBcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIFRoaXMgcGF0dGVybiBpcyBwZXJmZWN0IGJ1dCB0cmlnZ2VyaW5nIHRoZSBudW1lcmljIGtleXBhZCBvbiBtb2JpbGUgaXMgcGVyZmVjdGVyICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZHs0fVwiIG1heGxlbmd0aD1cIjRcIiByZXF1aXJlZCcgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qKiBGdW4gZmFjdDogVGhpcyBwYXR0ZXJuIHdpbGwgdHJpZ2dlciB0aGUgbnVtZXJpYyBrZXlwYWQgb24gbW9iaWxlICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIj5MZW5ndGgnICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX2xlbmd0aCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiTGVuZ3RoXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjk5OVwiJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiM1wiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfcmF0aW5nICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW4nICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZm9ybWF0IGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIj5Gb3JtYXQ8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyAnPHNlbGVjdCBpZD1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCIgY2xhc3M9XCJjdXN0b20tc2VsZWN0XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkZvcm1hdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2Zvcm1hdCArICdcIicgKyc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJzxvcHRpb24gc2VsZWN0ZWQ+T3BlbiB0aGlzIHNlbGVjdCBtZW51PC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJEVkRcIicgKyBEVkRzZWwgKyAnPkRWRDwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiU3RyZWFtaW5nXCInICsgU1RSc2VsICsgJz5TdHJlYW1pbmc8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlZIU1wiJyArIFZIU3NlbCArICc+VkhTPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8L3NlbGVjdD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nIGZvcm0tZmllbGQtY29udGFpbmVyIGZvcm0tY2hlY2tcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2FjdGl2ZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkFjdGl2ZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2FjdGl2ZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJjaGVja2JveFwiJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1vdmllX2FjdGl2ZV9jaGVja2VkICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCcgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZm9yPVwibW92aWVfYWN0aXZlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJsYmxfY2hlY2tib3ggZm9ybS1jaGVjay1sYWJlbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnQWN0aXZlJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0JzwvZGl2PidcclxuXHRcdFx0XHRcdDtcclxuXHJcblx0XHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLmFwcGVuZChtb3ZpZV9saXN0aW5nKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaWR4KzEgPT09IHJlc3AubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdG1vdmllX2FkbWluLnJlYWR5KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pLmZhaWwoIGZ1bmN0aW9uICgganFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG5cdFx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcclxuXHJcblx0XHRcdHZhciBlcnJNc2cgPSAnPGRpdiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzXCIgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG5cdFx0XHRcdFx0JzxzcGFuIGlkPVwibW92aWVfbGlzdF9zdGF0dXNfbXNnXCI+VGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHRoZSBtb3ZpZXMuPC9icj5UcnkgcmVmcmVzaGluZyB0aGUgcGFnZSBhbmQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHVzLjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JztcclxuXHRcdFx0XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbicpLnByZXBlbmQoZXJyTXNnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0cmVhZHkgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRtb3ZpZV9hZG1pbi5hZGRfbW92aWVfY2xpY2soKTtcclxuXHRcdCQoJy5hZGQtbW92aWUnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHRcdFxyXG5cdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19maWVsZCgpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2hvdmVyKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5yYXRpbmdfY2xpY2soKTtcclxuXHRcdC8vIG1vdmllX2FkbWluLnNhdmVfb25lX2NsaWNrKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jbGljaygpO1xyXG5cdH1cclxuXHQsXHJcblx0YWRkX21vdmllX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLmFkZC1tb3ZpZScpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRtb3ZpZV9hZG1pbi5hZGRfbW92aWUoKTtcclxuXHJcblx0XHRcdCQoJ2lucHV0JykuZmlyc3QoKS5mb2N1cygpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRhZGRfbW92aWUgOiAoKSA9PiB7XHJcblx0XHR2YXIgbW92aWVfcmVjaWQgPSBEYXRlLm5vdygpO1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9IG1vdmllX2FkbWluLnNlZWluZ19zdGFycygnMScpO1xyXG5cclxuXHRcdHZhciBtb3ZpZV9saXN0aW5nID0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9saXN0aW5nIGlzLW5ldyBmb3JtLWdyb3VwXCIgJyArXHJcblx0XHRcdFx0J2RhdGEtcmVjaWQ9XCInICsgbW92aWVfcmVjaWQgKydcIicgK1xyXG5cdFx0XHRcdC8vICdkYXRhLXJlY2lkPVwibmV3XCInICtcclxuXHRcdFx0XHQnZGF0YS1oYXNjaGdzPVwiZmFsc2VcIicgK1xyXG5cdFx0XHRcdCdpZD1cIm1vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0J2NsYXNzPVwibW92aWVfbGlzdGluZ19uZXdcIicgK1xyXG5cdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj5UaXRsZScgK1xyXG5cdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPig1MCBjaGFyYWN0ZXJzIG9yIGxlc3MpPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV90aXRsZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0JyB2YWx1ZT1cIlwiJyArXHJcblx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiVGl0bGVcIicgK1xyXG5cdFx0XHRcdFx0XHQvLyAnIGRhdGEtb2d2YWw9XCJuZXdfbW92aWVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIicgK1xyXG5cdFx0XHRcdFx0XHQvLyAnIHBsYWNlaG9sZGVyPVwiVGhlIEJpZyBGbGljayBUaXRsZVwiJyArXHJcblx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBtaW5sZW5ndGg9XCIxXCIgbWF4bGVuZ3RoPVwiNTBcIiByZXF1aXJlZCcgKyBcclxuXHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxzXCI+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3llYXIgZm9ybS1maWVsZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIj5ZZWFyJyArXHJcblx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlllYXJcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIm5ld19tb3ZpZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHBsYWNlaG9sZGVyPVwiMjAxOVwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIj5MZW5ndGgnICtcclxuXHRcdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkxlbmd0aFwiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2xlbmd0aCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgcGxhY2Vob2xkZXI9XCIxNTBcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCI1MDBcIiBtaW5sZW5ndGg9XCIxXCIgbWF4bGVuZ3RoPVwiM1wiIHBhdHRlcm49XCJcXFxcZHs0fVwiIHJlcXVpcmVkJyArXHJcblx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCIzXCIgcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCArICdcIj5SYXRpbmc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgK1xyXG5cdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCIxXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlJhdGluZ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNvbnRyb2wgdmFsQ2hnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgbWF4PVwiNVwiIGhpZGRlbiByZXF1aXJlZCcgKyBcclxuXHRcdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9mb3JtYXQgZm9ybS1maWVsZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiPkZvcm1hdDwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdC8vICc8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIiBjbGFzcz1cImN1c3RvbS1zZWxlY3RcIicgK1xyXG5cdFx0XHRcdFx0XHQnPHNlbGVjdCBpZD1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgdmFsQ2hnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkZvcm1hdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2Zvcm1hdCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJzxvcHRpb24gc2VsZWN0ZWQ+T3BlbiB0aGlzIHNlbGVjdCBtZW51PC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJEVkRcIj5EVkQ8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiIHNlbGVjdGVkPlN0cmVhbWluZzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiVkhTXCI+VkhTPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdCc8L3NlbGVjdD4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nIGZvcm0tZmllbGQtY29udGFpbmVyIGZvcm0tY2hlY2tcIj4nICtcclxuXHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2FjdGl2ZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkFjdGl2ZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2FjdGl2ZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJjaGVja2JveFwiJyArIFxyXG5cdFx0XHRcdFx0XHRcdCcgY2hlY2tlZCcgK1xyXG5cdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsJyArXHJcblx0XHRcdFx0XHRcdFx0JyBmb3I9XCJtb3ZpZV9hY3RpdmVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImxibF9jaGVja2JveCBmb3JtLWNoZWNrLWxhYmVsXCInICtcclxuXHRcdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHRcdCdBY3RpdmUnICtcclxuXHRcdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHQnPC9kaXY+J1xyXG5cdFx0O1xyXG5cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykucHJlcGVuZChtb3ZpZV9saXN0aW5nKTtcclxuXHRcdCQoJy5pcy1uZXcgLm1vdmllX3JhdGluZ19zdGFycycpLmFkZENsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdH1cclxuXHQsXHJcblx0c2VlaW5nX3N0YXJzIDogKG1vdmllX3JhdGluZykgPT4ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBTdGFyIEFTQ0lJIGNvZGVzXHJcblx0XHQgKiAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cdFx0ICogU29saWQgc3RhcjogJiM5NzMzO1xyXG5cdFx0ICogT3V0bGluZSBzdGFyOiAmIzk3MzQ7XHJcblx0XHQgKi9cclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSAnJztcclxuXHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXJzXCI+JztcclxuXHRcdC8qKiBTZXQgdGhlIGxvd2VzdCB2YWx1ZSAqL1xyXG5cdFx0dmFyIHJhdGluZ3N0YXIgPSAxO1xyXG5cdFx0LyoqIEFkZCBhIHNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIHRoZSBzZWxlY3RlZCByYXRpbmcgdmFsdWUgaXMgcmVhY2hlZCAqL1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZpZV9yYXRpbmc7IGkrKykge1xyXG5cdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxzcGFuIGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXIgbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzMgPC9zcGFuPic7XHJcblx0XHRcdFxyXG5cdFx0XHRyYXRpbmdzdGFyKys7XHJcblx0XHR9XHJcblx0XHQvKiogU3VidHJhY3QgdGhlIHNlbGVjdGVkIHJhdGluZyBmcm9tIHRoZSBoaWdoZXN0IHBvc3NpYmxlIHRvIGdldCBhbiB1bnNlbGVjdGVkL2ZpbGxlciBjb3VudCAqL1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QgPSA1O1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCA9IG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QtbW92aWVfcmF0aW5nO1xyXG5cdFx0LyoqIEFkZCBhbiB1bnNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIGZpbGxlciBjb3VudCBpcyByZWFjaGVkICovXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0OyBpKyspIHtcclxuXHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzQgIDwvc3Bhbj4nO1xyXG5cclxuXHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0fVxyXG5cdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8L2Rpdj4nO1xyXG5cclxuXHRcdHJldHVybiBtb3ZpZV9yYXRpbmdfc3RhcnM7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2ZpZWxkIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignaW5wdXQgY2hhbmdlJywgJ2lucHV0JywgZnVuY3Rpb24gKGUpIHtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCdjaC1jaC1jaC1jaGFuZ2VzJyk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtb2d2YWwnKTtcclxuXHRcdFx0dmFyIGN1cnJWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG5cdFx0XHR2YXIgZmxkX25hbWUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmxkbmFtZScpO1xyXG5cdFx0XHR2YXIgZmxkX2VsID0gJCh0aGlzKVswXTtcclxuXHRcdFx0dmFyIGZsZF92YWw7XHJcblx0XHRcdFxyXG5cdFx0XHQvKiogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1ZhbGlkaXR5U3RhdGUgKi9cclxuXHRcdFx0Ly8gY29uc29sZS5sb2coZmxkX2VsLnZhbGlkaXR5KTtcclxuXHJcblx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCBhcyBjaGFuZ2VkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdFx0XHQvKiogRG8gc29tZSB2YWxpZGF0aW9uICovXHJcblx0XHRcdFx0c3dpdGNoIChmbGRfbmFtZSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAnVGl0bGUnOlxyXG5cdFx0XHRcdFx0XHR2YXIgY2hrX3RpdGxlID0gJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwICYmICQodGhpcykudmFsKCkubGVuZ3RoIDwgNTE7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICghY2hrX3RpdGxlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCdUaXRsZSBtdXN0IGJlIDEgdG8gNTAgY2hhcmFjdGVycycpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnWWVhcic6XHJcblx0XHRcdFx0XHRcdC8qKiBPbmx5IGFsbG93IG51bWJlcnMgKi9cclxuXHRcdFx0XHRcdFx0ZmxkX3ZhbCA9IHV0aWxzLmlucHV0X251bWJlcnNfb25seShjdXJyVmFsKTtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS52YWwoZmxkX3ZhbCk7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgY2hrX3lyID0gJCh0aGlzKS52YWwoKS5sZW5ndGggPT09IDQgJiYgKCBwYXJzZUludCggJCh0aGlzKS52YWwoKSApID49IDE4MDAgJiYgcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA8PSAyMTAwICk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKCFjaGtfeXIpIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ011c3QgYmUgYSA0IGRpZ2l0IG51bWJlciBiZXR3ZWVuIDE4MDAgYW5kIDIxMDAnKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ0xlbmd0aCc6XHJcblx0XHRcdFx0XHRcdC8qKiBPbmx5IGFsbG93IG51bWJlcnMgKi9cclxuXHRcdFx0XHRcdFx0ZmxkX3ZhbCA9IHV0aWxzLmlucHV0X251bWJlcnNfb25seShjdXJyVmFsKTtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS52YWwoZmxkX3ZhbCk7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgY2hrX2xlbiA9ICggcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA+PSAxICYmIHBhcnNlSW50KCAkKHRoaXMpLnZhbCgpICkgPD0gOTk5ICk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKCAhY2hrX2xlbiApIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ011c3QgYmUgYSAzIGRpZ2l0IG51bWJlciBncmVhdGVyIHRoYW4gMScpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKiBUaGlzIGRlbGl2ZXJzIHRoZSBjdXN0b20gdmFsaWRhdGlvbiBtZXNzYWdlcyAqL1xyXG5cdFx0XHQvKiB2YXIgZmxkX2lzVmFsaWQgPSBmbGRfZWwuY2hlY2tWYWxpZGl0eSgpO1xyXG5cclxuXHRcdFx0aWYgKCFmbGRfaXNWYWxpZCkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGZsZF9lbC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcblxyXG5cdFx0XHR9ICovXHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi50cmFja19jaGFuZ2VzX2xpc3RpbmcoICQodGhpcykgKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2NoYW5nZScsICdzZWxlY3QnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtb2d2YWwnKTtcclxuXHRcdFx0dmFyIGN1cnJWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuXHRcdFx0LyoqIElmIHRoZSBjdXJyZW50IHZhbHVlIGlzbid0IHRoZSBvcmlnaW5hbCB2YWx1ZSwgbWFyayB0aGUgZmllbGQgKi9cclxuXHRcdFx0aWYgKG9nVmFsICE9PSBjdXJyVmFsKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygndmFsQ2hnJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygndmFsQ2hnJykubmV4dEFsbCgnLnZhbENoZ01zZycpLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi50cmFja19jaGFuZ2VzX2xpc3RpbmcoICQodGhpcykgKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0dHJhY2tfY2hhbmdlc19saXN0aW5nIDogKGpxT2JqKSA9PiB7XHJcblx0XHR2YXIgaGFzQ2hncyA9IGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuZmluZCgnaW5wdXQsIHNlbGVjdCcpLmhhc0NsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRpZiAoaGFzQ2hncykge1xyXG5cdFx0XHRqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmF0dHIoJ2RhdGEtaGFzY2hncycsIHRydWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0anFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLWhhc2NoZ3MnLCBmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGxfY2hlY2soKTtcclxuXHR9XHJcblx0LFxyXG5cdHJhdGluZ19ob3ZlciA6ICgpID0+IHtcclxuXHRcdC8qKiBIYXZlIHRvIHVzZSBkZWxlZ2F0ZWQgYXBwcm9hY2ggdG8gd29yayB3aXRoIGluamVjdGVkIGVsZW1lbnRzIChlLmcuLCBuZXcgbW92aWUpICovXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpXHJcblx0XHRcdC5vbignbW91c2VlbnRlcicsICcubW92aWVfcmF0aW5nX3N0YXInLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHJcblx0XHRcdFx0LyoqIE1ha2UgaG92ZXJlZCBpdGVtIGludG8gc2VsZWN0ZWQgc3RhdGUgKi9cclxuXHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczMyAnKTtcclxuXHJcblx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGhvdmVyZWQgaXRlbSBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0JCh0aGlzKS5wcmV2QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5odG1sKCcmIzk3MzMgJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9wcmV2U2liJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBcclxuXHRcdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGFmdGVyIGhvdmVyZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgdW5zZWxlY3RlZCBjb2xvclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuaHRtbCgnJiM5NzM0ICcpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfbmV4dFNpYicpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQub24oJ21vdXNlbGVhdmUnLCAnLm1vdmllX3JhdGluZ19zdGFyJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9wcmV2U2liJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9uZXh0U2liJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0LyoqIFJlc2V0IGFsbCBzdGFycyB0byBvcmlnaW5hbCBzdGF0ZSAqL1xyXG5cdFx0XHRcdGlmICggJCh0aGlzKS5oYXNDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKSApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzMzICcpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczNCAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnLm1vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykuaHRtbCgnJiM5NzMzICcpO1xyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoJy5tb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJykuaHRtbCgnJiM5NzM0ICcpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHQsXHJcblx0cmF0aW5nX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0Ly8gJCgnLm1vdmllX3JhdGluZ19zdGFyJykuY2xpY2soIGZ1bmN0aW9uIChlKSB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLm9uKCdjbGljaycsICcubW92aWVfcmF0aW5nX3N0YXInLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHR2YXIgbW92aWVfcmF0aW5nX3NlbCA9ICQodGhpcykuYXR0cignZGF0YS1yYXRpbmdzdGFyJyk7XHJcblx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9ICQodGhpcykuY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLXJlY2lkJyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvKiogRmlyZSBjaGFuZ2UgZXZlbnQgb24gYXNzb2NpYXRlZCBpbnB1dCAqL1xyXG5cdFx0XHQkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkudmFsKG1vdmllX3JhdGluZ19zZWwpLmNoYW5nZSgpO1xyXG5cclxuXHRcdFx0dmFyIG9nVmFsID0gJCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLmF0dHIoJ2RhdGEtb2d2YWwnKTtcclxuXHRcdFx0dmFyIGN1cnJWYWwgPSAkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHQvKiogQ2hhbmdlIGNvbG9ycyBvbiByYXRpbmcgZGlzcGxheSB0byBtaW1pYyBpbnB1dCBmaWVsZHMgKi9cclxuXHRcdFx0aWYgKG9nVmFsICE9PSBjdXJyVmFsKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcubW92aWVfcmF0aW5nX3N0YXJzJykuYWRkQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcubW92aWVfcmF0aW5nX3N0YXJzJykucmVtb3ZlQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKiBcclxuXHRcdFx0ICogTWFrZSBzZWxjdGVkIGl0ZW0gXHJcblx0XHRcdCAqIGFuZCBhbGwgc2libGluZyBpdGVtcyBiZWZvcmUgaXQgXHJcblx0XHRcdCAqIGludG8gdGhlIHNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJyk7XHJcblx0XHRcdCQodGhpcykucHJldkFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKTtcclxuXHJcblx0XHRcdC8qKiBcclxuXHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBhZnRlciBzZWxlY3RlZCBpdGVtIGludG8gdGhlIHVuc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgdW5zZWxlY3RlZCBjb2xvclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JCh0aGlzKS5uZXh0QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX29uZV9jaGVjayA6ICgpID0+IHtcclxuXHRcdC8vIGNoZWNrIGlmIGZpZWxkcyBhc3NvY2lhdGVkIHRvIGdpdmVuIHNhdmUgYnV0dG9uIGhhdmUgY2hhbmdlZFxyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGxfY2hlY2sgOiAoKSA9PiB7XHJcblx0XHRpZiAoICQoJy52YWxDaGcnKS5sZW5ndGggIT09IDAgKSB7XHJcblx0XHRcdCQoJy5zYXZlLWFsbCcpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG5cclxuXHRcdFx0LyoqIElmIGFuIC5tc2dfdW5zYXZlZENoZ3MgaXNuJ3QgYWxyZWFkeSBwcmVzZW50LCBhZGQgaXQgKi9cclxuXHRcdFx0aWYgKCAkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ191bnNhdmVkQ2hncycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c21hbGwgY2xhc3M9XCJtc2dfc2F2ZVN0YXR1cyBtc2dfdW5zYXZlZENoZ3MgbXNnLXdhcm5pbmdcIj5UaGVyZSBhcmUgdW5zYXZlZCBjaGFuZ2VzITwvc21hbGw+Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCQoJy5zYXZlLWFsbCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3Vuc2F2ZWRDaGdzJykucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX29uZV9jbGljayA6ICgpID0+IHtcclxuXHRcdCQoJy5zYXZlX2l0ZW0nKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0JCh0aGlzKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnNhdmVfb25lKG1vdmllX3JlY2lkKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGxfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuc2F2ZS1hbGwnKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0JCgnLnNhdmUtYWxsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnNhdmVfYWxsKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfaXRlbSA6IChtb3ZpZV9yZWNpZCwgaXNOZXcpID0+IHtcclxuXHRcdHZhciByZXFfb2JqID0ge1xyXG5cdFx0XHQnSUQnOiBtb3ZpZV9yZWNpZFxyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgcmVxX29ial9mbGRzID0ge307XHJcblx0XHR2YXIgY2hnZEZsZHNBcnIgPSAkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQpLmZpbmQoJy52YWxDaGcnKTtcclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBGb3IgZWFjaCBjaGFuZ2VkIGZpZWxkLCBcclxuXHRcdCAqIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlIHRoYXQgaGFzIHRoZSBhc3NvY2lhdGVkIGZpZWxkIG5hbWUgaW4gdGhlIGRhdGEgc3RvcmVcclxuXHRcdCAqIGFsb25nIHdpdGggdGhlIGZpZWxkIHZhbHVlIFxyXG5cdFx0ICogdG8gYnVpbGQgYW4gb2JqZWN0IG9mIGtleS92YWx1ZSBwYWlycyBcclxuXHRcdCAqIHRvIHNlbmQgaW4gZWFjaCByZXF1ZXN0XHJcblx0XHQgKi9cclxuXHJcblx0XHQkLmVhY2goY2hnZEZsZHNBcnIsIGZ1bmN0aW9uIChpZHhfZmxkLCBpdG1fZmxkKSB7XHJcblx0XHRcdHZhciBmbGROYW1lID0gJChpdG1fZmxkKS5hdHRyKCdkYXRhLWZsZG5hbWUnKTtcclxuXHRcdFx0dmFyIGZsZFZhbCA9ICQoaXRtX2ZsZCkudmFsKCk7XHJcblxyXG5cdFx0XHRpZiAoIGZsZE5hbWUgPT09ICdZZWFyJyB8IGZsZE5hbWUgPT09ICdMZW5ndGgnIHwgZmxkTmFtZSA9PT0gJ1JhdGluZycgKSB7XHJcblx0XHRcdFx0ZmxkVmFsID0gTnVtYmVyKGZsZFZhbCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJlcV9vYmpfZmxkc1tmbGROYW1lXSA9IGZsZFZhbDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHZhciBtb3ZpZV9hY3RpdmUgPSAkKCcjbW92aWVfYWN0aXZlXycgKyBtb3ZpZV9yZWNpZCkuaXMoJzpjaGVja2VkJyk7XHJcblxyXG5cdFx0cmVxX29ial9mbGRzWydBY3RpdmUnXSA9IG1vdmllX2FjdGl2ZTtcclxuXHJcblx0XHRyZXFfb2JqLmZpZWxkcyA9IHJlcV9vYmpfZmxkcztcclxuXHJcblx0XHR2YXIgcmVxX3N0ciA9IEpTT04uc3RyaW5naWZ5KHJlcV9vYmopO1xyXG5cclxuXHRcdHZhciBzYXZlSXRlbVByb20gPSBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKHByb21TdWNjZXNzLCBwcm9tRXJyb3IpIHtcclxuXHRcdFx0aWYgKGlzTmV3KSB7XHJcblx0XHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfY3JlYXRlX21vdmllJyxcclxuXHRcdFx0XHRcdHR5cGU6ICdQT1NUJyxcclxuXHRcdFx0XHRcdGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdFx0XHRkYXRhOiByZXFfc3RyLFxyXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3AsIHRleHRTdGF0dXMsIGpxWGhyKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR2YXIgbW92aWVfcmVjaWRfbmV3ID0gcmVzcC5pZDtcclxuXHJcblx0XHRcdFx0XHRcdC8qKiBSZXBsYWNlIG9jY3VyZW5jZXMgb2YgbWlsbGlzZWNvbmQgc3RhbXAgSUQgd2l0aCBuZXdseS1jcmVhdGVkIHJldHVybmVkIElEICovXHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cignaWQnLCAnbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KTtcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykuYXR0cignZGF0YS1yZWNpZCcsICdtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpO1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdFx0XHQgKiBOZWVkIHNvbHV0aW9uIGZvciBmaW5kaW5nIGFsbCBvY2N1cmVuY2VzIG9mIHRlbXBvcmFyeSBJRCB3aXRoIG5ldyBvbmUgXHJcblx0XHRcdFx0XHRcdCAqIFBvc3NpYmxlIHNvbHV0aW9uIGlzIHRvIGVsaW1pbmF0ZSBhbGwgdGhlIHBsYWNlcyB3aGVyZSB0aGF0IHVuaXF1ZSBJRCBpcyB1c2VkXHJcblx0XHRcdFx0XHRcdCAqIGkuZS4sIGp1c3QgcmVseSBvbiBwYXJlbnQgZWxlbWVudCBhdHRyaWJ1dGVzXHJcblx0XHRcdFx0XHRcdCAqL1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGVzICovXHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpLnJlbW92ZUNsYXNzKCdpcy1uZXcnKTtcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykuZmluZCgnLnZhbENoZywgLnZhbENoZy1jb2xvcnNPbmx5JykucmVtb3ZlQ2xhc3MoJ3ZhbENoZyB2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5maW5kKCcubW92aWVfcmF0aW5nX3N0YXJzJykucmVtb3ZlQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdHByb21TdWNjZXNzKHJlc3ApO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvciBldmVudCcpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2pxWEhSOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coanFYSFIpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dmFyIGVycl9kaXNwO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XHJcblx0XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBlcnJfc3RhdHVzQ29kZSArICdcXG4nICsgZXJyX2lzICsgJ1xcbicgKyBlcnJfbXNnO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGVycl9kaXNwID0ganFYSFIucmVzcG9uc2VUZXh0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRwcm9tRXJyb3IoKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3I6XFxuJyArIGVycl9kaXNwKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjb21wbGV0ZSBldmVudCcpO1xyXG5cdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQuYWpheCh7XHJcblx0XHRcdFx0XHR1cmw6ICcvLm5ldGxpZnkvZnVuY3Rpb25zL2F0X3VwZGF0ZV9tb3ZpZScsXHJcblx0XHRcdFx0XHR0eXBlOiAnUEFUQ0gnLFxyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRcdGRhdGE6IHJlcV9zdHIsXHJcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCwgdGV4dFN0YXR1cywganFYaHIpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3N1Y2Nlc3MgZXZlbnQnKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGUgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcudmFsQ2hnLCAudmFsQ2hnLWNvbG9yc09ubHknKS5yZW1vdmVDbGFzcygndmFsQ2hnIHZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRwcm9tU3VjY2VzcygpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvciBldmVudCcpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2pxWEhSOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coanFYSFIpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dmFyIGVycl9kaXNwO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XHJcblx0XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBlcnJfc3RhdHVzQ29kZSArICdcXG4nICsgZXJyX2lzICsgJ1xcbicgKyBlcnJfbXNnO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGVycl9kaXNwID0ganFYSFIucmVzcG9uc2VUZXh0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRwcm9tRXJyb3IoKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3I6XFxuJyArIGVycl9kaXNwKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChqcVhIUi5zdGF0dXMgPT09IDQwMSkge1xyXG5cdFx0XHRcdFx0XHRcdGF1dGguc2hvd19sb2dpbl9tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcclxuXHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHNhdmVJdGVtUHJvbTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lIDogKG1vdmllX3JlY2lkKSA9PiB7XHJcblx0XHR2YXIgc2F2ZUl0ZW0gPSBtb3ZpZV9hZG1pbi5zYXZlX2l0ZW0obW92aWVfcmVjaWQpO1xyXG5cclxuXHRcdHNhdmVJdGVtLnRoZW4oXHJcblx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQvKiogRmxhZyBhbiBlbGVtZW50IHNvIHRoZSBtZXNzYWdlIGNhbiBiZSBwbGFjZWQgY29udGV4dHVhbGx5ICovXHJcblx0XHRcdFx0Ly9cclxuXHJcblx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9vbmVfc3VjY2VzcycpO1xyXG5cdFx0XHR9LCBcclxuXHRcdFx0ZnVuY3Rpb24gKGVyck9iaikge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5maW5kKCdpbnB1dDpmb2N1cycpLmJsdXIoKTtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3NhdmluZ0FsbENoZ3MgbXNnLWluZm9cIj5TYXZpbmcgYWxsIGNoYW5nZXMuLi48L3NtYWxsPicpO1xyXG5cclxuXHRcdC8qKiBHYXRoZXIgY2hhbmdlcyBhbmQgc2VuZCBQQVRDSCByZXF1ZXN0IHRvIEFQSSBwZXIgbW92aWUgKi9cclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBDaGFuZ2VzIG5lZWQgdG8gYmUgZ3JvdXBlZCBwZXIgcmVjb3JkIChpLmUuLCBtb3ZpZSlcclxuXHRcdCAqIFxyXG5cdFx0ICogUHJldHR5IHN1cmUgdGhlIGJlc3Qgb3B0aW9uIGlzIHRvIFxyXG5cdFx0ICogZmxhZyBhIHBhcmVudCBlbGVtZW50IChlLmcuLCBcIi5tb3ZpZV9saXN0aW5nXCIpIG9uIGNoYW5nZXMsXHJcblx0XHQgKiB1c2luZyB0aGF0IGFzIHRoZSBzdGFydGluZyBwb2ludCBcclxuXHRcdCAqIHRvIHRyYXZlcnNlIGRvd24gY2hpbGRyZW5cclxuXHRcdCAqIGFuZCBjb2xsZWN0IGNoYW5nZXMuXHJcblx0XHQgKlxyXG5cdFx0ICogSWYgYWxsIGNoYW5nZXMgZm9yIGEgZ2l2ZW4gcmVjb3JkIGFyZSBiYWNrZWQgb3V0XHJcblx0XHQgKiBjbGVhciBmbGFnIG9uIHBhcmVudCBlbGVtZW50XHJcblx0XHQgKi9cclxuXHJcblx0XHR2YXIgY2hnZE1vdmllc0FyciA9ICQoJy5tb3ZpZV9saXN0aW5nW2RhdGEtaGFzY2hncz1cInRydWVcIl0nKTtcclxuXHJcblx0XHQkLmVhY2goY2hnZE1vdmllc0FyciwgZnVuY3Rpb24gKGlkeCwgaXRtKSB7XHJcblx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKGl0bSkuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAkKGl0bSkuaGFzQ2xhc3MoJ2lzLW5ldycpICkge1xyXG5cdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNhdmVJdGVtID0gbW92aWVfYWRtaW4uc2F2ZV9pdGVtKG1vdmllX3JlY2lkLCBpc05ldyk7XHJcblxyXG5cdFx0XHRzYXZlSXRlbS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gY2hnZE1vdmllc0Fyci5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9hbGxfc3VjY2VzcycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIFxyXG5cdFx0XHRcdGZ1bmN0aW9uIChlcnJPYmopIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHN0YXR1c19tc2cgOiAoc3RhdHVzX21zZykgPT4ge1xyXG5cdFx0c3dpdGNoIChzdGF0dXNfbXNnKSB7XHJcblx0XHRcdGNhc2UgJ3NhdmVfb25lX3N1Y2Nlc3MnOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9vbmVfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfc3VjY2Vzcyc6XHJcblx0XHRcdFx0LyoqIFJlbW92ZSBhbnkgbWVzc2FnZXMgYWJvdXQgc2F2ZSBzdGF0dXMgKi9cclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ19jaGdzU2F2ZWQgbXNnLXN1Y2Nlc3NcIj5BbGwgY2hhbmdlcyBzYXZlZC48L3NtYWxsPicpO1xyXG5cclxuXHRcdFx0XHQvKiogQWZ0ZXIgc3BlY2lmaWNlZCBkZWxheSwgZmFkZSB0aGUgbWVzc2FnZSwgdGhlbiByZW1vdmUgZnJvbSBET00gKi9cclxuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfY2hnc1NhdmVkJykuZmFkZU91dCgnc2xvdycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9LCAyMDAwKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3NhdmVfYWxsX2Vycm9yJzpcclxuXHRcdFx0XHQvLyBcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG59KS5pbml0KCk7XHJcbiJdfQ==
