var movie_admin="object"==typeof movie_admin?movie_admin:{};(movie_admin={init:()=>{auth.sesh_check().then(function(){movie_admin.sesh_success()}).catch(()=>{movie_admin.sesh_fail()})},sesh_success:()=>{auth.logout_init(),movie_admin.load_movie_list()},sesh_fail:()=>{$("#movie_admin .status-container").alert("close");$("#movie_admin_list").prepend('<div class="status-container alert alert-warning fade show" role="alert"><span class="status-msg"><a id="log_in_prompt" href="#">Log in to edit</a></span></div>'),auth.login_modal_init()},load_movie_list:()=>{$("#movie_admin .status-msg").text("Movies loading"),$("#movie_admin_list_actions").css("visibility","visible"),$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(e){e.length>0&&$.each(e,function(a,t){var i=t.id,s=t.fields,l=s.Title,o=s.Year,n=s.Length,r=s.Rating,m=s.Format,v=s.Active,_="";v&&(_=" checked");var c,d,g,h=movie_admin.seeing_stars(r);switch(m){case"DVD":c="selected";break;case"Streaming":d="selected";break;case"VHS":g="selected"}let u='<div class="movie-listing" '+`data-recid="${i}`+'data-haschgs="false"'+`id="movie_listing_${i}"`+'><div class="movie_title form-field-container">'+`<label for="movie_title_${i}">`+'Title</label><small class="text-muted">(50 characters or less)</small>'+`<input id="movie_title_${i}"`+` value="${l}"`+' data-fldname="Title"'+` data-ogval="${l}"`+' class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year form-field-container">'+`<label for="movie_year_${i}">`+'Year</label><small class="text-muted">(from 1800 to 2100)</small>'+`<input id="movie_year_${i}"`+` value="${o}"`+' data-fldname="Year"'+` data-ogval="${o}"`+' class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container">'+`<label for="movie_length_${i}">`+'Length</label><small class="text-muted">(in minutes)</small>'+`<input id="movie_length_${i}"`+` value="${n}"`+' data-fldname="Length"'+` data-ogval="${n}"`+' class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container">'+`<label for="movie_rating_${i}">`+'Rating</label><small class="text-muted">(Select a rating)</small>'+h+`<input id="movie_rating_${i}"`+` value="${r}"`+' data-fldname="Rating"'+` data-ogval="${r}"`+' class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format form-field-container">'+`<label for="movie_format_${i}">`+"Format</label>"+`<select id="movie_format_${i}" class="form-control"`+' data-fldname="Format"'+` data-ogval="${m}"`+">"+`<option value="DVD" ${c}>DVD</option>`+`<option value="Streaming" ${d}>Streaming</option>`+`<option value="VHS" ${g}>VHS</option>`+'</select></div><div class="movie_active form-field-container custom-control custom-checkbox">'+`<input id="movie_active_${i}"`+' data-fldname="Active"'+` data-ogval="${v}"`+' class="custom-control-input" type="checkbox"'+_+"><label"+` for="movie_active_${i}"`+' class="lbl_checkbox custom-control-label">Active</label></div></div></div>';$("#movie_admin_list").append(u),a+1===e.length&&movie_admin.ready()})}).fail(function(e,a,t){$("#movie_admin .status-container").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t);$("#movie_admin_list").prepend('<div class="status-container alert alert-warning fade show" role="alert"><span class="status-msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:()=>{$("#movie_admin .status-container").alert("close"),movie_admin.add_movie_click(),$(".add-movie").prop("disabled",!1),movie_admin.track_changes_field(),movie_admin.rating_hover(),movie_admin.rating_click(),movie_admin.save_all_click()},add_movie_click:()=>{$(".add-movie").click(function(){movie_admin.add_movie(),$("input").first().focus()})},add_movie:()=>{var e=Date.now(),a=movie_admin.seeing_stars("1");let t='<div class="movie-listing is-new form-group highlight" '+`data-recid="${e}"`+'data-haschgs="false"'+`id="movie_listing_${e}"`+'class="movie-listing-new"><div class="movie_title form-field-container">'+`<label for="movie_title_${e}">`+'Title</label><small class="text-muted">(50 characters or less)</small>'+`<input id="movie_title_${e}"`+' value="" data-fldname="Title" class="form-control" type="text" minlength="1" maxlength="50" required></div><div class="movie_details"><div class="movie_year form-field-container">'+`<label for="movie_year_${e}">`+'Year</label><small class="text-muted">(from 1800 to 2100)</small>'+`<input id="movie_year_${e}"`+' value="" data-fldname="Year" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container">'+`<label for="movie_length_${e}">`+'Length</label><small class="text-muted">(in minutes)</small>'+`<input id="movie_length_${e}"`+' value="" data-fldname="Length" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container">'+`<label for="movie_rating_${e}">`+'Rating</label><small class="text-muted">(Select a rating)</small>'+a+`<input id="movie_rating_${e}"`+' value="1" data-fldname="Rating" class="form-control valChg" type="number" min="1" max="5" hidden required></div><div class="movie_format form-field-container">'+`<label for="movie_format_${e}">`+"Format</label>"+`<select id="movie_format_${e}" class="form-control valChg"`+' data-fldname="Format"><option value="DVD">DVD</option><option value="Streaming" selected>Streaming</option><option value="VHS">VHS</option></select></div><div class="movie_active form-field-container custom-control custom-checkbox">'+`<input id="movie_active_${e}"`+' data-fldname="Active" class="custom-control-input" type="checkbox" checked><label'+` for="movie_active_${e}"`+' class="lbl_checkbox custom-control-label">Active</label></div></div></div>';$("#movie_admin_list").prepend(t),$(".is-new .movie_rating_stars").addClass("valChg-colorsOnly"),setTimeout(function(){document.getElementById(`movie_listing_${e}`).classList.remove("highlight")},500)},seeing_stars:e=>{var a="";a+='<div class="movie_rating_stars">';for(var t=1,i=0;i<e;i++)a+=`<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="${t}">&#9733</span>`,t++;var s=5-e;for(i=0;i<s;i++)a+=`<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="${t}">&#9734</span>`,t++;return a+="</div>"},track_changes_field:()=>{$("#movie_admin_list").on("input change","input",function(){var e,a=$(this).attr("data-ogval"),t=$(this).val(),i=$(this).attr("data-fldname"),s=$(this)[0];if(s.setCustomValidity(""),a!==t)switch($(this).addClass("valChg"),i){case"Title":$(this).val().length>0&&$(this).val().length<51?s.setCustomValidity(""):s.setCustomValidity("Title must be 1 to 50 characters");break;case"Year":e=utils.input_numbers_only(t),$(this).val(e),4===$(this).val().length&&parseInt($(this).val())>=1800&&parseInt($(this).val())<=2100?s.setCustomValidity(""):s.setCustomValidity("Must be a 4 digit number between 1800 and 2100");break;case"Length":e=utils.input_numbers_only(t),$(this).val(e),parseInt($(this).val())>=1&&parseInt($(this).val())<=999?s.setCustomValidity(""):s.setCustomValidity("Must be a 3 digit number greater than 1")}else $(this).removeClass("valChg").nextAll(".valChgMsg").remove();movie_admin.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),movie_admin.track_changes_listing($(this))})},track_changes_listing:e=>{e.closest(".movie-listing").find("input, select").hasClass("valChg")?e.closest(".movie-listing").attr("data-haschgs",!0):e.closest(".movie-listing").attr("data-haschgs",!1),movie_admin.save_all_check()},rating_hover:()=>{$("#movie_admin_list").on("mouseenter",".movie_rating_star",function(){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")}).on("mouseleave",".movie_rating_star",function(){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:()=>{$("#movie_admin_list").on("click",".movie_rating_star",function(){var e=$(this).attr("data-ratingstar"),a=$(this).closest(".movie-listing").attr("data-recid");$("#movie_rating_"+a).val(e).change(),$("#movie_rating_"+a).attr("data-ogval")!==$("#movie_rating_"+a).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:()=>{},save_all_check:()=>{0!==$(".valChg").length?($(".save-all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save-all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:()=>{$(".save_item").click(function(){$(this).prop("disabled",!0);var e=$(this).attr("data-recid");movie_admin.save_one(e)})},save_all_click:()=>{$(".save-all").click(function(){$(this).prop("disabled",!0),movie_admin.save_all()})},save_item:(e,a)=>{var t={ID:e},i={},s=$("#movie_listing_"+e).find(".valChg");$.each(s,function(e,a){var t=$(a).attr("data-fldname"),s=$(a).val();"Year"===t|"Length"===t|"Rating"===t&&(s=Number(s)),i[t]=s});var l=$("#movie_active_"+e).is(":checked");i.Active=l,t.fields=i;var o=JSON.stringify(t);return new Promise(function(t,i){a?$.ajax({url:"/.netlify/functions/at_create_movie",type:"POST",contentType:"application/json",data:o,success:function(a){var i=a.id;$("#movie_listing_"+e).attr("id","movie_listing_"+i),$("#movie_listing_"+i).attr("data-recid","movie_listing_"+i),$("#movie_listing_"+i).removeClass("is-new"),$("#movie_listing_"+i).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+i).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),t(a)},error:function(e,a,t){var s;if(console.error("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;i(),console.error("Error:\n"+s)}}):$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:o,success:function(){$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+e).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),t()},error:function(e,a,t){var s;if(console.error("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;i(),console.error("Error:\n"+s),401===e.status&&auth.show_login_modal()}})})},save_one:e=>{movie_admin.save_item(e).then(function(){movie_admin.status_msg("save_one_success")},function(e){console.error(e)})},save_all:()=>{$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var e=$('.movie-listing[data-haschgs="true"]');$.each(e,function(a,t){var i=!1,s=$(t).attr("data-recid");$(t).hasClass("is-new")&&(i=!0),movie_admin.save_item(s,i).then(function(){a+1===e.length&&movie_admin.status_msg("save_all_success")},function(e){console.error(e)})})},status_msg:e=>{switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21vZHVsZXMvbW92aWVfYWRtaW4uanMiXSwibmFtZXMiOlsibW92aWVfYWRtaW4iLCJpbml0IiwiYXV0aCIsInNlc2hfY2hlY2siLCJ0aGVuIiwic2VzaF9zdWNjZXNzIiwiY2F0Y2giLCJzZXNoX2ZhaWwiLCJsb2dvdXRfaW5pdCIsImxvYWRfbW92aWVfbGlzdCIsIiQiLCJhbGVydCIsInByZXBlbmQiLCJsb2dpbl9tb2RhbF9pbml0IiwidGV4dCIsImNzcyIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwIiwibGVuZ3RoIiwiZWFjaCIsImlkeCIsIml0bSIsIm1vdmllX3JlY2lkIiwiaWQiLCJtb3ZpZV9vYmoiLCJmaWVsZHMiLCJtb3ZpZV90aXRsZSIsIlRpdGxlIiwibW92aWVfeWVhciIsIlllYXIiLCJtb3ZpZV9sZW5ndGgiLCJMZW5ndGgiLCJtb3ZpZV9yYXRpbmciLCJSYXRpbmciLCJtb3ZpZV9mb3JtYXQiLCJGb3JtYXQiLCJtb3ZpZV9hY3RpdmUiLCJBY3RpdmUiLCJtb3ZpZV9hY3RpdmVfY2hlY2tlZCIsIkRWRHNlbCIsIlNUUnNlbCIsIlZIU3NlbCIsIm1vdmllX3JhdGluZ19zdGFycyIsInNlZWluZ19zdGFycyIsIm1vdmllX2xpc3RpbmciLCJhcHBlbmQiLCJyZWFkeSIsImZhaWwiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNvbnNvbGUiLCJsb2ciLCJhZGRfbW92aWVfY2xpY2siLCJwcm9wIiwidHJhY2tfY2hhbmdlc19maWVsZCIsInJhdGluZ19ob3ZlciIsInJhdGluZ19jbGljayIsInNhdmVfYWxsX2NsaWNrIiwiY2xpY2siLCJhZGRfbW92aWUiLCJmaXJzdCIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsImFkZENsYXNzIiwic2V0VGltZW91dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyYXRpbmdzdGFyIiwiaSIsIm1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCIsIm9uIiwiZmxkX3ZhbCIsIm9nVmFsIiwidGhpcyIsImF0dHIiLCJjdXJyVmFsIiwidmFsIiwiZmxkX25hbWUiLCJmbGRfZWwiLCJzZXRDdXN0b21WYWxpZGl0eSIsInV0aWxzIiwiaW5wdXRfbnVtYmVyc19vbmx5IiwicGFyc2VJbnQiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImNsb3Nlc3QiLCJmaW5kIiwiaGFzQ2xhc3MiLCJzYXZlX2FsbF9jaGVjayIsImh0bWwiLCJwcmV2QWxsIiwic2libGluZ3MiLCJtb3ZpZV9yYXRpbmdfc2VsIiwiY2hhbmdlIiwic2F2ZV9vbmVfY2hlY2siLCJzYXZlX29uZV9jbGljayIsInNhdmVfb25lIiwic2F2ZV9hbGwiLCJzYXZlX2l0ZW0iLCJpc05ldyIsInJlcV9vYmoiLCJJRCIsInJlcV9vYmpfZmxkcyIsImNoZ2RGbGRzQXJyIiwiaWR4X2ZsZCIsIml0bV9mbGQiLCJmbGROYW1lIiwiZmxkVmFsIiwiTnVtYmVyIiwiaXMiLCJyZXFfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlByb21pc2UiLCJwcm9tU3VjY2VzcyIsInByb21FcnJvciIsInR5cGUiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWNjZXNzIiwibW92aWVfcmVjaWRfbmV3IiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsInJlc3BvbnNlVGV4dCIsInN0YXR1cyIsInNob3dfbG9naW5fbW9kYWwiLCJzdGF0dXNfbXNnIiwiZXJyT2JqIiwiY2hnZE1vdmllc0FyciIsIndpbmRvdyIsImZhZGVPdXQiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLFlBQXlDLGlCQUFsQixZQUErQkEsWUFBYyxJQUN2RUEsWUFBYyxDQUNkQyxLQUFPLEtBQ05DLEtBQUtDLGFBQ0pDLEtBQU0sV0FDTkosWUFBWUssaUJBQ1ZDLE1BQU8sS0FFVE4sWUFBWU8sZUFJZEYsYUFBZSxLQUNkSCxLQUFLTSxjQUNMUixZQUFZ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QUFFLGtDQUFrQ0UsUUFBUSwwRkFpQjVDLElBQUk4SCxFQUFnQmhJLEVBQUUsdUNBRXRCQSxFQUFFWSxLQUFLb0gsRUFBZSxTQUFVbkgsRUFBS0MsR0FDcEMsSUFBSW9GLEdBQVEsRUFDUm5GLEVBQWNmLEVBQUVjLEdBQUt5RCxLQUFLLGNBRXpCdkUsRUFBRWMsR0FBS3dFLFNBQVMsWUFDcEJZLEdBQVEsR0FHTTVHLFlBQVkyRyxVQUFVbEYsRUFBYW1GLEdBRXpDeEcsS0FDUixXQUNLbUIsRUFBSSxJQUFNbUgsRUFBY3JILFFBQzNCckIsWUFBWXdJLFdBQVcscUJBR3pCLFNBQVVDLEdBQ1RuRixRQUFRNEUsTUFBTU8sUUFNbEJELFdBQWNBLElBQ2IsT0FBUUEsR0FDUCxJQUFLLG1CQUdMLElBQUssaUJBRUwsTUFDQSxJQUFLLG1CQUVKOUgsRUFBRSxrREFBa0QrRCxTQUVwRC9ELEVBQUUsa0NBQWtDRSxRQUFRLHNGQUc1QytILE9BQU90RSxXQUFZLFdBQ2xCM0QsRUFBRSxpREFBaURrSSxRQUFRLE9BQVEsV0FDbEVsSSxFQUFFc0UsTUFBTVAsWUFFUCxTQU9KeEUiLCJmaWxlIjoianMvbW9kdWxlcy9tb3ZpZV9hZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogbW92aWUtYWRtaW4uanMgKi9cclxudmFyIG1vdmllX2FkbWluID0gKCB0eXBlb2YgKG1vdmllX2FkbWluKSA9PT0gJ29iamVjdCcgKSA/IG1vdmllX2FkbWluIDoge307XHJcbihtb3ZpZV9hZG1pbiA9IHtcclxuXHRpbml0IDogKCkgPT4ge1xyXG5cdFx0YXV0aC5zZXNoX2NoZWNrKClcclxuXHRcdC50aGVuKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG1vdmllX2FkbWluLnNlc2hfc3VjY2VzcygpO1xyXG5cdFx0fSkuY2F0Y2goICgpID0+IHtcclxuXHRcdFx0LyoqIE5vIHZhbGlkIHNlc3Npb24gZm91bmQgKi9cclxuXHRcdFx0bW92aWVfYWRtaW4uc2VzaF9mYWlsKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNlc2hfc3VjY2VzcyA6ICgpID0+IHtcclxuXHRcdGF1dGgubG9nb3V0X2luaXQoKTtcclxuXHRcdG1vdmllX2FkbWluLmxvYWRfbW92aWVfbGlzdCgpO1xyXG5cdH1cclxuXHQsXHJcblx0c2VzaF9mYWlsIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluIC5zdGF0dXMtY29udGFpbmVyJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGNsYXNzPVwic3RhdHVzLWNvbnRhaW5lciBhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInN0YXR1cy1tc2dcIj48YSBpZD1cImxvZ19pbl9wcm9tcHRcIiBocmVmPVwiI1wiPkxvZyBpbiB0byBlZGl0PC9hPjwvc3Bhbj4nICtcclxuXHRcdFx0JzwvZGl2Pic7XHJcblx0XHRcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykucHJlcGVuZChlcnJNc2cpO1xyXG5cclxuXHRcdGF1dGgubG9naW5fbW9kYWxfaW5pdCgpO1xyXG5cdH1cclxuXHQsXHJcblx0bG9hZF9tb3ZpZV9saXN0IDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluIC5zdGF0dXMtbXNnJykudGV4dCgnTW92aWVzIGxvYWRpbmcnKTtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnMnKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG5cclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfZ2V0X21vdmllP3JlY2lkPWFsbCcsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uIChyZXNwKSB7XHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHQvLyB2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlIFx0PSBtb3ZpZV9vYmouQWN0aXZlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnJztcclxuXHRcdFx0XHRcdGlmIChtb3ZpZV9hY3RpdmUpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnIGNoZWNrZWQnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSBtb3ZpZV9hZG1pbi5zZWVpbmdfc3RhcnMobW92aWVfcmF0aW5nKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgRFZEc2VsLCBTVFJzZWwsIFZIU3NlbDtcclxuXHRcdFx0XHRcdHN3aXRjaCAobW92aWVfZm9ybWF0KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ0RWRCc6XHJcblx0XHRcdFx0XHRcdFx0RFZEc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1N0cmVhbWluZyc6XHJcblx0XHRcdFx0XHRcdFx0U1RSc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1ZIUyc6XHJcblx0XHRcdFx0XHRcdFx0VkhTc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGxldCBtb3ZpZV9saXN0aW5nID0gYDxkaXYgY2xhc3M9XCJtb3ZpZS1saXN0aW5nXCIgYCArXHJcblx0XHRcdFx0XHRcdFx0YGRhdGEtcmVjaWQ9XCIke21vdmllX3JlY2lkfWAgK1xyXG5cdFx0XHRcdFx0XHRcdGBkYXRhLWhhc2NoZ3M9XCJmYWxzZVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YGlkPVwibW92aWVfbGlzdGluZ18ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGBUaXRsZWAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPig1MCBjaGFyYWN0ZXJzIG9yIGxlc3MpPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8aW5wdXQgaWQ9XCJtb3ZpZV90aXRsZV8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGAgdmFsdWU9XCIke21vdmllX3RpdGxlfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiVGl0bGVcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtb2d2YWw9XCIke21vdmllX3RpdGxlfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgIHR5cGU9XCJ0ZXh0XCIgbWlubGVuZ3RoPVwiMVwiIG1heGxlbmd0aD1cIjUwXCJgICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0YDwvZGl2PmAgK1xyXG5cdFx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfZGV0YWlsc1wiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJtb3ZpZV95ZWFyIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfeWVhcl8ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGBZZWFyYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8L2xhYmVsPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfeWVhcl8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCB2YWx1ZT1cIiR7bW92aWVfeWVhcn1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiWWVhclwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLW9ndmFsPVwiJHttb3ZpZV95ZWFyfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIElucHV0IHR5cGU9XCJudW1iZXJcIiBoYXMgdW5kZXNpcmFibGUgc2lkZSBlZmZlY3RzICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMTgwMFwiIG1heD1cIjIxMDBcImAgKyBcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIFRoaXMgcGF0dGVybiBpcyBwZXJmZWN0IGJ1dCB0cmlnZ2VyaW5nIHRoZSBudW1lcmljIGtleXBhZCBvbiBtb2JpbGUgaXMgcGVyZmVjdGVyICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYCB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZHs0fVwiIG1heGxlbmd0aD1cIjRcIiByZXF1aXJlZGAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qKiBGdW4gZmFjdDogVGhpcyBwYXR0ZXJuIHdpbGwgdHJpZ2dlciB0aGUgbnVtZXJpYyBrZXlwYWQgb24gbW9iaWxlICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWRgICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YExlbmd0aGAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oaW4gbWludXRlcyk8L3NtYWxsPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfbGVuZ3RoXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIHZhbHVlPVwiJHttb3ZpZV9sZW5ndGh9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIkxlbmd0aFwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLW9ndmFsPVwiJHttb3ZpZV9sZW5ndGh9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIHR5cGU9XCJ0ZXh0XCIgcGF0dGVybj1cIlxcXFxkKlwiIG1heGxlbmd0aD1cIjNcIiByZXF1aXJlZGAgKyBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0YDwvZGl2PmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJtb3ZpZV9yYXRpbmcgZm9ybS1maWVsZC1jb250YWluZXJcIj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxsYWJlbCBmb3I9XCJtb3ZpZV9yYXRpbmdfJHttb3ZpZV9yZWNpZH1cIj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgUmF0aW5nYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8L2xhYmVsPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihTZWxlY3QgYSByYXRpbmcpPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCB2YWx1ZT1cIiR7bW92aWVfcmF0aW5nfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJSYXRpbmdcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1vZ3ZhbD1cIiR7bW92aWVfcmF0aW5nfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW5gICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfZm9ybWF0IGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfZm9ybWF0XyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YEZvcm1hdGAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJHttb3ZpZV9yZWNpZH1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1vZ3ZhbD1cIiR7bW92aWVfZm9ybWF0fVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YDxvcHRpb24gdmFsdWU9XCJEVkRcIiAke0RWRHNlbH0+RFZEPC9vcHRpb24+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YDxvcHRpb24gdmFsdWU9XCJTdHJlYW1pbmdcIiAke1NUUnNlbH0+U3RyZWFtaW5nPC9vcHRpb24+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YDxvcHRpb24gdmFsdWU9XCJWSFNcIiAke1ZIU3NlbH0+VkhTPC9vcHRpb24+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8L3NlbGVjdD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfYWN0aXZlIGZvcm0tZmllbGQtY29udGFpbmVyIGN1c3RvbS1jb250cm9sIGN1c3RvbS1jaGVja2JveFwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfYWN0aXZlXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIkFjdGl2ZVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLW9ndmFsPVwiJHttb3ZpZV9hY3RpdmV9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgdHlwZT1cImNoZWNrYm94XCJgICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfYWN0aXZlX2NoZWNrZWQgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGxhYmVsYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBmb3I9XCJtb3ZpZV9hY3RpdmVfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJsYmxfY2hlY2tib3ggY3VzdG9tLWNvbnRyb2wtbGFiZWxcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YEFjdGl2ZWAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRcdGA8L2Rpdj5gXHJcblx0XHRcdFx0XHQ7XHJcblxyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5hcHBlbmQobW92aWVfbGlzdGluZyk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlkeCsxID09PSByZXNwLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9hZG1pbi5yZWFkeSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KS5mYWlsKCBmdW5jdGlvbiAoIGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApIHtcclxuXHRcdFx0JCgnI21vdmllX2FkbWluIC5zdGF0dXMtY29udGFpbmVyJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblxyXG5cdFx0XHR2YXIgZXJyTXNnID0gJzxkaXYgY2xhc3M9XCJzdGF0dXMtY29udGFpbmVyIGFsZXJ0IGFsZXJ0LXdhcm5pbmcgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+JyArXHJcblx0XHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJzdGF0dXMtbXNnXCI+VGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHRoZSBtb3ZpZXMuPC9icj5UcnkgcmVmcmVzaGluZyB0aGUgcGFnZSBhbmQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHVzLjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JztcclxuXHRcdFx0XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykucHJlcGVuZChlcnJNc2cpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRyZWFkeSA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbiAuc3RhdHVzLWNvbnRhaW5lcicpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdG1vdmllX2FkbWluLmFkZF9tb3ZpZV9jbGljaygpO1xyXG5cdFx0JCgnLmFkZC1tb3ZpZScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG5cdFx0XHJcblx0XHRtb3ZpZV9hZG1pbi50cmFja19jaGFuZ2VzX2ZpZWxkKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5yYXRpbmdfaG92ZXIoKTtcclxuXHRcdG1vdmllX2FkbWluLnJhdGluZ19jbGljaygpO1xyXG5cdFx0Ly8gbW92aWVfYWRtaW4uc2F2ZV9vbmVfY2xpY2soKTtcclxuXHRcdG1vdmllX2FkbWluLnNhdmVfYWxsX2NsaWNrKCk7XHJcblx0fVxyXG5cdCxcclxuXHRhZGRfbW92aWVfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuYWRkLW1vdmllJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0bW92aWVfYWRtaW4uYWRkX21vdmllKCk7XHJcblxyXG5cdFx0XHQkKCdpbnB1dCcpLmZpcnN0KCkuZm9jdXMoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0YWRkX21vdmllIDogKCkgPT4ge1xyXG5cdFx0dmFyIG1vdmllX3JlY2lkID0gRGF0ZS5ub3coKTtcclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSBtb3ZpZV9hZG1pbi5zZWVpbmdfc3RhcnMoJzEnKTtcclxuXHJcblx0XHRsZXQgbW92aWVfbGlzdGluZyA9IGA8ZGl2IGNsYXNzPVwibW92aWUtbGlzdGluZyBpcy1uZXcgZm9ybS1ncm91cCBoaWdobGlnaHRcIiBgICtcclxuXHRcdFx0XHRgZGF0YS1yZWNpZD1cIiR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRgZGF0YS1oYXNjaGdzPVwiZmFsc2VcImAgK1xyXG5cdFx0XHRcdGBpZD1cIm1vdmllX2xpc3RpbmdfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdGBjbGFzcz1cIm1vdmllLWxpc3RpbmctbmV3XCJgICtcclxuXHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfdGl0bGUgZm9ybS1maWVsZC1jb250YWluZXJcIj5gICtcclxuXHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfdGl0bGVfJHttb3ZpZV9yZWNpZH1cIj5gICtcclxuXHRcdFx0XHRcdFx0YFRpdGxlYCArXHJcblx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdGA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPmAgK1xyXG5cdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX3RpdGxlXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0YCB2YWx1ZT1cIlwiYCArXHJcblx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiVGl0bGVcImAgK1xyXG5cdFx0XHRcdFx0XHRgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJgICtcclxuXHRcdFx0XHRcdFx0YCB0eXBlPVwidGV4dFwiIG1pbmxlbmd0aD1cIjFcIiBtYXhsZW5ndGg9XCI1MFwiIHJlcXVpcmVkYCArIFxyXG5cdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbHNcIj5gICtcclxuXHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfeWVhciBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX3llYXJfJHttb3ZpZV9yZWNpZH1cIj5gICtcclxuXHRcdFx0XHRcdFx0XHRgWWVhcmAgK1xyXG5cdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oZnJvbSAxODAwIHRvIDIxMDApPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX3llYXJfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgdmFsdWU9XCJcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiWWVhclwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWRgICsgXHJcblx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0YExlbmd0aGAgK1xyXG5cdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oaW4gbWludXRlcyk8L3NtYWxsPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfbGVuZ3RoXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIHZhbHVlPVwiXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIkxlbmd0aFwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCIzXCIgcmVxdWlyZWRgICsgXHJcblx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfcmF0aW5nXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0YFJhdGluZ2AgK1xyXG5cdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oU2VsZWN0IGEgcmF0aW5nKTwvc21hbGw+YCArXHJcblx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArXHJcblx0XHRcdFx0XHRcdGA8aW5wdXQgaWQ9XCJtb3ZpZV9yYXRpbmdfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgdmFsdWU9XCIxXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIlJhdGluZ1wiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbCB2YWxDaGdcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1XCIgaGlkZGVuIHJlcXVpcmVkYCArIFxyXG5cdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdGBGb3JtYXRgICtcclxuXHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdGA8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XyR7bW92aWVfcmVjaWR9XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgdmFsQ2hnXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIkZvcm1hdFwiYCArXHJcblx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRgPG9wdGlvbiB2YWx1ZT1cIkRWRFwiPkRWRDwvb3B0aW9uPmAgK1xyXG5cdFx0XHRcdFx0XHRcdGA8b3B0aW9uIHZhbHVlPVwiU3RyZWFtaW5nXCIgc2VsZWN0ZWQ+U3RyZWFtaW5nPC9vcHRpb24+YCArXHJcblx0XHRcdFx0XHRcdFx0YDxvcHRpb24gdmFsdWU9XCJWSFNcIj5WSFM8L29wdGlvbj5gICtcclxuXHRcdFx0XHRcdFx0YDwvc2VsZWN0PmAgK1xyXG5cdFx0XHRcdFx0YDwvZGl2PmAgK1xyXG5cdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJtb3ZpZV9hY3RpdmUgZm9ybS1maWVsZC1jb250YWluZXIgY3VzdG9tLWNvbnRyb2wgY3VzdG9tLWNoZWNrYm94XCI+YCArXHJcblx0XHRcdFx0XHRcdGA8aW5wdXQgaWQ9XCJtb3ZpZV9hY3RpdmVfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiQWN0aXZlXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgdHlwZT1cImNoZWNrYm94XCJgICsgXHJcblx0XHRcdFx0XHRcdFx0YCBjaGVja2VkYCArXHJcblx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdGA8bGFiZWxgICtcclxuXHRcdFx0XHRcdFx0XHRgIGZvcj1cIm1vdmllX2FjdGl2ZV8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImxibF9jaGVja2JveCBjdXN0b20tY29udHJvbC1sYWJlbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRgQWN0aXZlYCArXHJcblx0XHRcdFx0XHRcdGA8L2xhYmVsPmAgK1xyXG5cdFx0XHRcdFx0YDwvZGl2PmAgK1xyXG5cdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0YDwvZGl2PmBcclxuXHRcdDtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLnByZXBlbmQobW92aWVfbGlzdGluZyk7XHJcblx0XHQkKCcuaXMtbmV3IC5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5hZGRDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFxyXG5cdFx0LyoqIFxyXG5cdFx0ICogU2luY2UgdGhlIHNldCBvZiBlbGVtZW50cyBmb3IgYSBuZXcgbGlzdGluZyBhcmUgY3JlYXRlZCBpbiB0aGUgZXhhY3Qgc2FtZSBwb3NpdGlvbiBcclxuXHRcdCAqIGFzIHRoZSBleGlzdGluZyB0b3Btb3N0IGVsZW1lbnRzLCBhIG5ldyBsaXN0aW5nIGhhcyBhIGNsYXNzIGRlc2lnbmVkIHRvIGRyYXcgYXR0ZW50aW9uIFxyXG5cdFx0ICogdG8gdGhlIGJsb2NrIG9mIG5ld2x5IGNyZWF0ZWQgZWxlbWVudHMuIFRoZSBzcGVjaWFsIGNsYXNzIGlzIHJlbW92ZWQsIGFsbG93aW5nIENTUyB0cmFuc2l0aW9uc1xyXG5cdFx0ICogdG8gaGFuZGxlIHRoZSBhbmltYXRpb24uIFxyXG5cdFx0ICogQSBzbGlnaHQgZGVsYXkgaXMgcmVxdWlyZWQsIG90aGVyd2lzZSB0aGUgc3R5bGVzIGZvciB0aGUgc3BlY2lhbCBjbGFzcyBhcmUgbmV2ZXIgdmlzaWJsZS5cclxuXHRcdCAqL1xyXG5cdFx0c2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbW92aWVfbGlzdGluZ18ke21vdmllX3JlY2lkfWApLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xyXG5cdFx0fSwgNTAwKTtcclxuXHR9XHJcblx0LFxyXG5cdHNlZWluZ19zdGFycyA6IChtb3ZpZV9yYXRpbmcpID0+IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhciBBU0NJSSBjb2Rlc1xyXG5cdFx0ICogLSAtIC0gLSAtIC0gLSAtIC1cclxuXHRcdCAqIFNvbGlkIHN0YXI6ICYjOTczMztcclxuXHRcdCAqIE91dGxpbmUgc3RhcjogJiM5NzM0O1xyXG5cdFx0ICovXHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJzID0gJyc7XHJcblx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyc1wiPic7XHJcblx0XHQvKiogU2V0IHRoZSBsb3dlc3QgdmFsdWUgKi9cclxuXHRcdHZhciByYXRpbmdzdGFyID0gMTtcclxuXHRcdC8qKiBBZGQgYSBzZWxlY3RlZCBpbmRpY2F0b3IgdG8gdGhlIG9iamVjdCB1bnRpbCB0aGUgc2VsZWN0ZWQgcmF0aW5nIHZhbHVlIGlzIHJlYWNoZWQgKi9cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nOyBpKyspIHtcclxuXHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9IGA8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkXCIgZGF0YS1yYXRpbmdzdGFyPVwiJHtyYXRpbmdzdGFyfVwiPiYjOTczMzwvc3Bhbj5gO1xyXG5cdFx0XHRcclxuXHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0fVxyXG5cdFx0LyoqIFN1YnRyYWN0IHRoZSBzZWxlY3RlZCByYXRpbmcgZnJvbSB0aGUgaGlnaGVzdCBwb3NzaWJsZSB0byBnZXQgYW4gdW5zZWxlY3RlZC9maWxsZXIgY291bnQgKi9cclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3Rhcl90b3RhbEN0ID0gNTtcclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QgPSBtb3ZpZV9yYXRpbmdfc3Rhcl90b3RhbEN0LW1vdmllX3JhdGluZztcclxuXHRcdC8qKiBBZGQgYW4gdW5zZWxlY3RlZCBpbmRpY2F0b3IgdG8gdGhlIG9iamVjdCB1bnRpbCBmaWxsZXIgY291bnQgaXMgcmVhY2hlZCAqL1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdDsgaSsrKSB7XHJcblx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSBgPHNwYW4gY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhciBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkXCIgZGF0YS1yYXRpbmdzdGFyPVwiJHtyYXRpbmdzdGFyfVwiPiYjOTczNDwvc3Bhbj5gO1xyXG5cclxuXHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0fVxyXG5cdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8L2Rpdj4nO1xyXG5cclxuXHRcdHJldHVybiBtb3ZpZV9yYXRpbmdfc3RhcnM7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2ZpZWxkIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignaW5wdXQgY2hhbmdlJywgJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtb2d2YWwnKTtcclxuXHRcdFx0dmFyIGN1cnJWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG5cdFx0XHR2YXIgZmxkX25hbWUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmxkbmFtZScpO1xyXG5cdFx0XHR2YXIgZmxkX2VsID0gJCh0aGlzKVswXTtcclxuXHRcdFx0dmFyIGZsZF92YWw7XHJcblx0XHRcdFxyXG5cdFx0XHQvKiogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1ZhbGlkaXR5U3RhdGUgKi9cclxuXHRcdFx0Ly8gY29uc29sZS5sb2coZmxkX2VsLnZhbGlkaXR5KTtcclxuXHJcblx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCBhcyBjaGFuZ2VkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdFx0XHQvKiogRG8gc29tZSB2YWxpZGF0aW9uICovXHJcblx0XHRcdFx0c3dpdGNoIChmbGRfbmFtZSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAnVGl0bGUnOlxyXG5cdFx0XHRcdFx0XHR2YXIgY2hrX3RpdGxlID0gJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwICYmICQodGhpcykudmFsKCkubGVuZ3RoIDwgNTE7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICghY2hrX3RpdGxlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCdUaXRsZSBtdXN0IGJlIDEgdG8gNTAgY2hhcmFjdGVycycpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnWWVhcic6XHJcblx0XHRcdFx0XHRcdC8qKiBPbmx5IGFsbG93IG51bWJlcnMgKi9cclxuXHRcdFx0XHRcdFx0ZmxkX3ZhbCA9IHV0aWxzLmlucHV0X251bWJlcnNfb25seShjdXJyVmFsKTtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS52YWwoZmxkX3ZhbCk7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgY2hrX3lyID0gJCh0aGlzKS52YWwoKS5sZW5ndGggPT09IDQgJiYgKCBwYXJzZUludCggJCh0aGlzKS52YWwoKSApID49IDE4MDAgJiYgcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA8PSAyMTAwICk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKCFjaGtfeXIpIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ011c3QgYmUgYSA0IGRpZ2l0IG51bWJlciBiZXR3ZWVuIDE4MDAgYW5kIDIxMDAnKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ0xlbmd0aCc6XHJcblx0XHRcdFx0XHRcdC8qKiBPbmx5IGFsbG93IG51bWJlcnMgKi9cclxuXHRcdFx0XHRcdFx0ZmxkX3ZhbCA9IHV0aWxzLmlucHV0X251bWJlcnNfb25seShjdXJyVmFsKTtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS52YWwoZmxkX3ZhbCk7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgY2hrX2xlbiA9ICggcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA+PSAxICYmIHBhcnNlSW50KCAkKHRoaXMpLnZhbCgpICkgPD0gOTk5ICk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKCAhY2hrX2xlbiApIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ011c3QgYmUgYSAzIGRpZ2l0IG51bWJlciBncmVhdGVyIHRoYW4gMScpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKiBUaGlzIGRlbGl2ZXJzIHRoZSBjdXN0b20gdmFsaWRhdGlvbiBtZXNzYWdlcyAqL1xyXG5cdFx0XHQvKiB2YXIgZmxkX2lzVmFsaWQgPSBmbGRfZWwuY2hlY2tWYWxpZGl0eSgpO1xyXG5cclxuXHRcdFx0aWYgKCFmbGRfaXNWYWxpZCkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGZsZF9lbC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcblxyXG5cdFx0XHR9ICovXHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi50cmFja19jaGFuZ2VzX2xpc3RpbmcoICQodGhpcykgKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2NoYW5nZScsICdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2xpc3RpbmcgOiAoanFPYmopID0+IHtcclxuXHRcdHZhciBoYXNDaGdzID0ganFPYmouY2xvc2VzdCgnLm1vdmllLWxpc3RpbmcnKS5maW5kKCdpbnB1dCwgc2VsZWN0JykuaGFzQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdGlmIChoYXNDaGdzKSB7XHJcblx0XHRcdGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZS1saXN0aW5nJykuYXR0cignZGF0YS1oYXNjaGdzJywgdHJ1ZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRqcU9iai5jbG9zZXN0KCcubW92aWUtbGlzdGluZycpLmF0dHIoJ2RhdGEtaGFzY2hncycsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jaGVjaygpO1xyXG5cdH1cclxuXHQsXHJcblx0cmF0aW5nX2hvdmVyIDogKCkgPT4ge1xyXG5cdFx0LyoqIEhhdmUgdG8gdXNlIGRlbGVnYXRlZCBhcHByb2FjaCB0byB3b3JrIHdpdGggaW5qZWN0ZWQgZWxlbWVudHMgKGUuZy4sIG5ldyBtb3ZpZSkgKi9cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JylcclxuXHRcdFx0Lm9uKCdtb3VzZWVudGVyJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFxyXG5cdFx0XHRcdC8qKiBNYWtlIGhvdmVyZWQgaXRlbSBpbnRvIHNlbGVjdGVkIHN0YXRlICovXHJcblx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzMgJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBcclxuXHRcdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGJlZm9yZSBob3ZlcmVkIGl0ZW0gaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdCQodGhpcykucHJldkFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuaHRtbCgnJiM5NzMzICcpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfcHJldlNpYicpO1xyXG5cclxuXHRcdFx0XHQvKiogXHJcblx0XHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBhZnRlciBob3ZlcmVkIGl0ZW0gaW50byB0aGUgdW5zZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHQkKHRoaXMpLm5leHRBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmh0bWwoJyYjOTczNCAnKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX25leHRTaWInKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0Lm9uKCdtb3VzZWxlYXZlJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9wcmV2U2liJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9uZXh0U2liJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0LyoqIFJlc2V0IGFsbCBzdGFycyB0byBvcmlnaW5hbCBzdGF0ZSAqL1xyXG5cdFx0XHRcdGlmICggJCh0aGlzKS5oYXNDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKSApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzMzICcpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczNCAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnLm1vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykuaHRtbCgnJiM5NzMzICcpO1xyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoJy5tb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJykuaHRtbCgnJiM5NzM0ICcpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHQsXHJcblx0cmF0aW5nX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0Ly8gJCgnLm1vdmllX3JhdGluZ19zdGFyJykuY2xpY2soIGZ1bmN0aW9uIChlKSB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLm9uKCdjbGljaycsICcubW92aWVfcmF0aW5nX3N0YXInLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc2VsID0gJCh0aGlzKS5hdHRyKCdkYXRhLXJhdGluZ3N0YXInKTtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJCh0aGlzKS5jbG9zZXN0KCcubW92aWUtbGlzdGluZycpLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBGaXJlIGNoYW5nZSBldmVudCBvbiBhc3NvY2lhdGVkIGlucHV0ICovXHJcblx0XHRcdCQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS52YWwobW92aWVfcmF0aW5nX3NlbCkuY2hhbmdlKCk7XHJcblxyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdC8qKiBDaGFuZ2UgY29sb3JzIG9uIHJhdGluZyBkaXNwbGF5IHRvIG1pbWljIGlucHV0IGZpZWxkcyAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5hZGRDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5yZW1vdmVDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqIFxyXG5cdFx0XHQgKiBNYWtlIHNlbGN0ZWQgaXRlbSBcclxuXHRcdFx0ICogYW5kIGFsbCBzaWJsaW5nIGl0ZW1zIGJlZm9yZSBpdCBcclxuXHRcdFx0ICogaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKTtcclxuXHRcdFx0JCh0aGlzKS5wcmV2QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cclxuXHRcdFx0LyoqIFxyXG5cdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGFmdGVyIHNlbGVjdGVkIGl0ZW0gaW50byB0aGUgdW5zZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSB1bnNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkKHRoaXMpLm5leHRBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lX2NoZWNrIDogKCkgPT4ge1xyXG5cdFx0Ly8gY2hlY2sgaWYgZmllbGRzIGFzc29jaWF0ZWQgdG8gZ2l2ZW4gc2F2ZSBidXR0b24gaGF2ZSBjaGFuZ2VkXHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jaGVjayA6ICgpID0+IHtcclxuXHRcdGlmICggJCgnLnZhbENoZycpLmxlbmd0aCAhPT0gMCApIHtcclxuXHRcdFx0JCgnLnNhdmUtYWxsJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcblxyXG5cdFx0XHQvKiogSWYgYW4gLm1zZ191bnNhdmVkQ2hncyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRpZiAoICQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3Vuc2F2ZWRDaGdzJykubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ191bnNhdmVkQ2hncyBtc2ctd2FybmluZ1wiPlRoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXMhPC9zbWFsbD4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JCgnLnNhdmUtYWxsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfdW5zYXZlZENoZ3MnKS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLnNhdmVfaXRlbScpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCQodGhpcykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJCh0aGlzKS5hdHRyKCdkYXRhLXJlY2lkJyk7XHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi5zYXZlX29uZShtb3ZpZV9yZWNpZCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLnNhdmUtYWxsJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCh0aGlzKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9pdGVtIDogKG1vdmllX3JlY2lkLCBpc05ldykgPT4ge1xyXG5cdFx0dmFyIHJlcV9vYmogPSB7XHJcblx0XHRcdCdJRCc6IG1vdmllX3JlY2lkXHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciByZXFfb2JqX2ZsZHMgPSB7fTtcclxuXHRcdHZhciBjaGdkRmxkc0FyciA9ICQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLnZhbENoZycpO1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIEZvciBlYWNoIGNoYW5nZWQgZmllbGQsIFxyXG5cdFx0ICogZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgdGhhdCBoYXMgdGhlIGFzc29jaWF0ZWQgZmllbGQgbmFtZSBpbiB0aGUgZGF0YSBzdG9yZVxyXG5cdFx0ICogYWxvbmcgd2l0aCB0aGUgZmllbGQgdmFsdWUgXHJcblx0XHQgKiB0byBidWlsZCBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIFxyXG5cdFx0ICogdG8gc2VuZCBpbiBlYWNoIHJlcXVlc3RcclxuXHRcdCAqL1xyXG5cclxuXHRcdCQuZWFjaChjaGdkRmxkc0FyciwgZnVuY3Rpb24gKGlkeF9mbGQsIGl0bV9mbGQpIHtcclxuXHRcdFx0dmFyIGZsZE5hbWUgPSAkKGl0bV9mbGQpLmF0dHIoJ2RhdGEtZmxkbmFtZScpO1xyXG5cdFx0XHR2YXIgZmxkVmFsID0gJChpdG1fZmxkKS52YWwoKTtcclxuXHJcblx0XHRcdGlmICggZmxkTmFtZSA9PT0gJ1llYXInIHwgZmxkTmFtZSA9PT0gJ0xlbmd0aCcgfCBmbGROYW1lID09PSAnUmF0aW5nJyApIHtcclxuXHRcdFx0XHRmbGRWYWwgPSBOdW1iZXIoZmxkVmFsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVxX29ial9mbGRzW2ZsZE5hbWVdID0gZmxkVmFsO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIG1vdmllX2FjdGl2ZSA9ICQoJyNtb3ZpZV9hY3RpdmVfJyArIG1vdmllX3JlY2lkKS5pcygnOmNoZWNrZWQnKTtcclxuXHJcblx0XHRyZXFfb2JqX2ZsZHNbJ0FjdGl2ZSddID0gbW92aWVfYWN0aXZlO1xyXG5cclxuXHRcdHJlcV9vYmouZmllbGRzID0gcmVxX29ial9mbGRzO1xyXG5cclxuXHRcdHZhciByZXFfc3RyID0gSlNPTi5zdHJpbmdpZnkocmVxX29iaik7XHJcblxyXG5cdFx0dmFyIHNhdmVJdGVtUHJvbSA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiAocHJvbVN1Y2Nlc3MsIHByb21FcnJvcikge1xyXG5cdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9jcmVhdGVfbW92aWUnLFxyXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRcdGRhdGE6IHJlcV9zdHIsXHJcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbW92aWVfcmVjaWRfbmV3ID0gcmVzcC5pZDtcclxuXHJcblx0XHRcdFx0XHRcdC8qKiBSZXBsYWNlIG9jY3VyZW5jZXMgb2YgbWlsbGlzZWNvbmQgc3RhbXAgSUQgd2l0aCBuZXdseS1jcmVhdGVkIHJldHVybmVkIElEICovXHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cignaWQnLCAnbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KTtcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykuYXR0cignZGF0YS1yZWNpZCcsICdtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpO1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdFx0XHQgKiBOZWVkIHNvbHV0aW9uIGZvciBmaW5kaW5nIGFsbCBvY2N1cmVuY2VzIG9mIHRlbXBvcmFyeSBJRCB3aXRoIG5ldyBvbmUgXHJcblx0XHRcdFx0XHRcdCAqIFBvc3NpYmxlIHNvbHV0aW9uIGlzIHRvIGVsaW1pbmF0ZSBhbGwgdGhlIHBsYWNlcyB3aGVyZSB0aGF0IHVuaXF1ZSBJRCBpcyB1c2VkXHJcblx0XHRcdFx0XHRcdCAqIGkuZS4sIGp1c3QgcmVseSBvbiBwYXJlbnQgZWxlbWVudCBhdHRyaWJ1dGVzXHJcblx0XHRcdFx0XHRcdCAqL1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGVzICovXHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpLnJlbW92ZUNsYXNzKCdpcy1uZXcnKTtcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykuZmluZCgnLnZhbENoZywgLnZhbENoZy1jb2xvcnNPbmx5JykucmVtb3ZlQ2xhc3MoJ3ZhbENoZyB2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5maW5kKCcubW92aWVfcmF0aW5nX3N0YXJzJykucmVtb3ZlQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdHByb21TdWNjZXNzKHJlc3ApO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR2YXIgZXJyX2Rpc3A7XHJcblx0XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfaXMgPSBqcVhIUi5yZXNwb25zZUpTT05bJ2Vycm9yJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcclxuXHRcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHByb21FcnJvcigpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdC8qIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2NvbXBsZXRlIGV2ZW50Jyk7XHJcblx0XHJcblx0XHRcdFx0XHR9ICovXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfdXBkYXRlX21vdmllJyxcclxuXHRcdFx0XHRcdHR5cGU6ICdQQVRDSCcsXHJcblx0XHRcdFx0XHRjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRcdFx0ZGF0YTogcmVxX3N0cixcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGUgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcudmFsQ2hnLCAudmFsQ2hnLWNvbG9yc09ubHknKS5yZW1vdmVDbGFzcygndmFsQ2hnIHZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRwcm9tU3VjY2VzcygpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR2YXIgZXJyX2Rpc3A7XHJcblx0XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfaXMgPSBqcVhIUi5yZXNwb25zZUpTT05bJ2Vycm9yJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcclxuXHRcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHByb21FcnJvcigpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGpxWEhSLnN0YXR1cyA9PT0gNDAxKSB7XHJcblx0XHRcdFx0XHRcdFx0YXV0aC5zaG93X2xvZ2luX21vZGFsKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQvKiBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjb21wbGV0ZSBldmVudCcpO1xyXG5cdFxyXG5cdFx0XHRcdFx0fSAqL1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gc2F2ZUl0ZW1Qcm9tO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmUgOiAobW92aWVfcmVjaWQpID0+IHtcclxuXHRcdHZhciBzYXZlSXRlbSA9IG1vdmllX2FkbWluLnNhdmVfaXRlbShtb3ZpZV9yZWNpZCk7XHJcblxyXG5cdFx0c2F2ZUl0ZW0udGhlbihcclxuXHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdC8qKiBGbGFnIGFuIGVsZW1lbnQgc28gdGhlIG1lc3NhZ2UgY2FuIGJlIHBsYWNlZCBjb250ZXh0dWFsbHkgKi9cclxuXHRcdFx0XHQvL1xyXG5cclxuXHRcdFx0XHRtb3ZpZV9hZG1pbi5zdGF0dXNfbXNnKCdzYXZlX29uZV9zdWNjZXNzJyk7XHJcblx0XHRcdH0sIFxyXG5cdFx0XHRmdW5jdGlvbiAoZXJyT2JqKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJPYmopO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGwgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3NhdmluZ0FsbENoZ3MgbXNnLWluZm9cIj5TYXZpbmcgYWxsIGNoYW5nZXMuLi48L3NtYWxsPicpO1xyXG5cclxuXHRcdC8qKiBHYXRoZXIgY2hhbmdlcyBhbmQgc2VuZCBQQVRDSCByZXF1ZXN0IHRvIEFQSSBwZXIgbW92aWUgKi9cclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBDaGFuZ2VzIG5lZWQgdG8gYmUgZ3JvdXBlZCBwZXIgcmVjb3JkIChpLmUuLCBtb3ZpZSlcclxuXHRcdCAqIFxyXG5cdFx0ICogUHJldHR5IHN1cmUgdGhlIGJlc3Qgb3B0aW9uIGlzIHRvIFxyXG5cdFx0ICogZmxhZyBhIHBhcmVudCBlbGVtZW50IChlLmcuLCBcIi5tb3ZpZS1saXN0aW5nXCIpIG9uIGNoYW5nZXMsXHJcblx0XHQgKiB1c2luZyB0aGF0IGFzIHRoZSBzdGFydGluZyBwb2ludCBcclxuXHRcdCAqIHRvIHRyYXZlcnNlIGRvd24gY2hpbGRyZW5cclxuXHRcdCAqIGFuZCBjb2xsZWN0IGNoYW5nZXMuXHJcblx0XHQgKlxyXG5cdFx0ICogSWYgYWxsIGNoYW5nZXMgZm9yIGEgZ2l2ZW4gcmVjb3JkIGFyZSBiYWNrZWQgb3V0XHJcblx0XHQgKiBjbGVhciBmbGFnIG9uIHBhcmVudCBlbGVtZW50XHJcblx0XHQgKi9cclxuXHJcblx0XHR2YXIgY2hnZE1vdmllc0FyciA9ICQoJy5tb3ZpZS1saXN0aW5nW2RhdGEtaGFzY2hncz1cInRydWVcIl0nKTtcclxuXHJcblx0XHQkLmVhY2goY2hnZE1vdmllc0FyciwgZnVuY3Rpb24gKGlkeCwgaXRtKSB7XHJcblx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKGl0bSkuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAkKGl0bSkuaGFzQ2xhc3MoJ2lzLW5ldycpICkge1xyXG5cdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNhdmVJdGVtID0gbW92aWVfYWRtaW4uc2F2ZV9pdGVtKG1vdmllX3JlY2lkLCBpc05ldyk7XHJcblxyXG5cdFx0XHRzYXZlSXRlbS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gY2hnZE1vdmllc0Fyci5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9hbGxfc3VjY2VzcycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIFxyXG5cdFx0XHRcdGZ1bmN0aW9uIChlcnJPYmopIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHN0YXR1c19tc2cgOiAoc3RhdHVzX21zZykgPT4ge1xyXG5cdFx0c3dpdGNoIChzdGF0dXNfbXNnKSB7XHJcblx0XHRcdGNhc2UgJ3NhdmVfb25lX3N1Y2Nlc3MnOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9vbmVfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfc3VjY2Vzcyc6XHJcblx0XHRcdFx0LyoqIFJlbW92ZSBhbnkgbWVzc2FnZXMgYWJvdXQgc2F2ZSBzdGF0dXMgKi9cclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ19jaGdzU2F2ZWQgbXNnLXN1Y2Nlc3NcIj5BbGwgY2hhbmdlcyBzYXZlZC48L3NtYWxsPicpO1xyXG5cclxuXHRcdFx0XHQvKiogQWZ0ZXIgc3BlY2lmaWNlZCBkZWxheSwgZmFkZSB0aGUgbWVzc2FnZSwgdGhlbiByZW1vdmUgZnJvbSBET00gKi9cclxuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfY2hnc1NhdmVkJykuZmFkZU91dCgnc2xvdycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0sIDIwMDApO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcbn0pLmluaXQoKTtcclxuIl19
