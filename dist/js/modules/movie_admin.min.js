var movie_admin="object"==typeof movie_admin?movie_admin:{};(movie_admin={init:()=>{auth.sesh_check().then(function(){movie_admin.sesh_success()}).catch(()=>{movie_admin.sesh_fail()})},sesh_success:()=>{auth.logout_init(),movie_admin.load_movie_list()},sesh_fail:()=>{$("#movie_admin .status-container").alert("close");$("#movie_admin_list").prepend('<div class="status-container alert alert-warning fade show" role="alert"><span class="status-msg"><a id="log_in_prompt" href="#">Log in to edit</a></span></div>'),auth.login_modal_init()},load_movie_list:()=>{$("#movie_admin .status-msg").text("Movies loading"),$("#movie_admin_list_actions").css("visibility","visible"),$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(e){e.length>0&&$.each(e,function(a,t){var i=t.id,s=t.fields,l=s.Title,o=s.Year,n=s.Length,r=s.Rating,m=s.Format,v=s.Active,_="";v&&(_=" checked");var c,d,g,h=movie_admin.seeing_stars(r);switch(m){case"DVD":c="selected";break;case"Streaming":d="selected";break;case"VHS":g="selected"}let u='<div class="movie-listing"'+` data-recid="${i}"`+' data-haschgs="false"'+` id="movie_listing_${i}"`+'><div class="movie_title form-field-container">'+`<label for="movie_title_${i}">`+'Title</label><small class="text-muted">(50 characters or less)</small>'+`<input id="movie_title_${i}"`+` value="${l}"`+' data-fldname="Title"'+` data-ogval="${l}"`+' class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year form-field-container">'+`<label for="movie_year_${i}">`+'Year</label><small class="text-muted">(from 1800 to 2100)</small>'+`<input id="movie_year_${i}"`+` value="${o}"`+' data-fldname="Year"'+` data-ogval="${o}"`+' class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container">'+`<label for="movie_length_${i}">`+'Length</label><small class="text-muted">(in minutes)</small>'+`<input id="movie_length_${i}"`+` value="${n}"`+' data-fldname="Length"'+` data-ogval="${n}"`+' class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container">'+`<label for="movie_rating_${i}">`+'Rating</label><small class="text-muted">(Select a rating)</small>'+h+`<input id="movie_rating_${i}"`+` value="${r}"`+' data-fldname="Rating"'+` data-ogval="${r}"`+' class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format form-field-container">'+`<label for="movie_format_${i}">`+"Format</label>"+`<select id="movie_format_${i}" class="form-control"`+' data-fldname="Format"'+` data-ogval="${m}"`+">"+`<option value="DVD" ${c}>DVD</option>`+`<option value="Streaming" ${d}>Streaming</option>`+`<option value="VHS" ${g}>VHS</option>`+'</select></div><div class="movie_active form-field-container custom-control custom-checkbox">'+`<input id="movie_active_${i}"`+' data-fldname="Active"'+` data-ogval="${v}"`+' class="custom-control-input" type="checkbox"'+_+"><label"+` for="movie_active_${i}"`+' class="lbl_checkbox custom-control-label">Active</label></div></div></div>';$("#movie_admin_list").append(u),a+1===e.length&&movie_admin.ready()})}).fail(function(e,a,t){$("#movie_admin .status-container").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t);$("#movie_admin_list").prepend('<div class="status-container alert alert-warning fade show" role="alert"><span class="status-msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:()=>{$("#movie_admin .status-container").alert("close"),movie_admin.add_movie_click(),$(".add-movie").prop("disabled",!1),movie_admin.track_changes_field(),movie_admin.rating_hover(),movie_admin.rating_click(),movie_admin.save_all_click()},add_movie_click:()=>{$(".add-movie").click(function(){movie_admin.add_movie(),$("input").first().focus()})},add_movie:()=>{var e=Date.now(),a=movie_admin.seeing_stars("1");let t='<div class="movie-listing is-new form-group highlight"'+` data-recid="${e}"`+' data-haschgs="false"'+` id="movie_listing_${e}"`+' class="movie-listing-new"><div class="movie_title form-field-container">'+`<label for="movie_title_${e}">`+'Title</label><small class="text-muted">(50 characters or less)</small>'+`<input id="movie_title_${e}"`+' value="" data-fldname="Title" class="form-control" type="text" minlength="1" maxlength="50" required></div><div class="movie_details"><div class="movie_year form-field-container">'+`<label for="movie_year_${e}">`+'Year</label><small class="text-muted">(from 1800 to 2100)</small>'+`<input id="movie_year_${e}"`+' value="" data-fldname="Year" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container">'+`<label for="movie_length_${e}">`+'Length</label><small class="text-muted">(in minutes)</small>'+`<input id="movie_length_${e}"`+' value="" data-fldname="Length" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container">'+`<label for="movie_rating_${e}">`+'Rating</label><small class="text-muted">(Select a rating)</small>'+a+`<input id="movie_rating_${e}"`+' value="1" data-fldname="Rating" class="form-control valChg" type="number" min="1" max="5" hidden required></div><div class="movie_format form-field-container">'+`<label for="movie_format_${e}">`+"Format</label>"+`<select id="movie_format_${e}" class="form-control valChg"`+' data-fldname="Format"><option value="DVD">DVD</option><option value="Streaming" selected>Streaming</option><option value="VHS">VHS</option></select></div><div class="movie_active form-field-container custom-control custom-checkbox">'+`<input id="movie_active_${e}"`+' data-fldname="Active" class="custom-control-input" type="checkbox" checked><label'+` for="movie_active_${e}"`+' class="lbl_checkbox custom-control-label">Active</label></div></div></div>';$("#movie_admin_list").prepend(t),$(".is-new .movie_rating_stars").addClass("valChg-colorsOnly"),setTimeout(function(){document.getElementById(`movie_listing_${e}`).classList.remove("highlight")},500)},seeing_stars:e=>{var a="";a+='<div class="movie_rating_stars">';for(var t=1,i=0;i<e;i++)a+=`<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="${t}">&#9733</span>`,t++;var s=5-e;for(i=0;i<s;i++)a+=`<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="${t}">&#9734</span>`,t++;return a+="</div>"},track_changes_field:()=>{$("#movie_admin_list").on("input change","input",function(){var e,a=$(this).attr("data-ogval"),t=$(this).val(),i=$(this).attr("data-fldname"),s=$(this)[0];if(s.setCustomValidity(""),a!==t)switch($(this).addClass("valChg"),i){case"Title":$(this).val().length>0&&$(this).val().length<51?s.setCustomValidity(""):s.setCustomValidity("Title must be 1 to 50 characters");break;case"Year":e=utils.input_numbers_only(t),$(this).val(e),4===$(this).val().length&&parseInt($(this).val())>=1800&&parseInt($(this).val())<=2100?s.setCustomValidity(""):s.setCustomValidity("Must be a 4 digit number between 1800 and 2100");break;case"Length":e=utils.input_numbers_only(t),$(this).val(e),parseInt($(this).val())>=1&&parseInt($(this).val())<=999?s.setCustomValidity(""):s.setCustomValidity("Must be a 3 digit number greater than 1")}else $(this).removeClass("valChg").nextAll(".valChgMsg").remove();movie_admin.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),movie_admin.track_changes_listing($(this))})},track_changes_listing:e=>{e.closest(".movie-listing").find("input, select").hasClass("valChg")?e.closest(".movie-listing").attr("data-haschgs",!0):e.closest(".movie-listing").attr("data-haschgs",!1),movie_admin.save_all_check()},rating_hover:()=>{$("#movie_admin_list").on("mouseenter",".movie_rating_star",function(){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")}).on("mouseleave",".movie_rating_star",function(){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:()=>{$("#movie_admin_list").on("click",".movie_rating_star",function(){var e=$(this).attr("data-ratingstar"),a=$(this).closest(".movie-listing").attr("data-recid");$(`#movie_rating_${a}`).val(e).change(),$("#movie_rating_"+a).attr("data-ogval")!==$("#movie_rating_"+a).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:()=>{},save_all_check:()=>{0!==$(".valChg").length?($(".save-all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save-all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:()=>{$(".save_item").click(function(){$(this).prop("disabled",!0);var e=$(this).attr("data-recid");movie_admin.save_one(e)})},save_all_click:()=>{$(".save-all").click(function(){$(this).prop("disabled",!0),movie_admin.save_all()})},save_item:(e,a)=>{var t={ID:e},i={},s=$("#movie_listing_"+e).find(".valChg");$.each(s,function(e,a){var t=$(a).attr("data-fldname"),s=$(a).val();"Year"===t|"Length"===t|"Rating"===t&&(s=Number(s)),i[t]=s});var l=$("#movie_active_"+e).is(":checked");i.Active=l,t.fields=i;var o=JSON.stringify(t);return new Promise(function(t,i){a?$.ajax({url:"/.netlify/functions/at_create_movie",type:"POST",contentType:"application/json",data:o,success:function(a){var i=a.id;$("#movie_listing_"+e).attr("id","movie_listing_"+i),$("#movie_listing_"+i).attr("data-recid","movie_listing_"+i),$("#movie_listing_"+i).removeClass("is-new"),$("#movie_listing_"+i).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+i).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),t(a)},error:function(e,a,t){var s;if(console.error("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;i(),console.error("Error:\n"+s)}}):$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:o,success:function(){$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+e).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),t()},error:function(e,a,t){var s;if(console.error("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;i(),console.error("Error:\n"+s),401===e.status&&auth.show_login_modal()}})})},save_one:e=>{movie_admin.save_item(e).then(function(){movie_admin.status_msg("save_one_success")},function(e){console.error(e)})},save_all:()=>{$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var e=$('.movie-listing[data-haschgs="true"]');$.each(e,function(a,t){var i=!1,s=$(t).attr("data-recid");$(t).hasClass("is-new")&&(i=!0),movie_admin.save_item(s,i).then(function(){a+1===e.length&&movie_admin.status_msg("save_all_success")},function(e){console.error(e)})})},status_msg:e=>{switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21vZHVsZXMvbW92aWVfYWRtaW4uanMiXSwibmFtZXMiOlsibW92aWVfYWRtaW4iLCJpbml0IiwiYXV0aCIsInNlc2hfY2hlY2siLCJ0aGVuIiwic2VzaF9zdWNjZXNzIiwiY2F0Y2giLCJzZXNoX2ZhaWwiLCJsb2dvdXRfaW5pdCIsImxvYWRfbW92aWVfbGlzdCIsIiQiLCJhbGVydCIsInByZXBlbmQiLCJsb2dpbl9tb2RhbF9pbml0IiwidGV4dCIsImNzcyIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwIiwibGVuZ3RoIiwiZWFjaCIsImlkeCIsIml0bSIsIm1vdmllX3JlY2lkIiwiaWQiLCJtb3ZpZV9vYmoiLCJmaWVsZHMiLCJtb3ZpZV90aXRsZSIsIlRpdGxlIiwibW92aWVfeWVhciIsIlllYXIiLCJtb3ZpZV9sZW5ndGgiLCJMZW5ndGgiLCJtb3ZpZV9yYXRpbmciLCJSYXRpbmciLCJtb3ZpZV9mb3JtYXQiLCJGb3JtYXQiLCJtb3ZpZV9hY3RpdmUiLCJBY3RpdmUiLCJtb3ZpZV9hY3RpdmVfY2hlY2tlZCIsIkRWRHNlbCIsIlNUUnNlbCIsIlZIU3NlbCIsIm1vdmllX3JhdGluZ19zdGFycyIsInNlZWluZ19zdGFycyIsIm1vdmllX2xpc3RpbmciLCJhcHBlbmQiLCJyZWFkeSIsImZhaWwiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNvbnNvbGUiLCJsb2ciLCJhZGRfbW92aWVfY2xpY2siLCJwcm9wIiwidHJhY2tfY2hhbmdlc19maWVsZCIsInJhdGluZ19ob3ZlciIsInJhdGluZ19jbGljayIsInNhdmVfYWxsX2NsaWNrIiwiY2xpY2siLCJhZGRfbW92aWUiLCJmaXJzdCIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsImFkZENsYXNzIiwic2V0VGltZW91dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyYXRpbmdzdGFyIiwiaSIsIm1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCIsIm9uIiwiZmxkX3ZhbCIsIm9nVmFsIiwidGhpcyIsImF0dHIiLCJjdXJyVmFsIiwidmFsIiwiZmxkX25hbWUiLCJmbGRfZWwiLCJzZXRDdXN0b21WYWxpZGl0eSIsInV0aWxzIiwiaW5wdXRfbnVtYmVyc19vbmx5IiwicGFyc2VJbnQiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImNsb3Nlc3QiLCJmaW5kIiwiaGFzQ2xhc3MiLCJzYXZlX2FsbF9jaGVjayIsImh0bWwiLCJwcmV2QWxsIiwic2libGluZ3MiLCJtb3ZpZV9yYXRpbmdfc2VsIiwiY2hhbmdlIiwic2F2ZV9vbmVfY2hlY2siLCJzYXZlX29uZV9jbGljayIsInNhdmVfb25lIiwic2F2ZV9hbGwiLCJzYXZlX2l0ZW0iLCJpc05ldyIsInJlcV9vYmoiLCJJRCIsInJlcV9vYmpfZmxkcyIsImNoZ2RGbGRzQXJyIiwiaWR4X2ZsZCIsIml0bV9mbGQiLCJmbGROYW1lIiwiZmxkVmFsIiwiTnVtYmVyIiwiaXMiLCJyZXFfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlByb21pc2UiLCJwcm9tU3VjY2VzcyIsInByb21FcnJvciIsInR5cGUiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWNjZXNzIiwibW92aWVfcmVjaWRfbmV3IiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsInJlc3BvbnNlVGV4dCIsInN0YXR1cyIsInNob3dfbG9naW5fbW9kYWwiLCJzdGF0dXNfbXNnIiwiZXJyT2JqIiwiY2hnZE1vdmllc0FyciIsIndpbmRvdyIsImZhZGVPdXQiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLFlBQXlDLGlCQUFsQixZQUErQkEsWUFBYyxJQUN2RUEsWUFBYyxDQUNkQyxLQUFPLEtBQ05DLEtBQUtDLGFBQ0pDLEtBQU0sV0FDTkosWUFBWUssaUJBQ1ZDLE1BQU8sS0FFVE4sWUFBWU8sZUFJZEYsYUFBZSxLQUNkSCxLQUFLTSxjQUNMUixZQUFZUyxtQkFHYkYsVUFBWSxLQUNYRyxFQUFFLGtDQUFrQ0MsTUFBTSxTQU0xQ0QsRUFBRSxxQkFBcUJFLFFBSlYsb0tBTWJWLEtBQUtXLG9CQUdOSixnQkFBa0IsS0FDakJDLEVBQUUsNEJBQTRCSSxLQUFLLGtCQUNuQ0osRUFBRSw2QkFBNkJLLElBQUksYUFBYyxXQUVqREwsRUFBRU0sS0FBSyxDQUNOQyxJQUFLLDZDQUNMQyxTQUFVLFNBQ1JDLEtBQU0sU0FBVUMsR0FDZEEsRUFBS0MsT0FBUyxHQUNqQlgsRUFBRVksS0FBS0YsRUFBTSxTQUFTRyxFQUFLQyxHQUMxQixJQUFJQyxFQUFjRCxFQUFJRSxHQVVsQkMsRUFBY0gsRUFBSUksT0FDbEJDLEVBQWVGLEVBQVVHLE1BQ3pCQyxFQUFlSixFQUFVSyxLQUN6QkMsRUFBZ0JOLEVBQVVPLE9BQzFCQyxFQUFnQlIsRUFBVVMsT0FDMUJDLEVBQWdCVixFQUFVVyxPQUUxQkMsRUFBZ0JaLEVBQVVhLE9BRTFCQyxFQUF1QixHQUN2QkYsSUFDSEUsRUFBdUIsWUFHeEIsSUFFSUMsRUFBUUMsRUFBUUMsRUFGaEJDLEVBQXFCN0MsWUFBWThDLGFBQWFYLEdBR2xELE9BQVFFLEdBQ1AsSUFBSyxNQUNKSyxFQUFTLFdBQ1YsTUFDQSxJQUFLLFlBQ0pDLEVBQVMsV0FDVixNQUNBLElBQUssTUFDSkMsRUFBUyxXQUlYLElBQUlHLEVBQWdCLDZDQUNGdEIsS0FDaEIsOENBQ3NCQSxLQUN0Qiw2RUFFNEJBLE1BQzFCLG1HQUd5QkEsZ0JBQ2RJLEtBQ1gsd0NBQ2dCQSxLQUNoQiwwS0FNMEJKLE1BQ3pCLDZGQUd3QkEsZ0JBQ2JNLEtBQ1gsdUNBQ2dCQSxLQUNoQiw0SkFhMkJOLE1BQzNCLDBGQUcwQkEsZ0JBQ2ZRLEtBQ1gseUNBQ2dCQSxLQUNoQiw0SkFLMkJSLE1BQzNCLG9FQUdEb0IsNkJBQzJCcEIsZ0JBQ2ZVLEtBQ1gseUNBQ2dCQSxLQUNoQiwrSUFLMkJWLE1BQzNCLDZDQUUyQkEsMEJBQzNCLHlDQUNnQlksS0FDakIsMkJBQ3dCSyw4Q0FDTUMsOENBQ05DLGlCQUN4QiwySEFHMkJuQixLQUMxQix5Q0FDZ0JjLEtBQ2hCLGdEQUVBRSxFQUNELGdDQUV1QmhCLEtBQ3RCLDhFQVNMZixFQUFFLHFCQUFxQnNDLE9BQU9ELEdBRTFCeEIsRUFBSSxJQUFNSCxFQUFLQyxRQUNsQnJCLFlBQVlpRCxZQUliQyxLQUFNLFNBQVdDLEVBQU9DLEVBQVlDLEdBQ3RDM0MsRUFBRSxrQ0FBa0NDLE1BQU0sU0FFMUMyQyxRQUFRQyxJQUFJLGdCQUNaRCxRQUFRQyxJQUFJSCxHQUNaRSxRQUFRQyxJQUFJLGlCQUNaRCxRQUFRQyxJQUFJRixHQU1aM0MsRUFBRSxxQkFBcUJFLFFBSlYseU9BUWZxQyxNQUFRLEtBQ1B2QyxFQUFFLGtDQUFrQ0MsTUFBTSxTQUUxQ1gsWUFBWXdELGtCQUNaOUMsRUFBRSxjQUFjK0MsS0FBSyxZQUFZLEdBRWpDekQsWUFBWTBELHNCQUNaMUQsWUFBWTJELGVBQ1ozRCxZQUFZNEQsZUFFWjVELFlBQVk2RCxrQkFHYkwsZ0JBQWtCLEtBQ2pCOUMsRUFBRSxjQUFjb0QsTUFBTyxXQUN0QjlELFlBQVkrRCxZQUVackQsRUFBRSxTQUFTc0QsUUFBUUMsV0FJckJGLFVBQVksS0FDWCxJQUFJdEMsRUFBY3lDLEtBQUtDLE1BQ25CdEIsRUFBcUI3QyxZQUFZOEMsYUFBYSxLQUVsRCxJQUFJQyxFQUFnQix5RUFDRnRCLEtBQ2hCLDhDQUNzQkEsS0FDdEIsdUdBRzRCQSxNQUMxQixtR0FHeUJBLEtBQ3pCLGlOQVEwQkEsTUFDekIsNkZBR3dCQSxLQUN4Qix5TEFPMkJBLE1BQzNCLDBGQUcwQkEsS0FDMUIsMkxBTzJCQSxNQUMzQixvRUFHRG9CLDZCQUMyQnBCLEtBQzFCLCtMQU8yQkEsTUFDM0IsNkNBRTJCQSxpQ0FDM0IsdVFBUTBCQSxLQUMxQiwyR0FNc0JBLEtBQ3RCLDhFQVNMZixFQUFFLHFCQUFxQkUsUUFBUW1DLEdBQy9CckMsRUFBRSwrQkFBK0IwRCxTQUFTLHFCQVMxQ0MsV0FBWSxXQUNYQyxTQUFTQyxnQ0FBZ0M5QyxLQUFlK0MsVUFBVUMsT0FBTyxjQUN2RSxNQUdKM0IsYUFBZ0JYLElBT2YsSUFBSVUsRUFBcUIsR0FDeEJBLEdBQXNCLG1DQUl2QixJQUZBLElBQUk2QixFQUFhLEVBRVJDLEVBQUksRUFBR0EsRUFBSXhDLEVBQWN3QyxJQUNqQzlCLGtGQUFxRzZCLG1CQUVyR0EsSUFHRCxJQUNJRSxFQUQ0QixFQUMrQnpDLEVBRS9ELElBQUt3QyxFQUFJLEVBQUdBLEVBQUlDLEVBQWdDRCxJQUMvQzlCLG9GQUF1RzZCLG1CQUV2R0EsSUFJRCxPQUZBN0IsR0FBc0IsVUFLdkJhLG9CQUFzQixLQUNyQmhELEVBQUUscUJBQXFCbUUsR0FBRyxlQUFnQixRQUFTLFdBQ2xELElBSUlDLEVBSkFDLEVBQVFyRSxFQUFFc0UsTUFBTUMsS0FBSyxjQUNyQkMsRUFBVXhFLEVBQUVzRSxNQUFNRyxNQUNsQkMsRUFBVzFFLEVBQUVzRSxNQUFNQyxLQUFLLGdCQUN4QkksRUFBUzNFLEVBQUVzRSxNQUFNLEdBU3JCLEdBSEFLLEVBQU9DLGtCQUFrQixJQUdyQlAsSUFBVUcsRUFJYixPQUhBeEUsRUFBRXNFLE1BQU1aLFNBQVMsVUFHVGdCLEdBQ1AsSUFBSyxRQUNZMUUsRUFBRXNFLE1BQU1HLE1BQU05RCxPQUFTLEdBQUtYLEVBQUVzRSxNQUFNRyxNQUFNOUQsT0FBUyxHQUtsRWdFLEVBQU9DLGtCQUFrQixJQUZ6QkQsRUFBT0Msa0JBQWtCLG9DQUkzQixNQUNBLElBQUssT0FFSlIsRUFBVVMsTUFBTUMsbUJBQW1CTixHQUNuQ3hFLEVBQUVzRSxNQUFNRyxJQUFJTCxHQUUwQixJQUF6QnBFLEVBQUVzRSxNQUFNRyxNQUFNOUQsUUFBa0JvRSxTQUFVL0UsRUFBRXNFLE1BQU1HLFFBQVcsTUFBUU0sU0FBVS9FLEVBQUVzRSxNQUFNRyxRQUFXLEtBSzlHRSxFQUFPQyxrQkFBa0IsSUFGekJELEVBQU9DLGtCQUFrQixrREFJM0IsTUFDQSxJQUFLLFNBRUpSLEVBQVVTLE1BQU1DLG1CQUFtQk4sR0FDbkN4RSxFQUFFc0UsTUFBTUcsSUFBSUwsR0FFSVcsU0FBVS9FLEVBQUVzRSxNQUFNRyxRQUFXLEdBQUtNLFNBQVUvRSxFQUFFc0UsTUFBTUcsUUFBVyxJQUs5RUUsRUFBT0Msa0JBQWtCLElBRnpCRCxFQUFPQyxrQkFBa0IsZ0RBTzVCNUUsRUFBRXNFLE1BQU1VLFlBQVksVUFBVUMsUUFBUSxjQUFjbEIsU0FZckR6RSxZQUFZNEYsc0JBQXVCbEYsRUFBRXNFLFNBR3RDdEUsRUFBRSxxQkFBcUJtRSxHQUFHLFNBQVUsU0FBVSxXQUNqQ25FLEVBQUVzRSxNQUFNQyxLQUFLLGdCQUNYdkUsRUFBRXNFLE1BQU1HLE1BSXJCekUsRUFBRXNFLE1BQU1aLFNBQVMsVUFFakIxRCxFQUFFc0UsTUFBTVUsWUFBWSxVQUFVQyxRQUFRLGNBQWNsQixTQUdyRHpFLFlBQVk0RixzQkFBdUJsRixFQUFFc0UsVUFJdkNZLHNCQUF5QkMsSUFDVkEsRUFBTUMsUUFBUSxrQkFBa0JDLEtBQUssaUJBQWlCQyxTQUFTLFVBRzVFSCxFQUFNQyxRQUFRLGtCQUFrQmIsS0FBSyxnQkFBZ0IsR0FFckRZLEVBQU1DLFFBQVEsa0JBQWtCYixLQUFLLGdCQUFnQixHQUd0RGpGLFlBQVlpRyxrQkFHYnRDLGFBQWUsS0FFZGpELEVBQUUscUJBQ0FtRSxHQUFHLGFBQWMscUJBQXNCLFdBR3ZDbkUsRUFBRXNFLE1BQU1rQixLQUFLLFdBTWJ4RixFQUFFc0UsTUFBTW1CLFFBQVEsc0JBQXNCRCxLQUFLLFdBQVc5QixTQUFTLDhCQU0vRDFELEVBQUVzRSxNQUFNVyxRQUFRLHNCQUFzQk8sS0FBSyxXQUFXOUIsU0FBUyxnQ0FFL0RTLEdBQUcsYUFBYyxxQkFBc0IsV0FDdkNuRSxFQUFFc0UsTUFBTW9CLFdBQVdWLFlBQVksOEJBQThCQSxZQUFZLDhCQUdwRWhGLEVBQUVzRSxNQUFNZ0IsU0FBUyw4QkFDckJ0RixFQUFFc0UsTUFBTWtCLEtBQUssV0FFYnhGLEVBQUVzRSxNQUFNa0IsS0FBSyxXQUVkeEYsRUFBRXNFLE1BQU1vQixTQUFTLCtCQUErQkYsS0FBSyxXQUNyRHhGLEVBQUVzRSxNQUFNb0IsU0FBUyxpQ0FBaUNGLEtBQUssY0FLMUR0QyxhQUFlLEtBQ2RsRCxFQUFFLHFCQUFxQm1FLEdBQUcsUUFBUyxxQkFBc0IsV0FDeEQsSUFBSXdCLEVBQW1CM0YsRUFBRXNFLE1BQU1DLEtBQUssbUJBQ2hDeEQsRUFBY2YsRUFBRXNFLE1BQU1jLFFBQVEsa0JBQWtCYixLQUFLLGNBR3pEdkUsbUJBQW1CZSxLQUFlMEQsSUFBSWtCLEdBQWtCQyxTQUU1QzVGLEVBQUUsaUJBQW1CZSxHQUFhd0QsS0FBSyxnQkFDckN2RSxFQUFFLGlCQUFtQmUsR0FBYTBELE1BSy9DekUsRUFBRXNFLE1BQU1jLFFBQVEsdUJBQXVCMUIsU0FBUyxxQkFFaEQxRCxFQUFFc0UsTUFBTWMsUUFBUSx1QkFBdUJKLFlBQVkscUJBU3BEaEYsRUFBRXNFLE1BQU1aLFNBQVMsOEJBQThCc0IsWUFBWSxnQ0FDM0RoRixFQUFFc0UsTUFBTW1CLFFBQVEsc0JBQXNCL0IsU0FBUyw4QkFBOEJzQixZQUFZLGdDQU16RmhGLEVBQUVzRSxNQUFNVyxRQUFRLHNCQUFzQnZCLFNBQVMsZ0NBQWdDc0IsWUFBWSxpQ0FJN0ZhLGVBQWlCLE9BSWpCTixlQUFpQixLQUNhLElBQXhCdkYsRUFBRSxXQUFXVyxRQUNqQlgsRUFBRSxhQUFhK0MsS0FBSyxZQUFZLEdBR3FDLElBQWhFL0MsRUFBRSxtREFBbURXLFFBQ3pEWCxFQUFFLGtDQUFrQ0UsUUFBUSxrR0FHN0NGLEVBQUUsYUFBYStDLEtBQUssWUFBWSxHQUNoQy9DLEVBQUUsbURBQW1EK0QsV0FJdkQrQixlQUFpQixLQUNoQjlGLEVBQUUsY0FBY29ELE1BQU8sV0FDdEJwRCxFQUFFc0UsTUFBTXZCLEtBQUssWUFBWSxHQUN6QixJQUFJaEMsRUFBY2YsRUFBRXNFLE1BQU1DLEtBQUssY0FFL0JqRixZQUFZeUcsU0FBU2hGLE1BSXZCb0MsZUFBaUIsS0FDaEJuRCxFQUFFLGFBQWFvRCxNQUFPLFdBQ3JCcEQsRUFBRXNFLE1BQU12QixLQUFLLFlBQVksR0FFekJ6RCxZQUFZMEcsY0FJZEMsVUFBWSxDQUFDbEYsRUFBYW1GLEtBQ3pCLElBQUlDLEVBQVUsQ0FDYkMsR0FBTXJGLEdBR0hzRixFQUFlLEdBQ2ZDLEVBQWN0RyxFQUFFLGtCQUFvQmUsR0FBYXNFLEtBQUssV0FVMURyRixFQUFFWSxLQUFLMEYsRUFBYSxTQUFVQyxFQUFTQyxHQUN0QyxJQUFJQyxFQUFVekcsRUFBRXdHLEdBQVNqQyxLQUFLLGdCQUMxQm1DLEVBQVMxRyxFQUFFd0csR0FBUy9CLE1BRVAsU0FBWmdDLEVBQWlDLFdBQVpBLEVBQW1DLFdBQVpBLElBQ2hEQyxFQUFTQyxPQUFPRCxJQUdqQkwsRUFBYUksR0FBV0MsSUFHekIsSUFBSTdFLEVBQWU3QixFQUFFLGlCQUFtQmUsR0FBYTZGLEdBQUcsWUFFeERQLEVBQXFCLE9BQUl4RSxFQUV6QnNFLEVBQVFqRixPQUFTbUYsRUFFakIsSUFBSVEsRUFBVUMsS0FBS0MsVUFBVVosR0F3SDdCLE9BdEhtQixJQUFJYSxRQUFTLFNBQVVDLEVBQWFDLEdBQ2xEaEIsRUFDSGxHLEVBQUVNLEtBQUssQ0FDTkMsSUFBSyxzQ0FDTDRHLEtBQU0sT0FDTkMsWUFBYSxtQkFDYkMsS0FBTVIsRUFDTlMsUUFBUyxTQUFVNUcsR0FDbEIsSUFBSTZHLEVBQWtCN0csRUFBS00sR0FHM0JoQixFQUFFLGtCQUFvQmUsR0FBYXdELEtBQUssS0FBTSxpQkFBbUJnRCxHQUNqRXZILEVBQUUsa0JBQW9CdUgsR0FBaUJoRCxLQUFLLGFBQWMsaUJBQW1CZ0QsR0FTN0V2SCxFQUFFLGtCQUFvQnVILEdBQWlCdkMsWUFBWSxVQUNuRGhGLEVBQUUsa0JBQW9CdUgsR0FBaUJsQyxLQUFLLCtCQUErQkwsWUFBWSw0QkFDdkZoRixFQUFFLGtCQUFvQnVILEdBQWlCbEMsS0FBSyx1QkFBdUJMLFlBQVkscUJBRS9FaUMsRUFBWXZHLElBRWI4RyxNQUFPLFNBQVUvRSxFQUFPQyxFQUFZQyxHQWFuQyxJQUFJOEUsRUFFSixHQWJBN0UsUUFBUTRFLE1BQU0sZUFFZDVFLFFBQVFDLElBQUksV0FDWkQsUUFBUUMsSUFBSUosR0FFWkcsUUFBUUMsSUFBSSxnQkFDWkQsUUFBUUMsSUFBSUgsR0FFWkUsUUFBUUMsSUFBSSxpQkFDWkQsUUFBUUMsSUFBSUYsUUFJc0IsSUFBdkJGLEVBQU1pRixhQUE4QixDQUs5Q0QsRUFKcUJoRixFQUFNaUYsYUFBeUIsV0FJeEIsS0FIZmpGLEVBQU1pRixhQUFvQixNQUdLLEtBRjlCakYsRUFBTWlGLGFBQXNCLGFBSTFDRCxFQUFXaEYsRUFBTWtGLGFBR2xCVCxJQUVBdEUsUUFBUTRFLE1BQU0sV0FBYUMsTUFTN0J6SCxFQUFFTSxLQUFLLENBQ05DLElBQUssc0NBQ0w0RyxLQUFNLFFBQ05DLFlBQWEsbUJBQ2JDLEtBQU1SLEVBQ05TLFFBQVMsV0FFUnRILEVBQUUsa0JBQW9CZSxHQUFhc0UsS0FBSywrQkFBK0JMLFlBQVksNEJBRW5GaEYsRUFBRSxrQkFBb0JlLEdBQWFzRSxLQUFLLHVCQUF1QkwsWUFBWSxxQkFFM0VpQyxLQUVETyxNQUFPLFNBQVUvRSxFQUFPQyxFQUFZQyxHQWFuQyxJQUFJOEUsRUFFSixHQWJBN0UsUUFBUTRFLE1BQU0sZUFFZDVFLFFBQVFDLElBQUksV0FDWkQsUUFBUUMsSUFBSUosR0FFWkcsUUFBUUMsSUFBSSxnQkFDWkQsUUFBUUMsSUFBSUgsR0FFWkUsUUFBUUMsSUFBSSxpQkFDWkQsUUFBUUMsSUFBSUYsUUFJc0IsSUFBdkJGLEVBQU1pRixhQUE4QixDQUs5Q0QsRUFKcUJoRixFQUFNaUYsYUFBeUIsV0FJeEIsS0FIZmpGLEVBQU1pRixhQUFvQixNQUdLLEtBRjlCakYsRUFBTWlGLGFBQXNCLGFBSTFDRCxFQUFXaEYsRUFBTWtGLGFBR2xCVCxJQUVBdEUsUUFBUTRFLE1BQU0sV0FBYUMsR0FFTixNQUFqQmhGLEVBQU1tRixRQUNUcEksS0FBS3FJLHlCQWVYOUIsU0FBWWhGLElBQ0l6QixZQUFZMkcsVUFBVWxGLEdBRTVCckIsS0FDUixXQUlDSixZQUFZd0ksV0FBVyxxQkFFeEIsU0FBVUMsR0FDVG5GLFFBQVE0RSxNQUFNTyxNQUtqQi9CLFNBQVcsS0FDVmhHLEVBQUUsa0RBQWtEK0QsU0FFcEQvRCxFQUFFLGtDQUFrQ0UsUUFBUSwwRkFpQjVDLElBQUk4SCxFQUFnQmhJLEVBQUUsdUNBRXRCQSxFQUFFWSxLQUFLb0gsRUFBZSxTQUFVbkgsRUFBS0MsR0FDcEMsSUFBSW9GLEdBQVEsRUFDUm5GLEVBQWNmLEVBQUVjLEdBQUt5RCxLQUFLLGNBRXpCdkUsRUFBRWMsR0FBS3dFLFNBQVMsWUFDcEJZLEdBQVEsR0FHTTVHLFlBQVkyRyxVQUFVbEYsRUFBYW1GLEdBRXpDeEcsS0FDUixXQUNLbUIsRUFBSSxJQUFNbUgsRUFBY3JILFFBQzNCckIsWUFBWXdJLFdBQVcscUJBR3pCLFNBQVVDLEdBQ1RuRixRQUFRNEUsTUFBTU8sUUFNbEJELFdBQWNBLElBQ2IsT0FBUUEsR0FDUCxJQUFLLG1CQUdMLElBQUssaUJBRUwsTUFDQSxJQUFLLG1CQUVKOUgsRUFBRSxrREFBa0QrRCxTQUVwRC9ELEVBQUUsa0NBQWtDRSxRQUFRLHNGQUc1QytILE9BQU90RSxXQUFZLFdBQ2xCM0QsRUFBRSxpREFBaURrSSxRQUFRLE9BQVEsV0FDbEVsSSxFQUFFc0UsTUFBTVAsWUFFUCxTQU9KeEUiLCJmaWxlIjoianMvbW9kdWxlcy9tb3ZpZV9hZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogbW92aWUtYWRtaW4uanMgKi9cclxudmFyIG1vdmllX2FkbWluID0gKCB0eXBlb2YgKG1vdmllX2FkbWluKSA9PT0gJ29iamVjdCcgKSA/IG1vdmllX2FkbWluIDoge307XHJcbihtb3ZpZV9hZG1pbiA9IHtcclxuXHRpbml0IDogKCkgPT4ge1xyXG5cdFx0YXV0aC5zZXNoX2NoZWNrKClcclxuXHRcdC50aGVuKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG1vdmllX2FkbWluLnNlc2hfc3VjY2VzcygpO1xyXG5cdFx0fSkuY2F0Y2goICgpID0+IHtcclxuXHRcdFx0LyoqIE5vIHZhbGlkIHNlc3Npb24gZm91bmQgKi9cclxuXHRcdFx0bW92aWVfYWRtaW4uc2VzaF9mYWlsKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNlc2hfc3VjY2VzcyA6ICgpID0+IHtcclxuXHRcdGF1dGgubG9nb3V0X2luaXQoKTtcclxuXHRcdG1vdmllX2FkbWluLmxvYWRfbW92aWVfbGlzdCgpO1xyXG5cdH1cclxuXHQsXHJcblx0c2VzaF9mYWlsIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluIC5zdGF0dXMtY29udGFpbmVyJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGNsYXNzPVwic3RhdHVzLWNvbnRhaW5lciBhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cInN0YXR1cy1tc2dcIj48YSBpZD1cImxvZ19pbl9wcm9tcHRcIiBocmVmPVwiI1wiPkxvZyBpbiB0byBlZGl0PC9hPjwvc3Bhbj4nICtcclxuXHRcdFx0JzwvZGl2Pic7XHJcblx0XHRcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykucHJlcGVuZChlcnJNc2cpO1xyXG5cclxuXHRcdGF1dGgubG9naW5fbW9kYWxfaW5pdCgpO1xyXG5cdH1cclxuXHQsXHJcblx0bG9hZF9tb3ZpZV9saXN0IDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluIC5zdGF0dXMtbXNnJykudGV4dCgnTW92aWVzIGxvYWRpbmcnKTtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnMnKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG5cclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfZ2V0X21vdmllP3JlY2lkPWFsbCcsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uIChyZXNwKSB7XHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHQvLyB2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlIFx0PSBtb3ZpZV9vYmouQWN0aXZlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnJztcclxuXHRcdFx0XHRcdGlmIChtb3ZpZV9hY3RpdmUpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnIGNoZWNrZWQnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSBtb3ZpZV9hZG1pbi5zZWVpbmdfc3RhcnMobW92aWVfcmF0aW5nKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgRFZEc2VsLCBTVFJzZWwsIFZIU3NlbDtcclxuXHRcdFx0XHRcdHN3aXRjaCAobW92aWVfZm9ybWF0KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ0RWRCc6XHJcblx0XHRcdFx0XHRcdFx0RFZEc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1N0cmVhbWluZyc6XHJcblx0XHRcdFx0XHRcdFx0U1RSc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1ZIUyc6XHJcblx0XHRcdFx0XHRcdFx0VkhTc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGxldCBtb3ZpZV9saXN0aW5nID0gYDxkaXYgY2xhc3M9XCJtb3ZpZS1saXN0aW5nXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGRhdGEtcmVjaWQ9XCIke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBkYXRhLWhhc2NoZ3M9XCJmYWxzZVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBpZD1cIm1vdmllX2xpc3RpbmdfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJtb3ZpZV90aXRsZSBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0YDxsYWJlbCBmb3I9XCJtb3ZpZV90aXRsZV8ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgVGl0bGVgICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8L2xhYmVsPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oNTAgY2hhcmFjdGVycyBvciBsZXNzKTwvc21hbGw+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfdGl0bGVfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgIHZhbHVlPVwiJHttb3ZpZV90aXRsZX1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIlRpdGxlXCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLW9ndmFsPVwiJHttb3ZpZV90aXRsZX1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YCB0eXBlPVwidGV4dFwiIG1pbmxlbmd0aD1cIjFcIiBtYXhsZW5ndGg9XCI1MFwiYCArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbHNcIj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfeWVhciBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX3llYXJfJHttb3ZpZV9yZWNpZH1cIj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgWWVhcmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oZnJvbSAxODAwIHRvIDIxMDApPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX3llYXJfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgdmFsdWU9XCIke21vdmllX3llYXJ9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIlllYXJcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1vZ3ZhbD1cIiR7bW92aWVfeWVhcn1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qKiBJbnB1dCB0eXBlPVwibnVtYmVyXCIgaGFzIHVuZGVzaXJhYmxlIHNpZGUgZWZmZWN0cyAqL1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGAgdHlwZT1cIm51bWJlclwiIG1pbj1cIjE4MDBcIiBtYXg9XCIyMTAwXCJgICsgXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qKiBUaGlzIHBhdHRlcm4gaXMgcGVyZmVjdCBidXQgdHJpZ2dlcmluZyB0aGUgbnVtZXJpYyBrZXlwYWQgb24gbW9iaWxlIGlzIHBlcmZlY3RlciAqL1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGAgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGR7NH1cIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWRgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKiogRnVuIGZhY3Q6IFRoaXMgcGF0dGVybiB3aWxsIHRyaWdnZXIgdGhlIG51bWVyaWMga2V5cGFkIG9uIG1vYmlsZSAqL1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiNFwiIHJlcXVpcmVkYCArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2xlbmd0aCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX2xlbmd0aF8ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGBMZW5ndGhgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCB2YWx1ZT1cIiR7bW92aWVfbGVuZ3RofVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1vZ3ZhbD1cIiR7bW92aWVfbGVuZ3RofVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCIzXCIgcmVxdWlyZWRgICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8bGFiZWwgZm9yPVwibW92aWVfcmF0aW5nXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YFJhdGluZ2AgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oU2VsZWN0IGEgcmF0aW5nKTwvc21hbGw+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8aW5wdXQgaWQ9XCJtb3ZpZV9yYXRpbmdfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgdmFsdWU9XCIke21vdmllX3JhdGluZ31cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtb2d2YWw9XCIke21vdmllX3JhdGluZ31cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1XCIgaGlkZGVuYCArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGBGb3JtYXRgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XyR7bW92aWVfcmVjaWR9XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1mbGRuYW1lPVwiRm9ybWF0XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGRhdGEtb2d2YWw9XCIke21vdmllX2Zvcm1hdH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGA8b3B0aW9uIHZhbHVlPVwiRFZEXCIgJHtEVkRzZWx9PkRWRDwvb3B0aW9uPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGA8b3B0aW9uIHZhbHVlPVwiU3RyZWFtaW5nXCIgJHtTVFJzZWx9PlN0cmVhbWluZzwvb3B0aW9uPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGA8b3B0aW9uIHZhbHVlPVwiVkhTXCIgJHtWSFNzZWx9PlZIUzwvb3B0aW9uPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPC9zZWxlY3Q+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2FjdGl2ZSBmb3JtLWZpZWxkLWNvbnRhaW5lciBjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3hcIj5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX2FjdGl2ZV8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJBY3RpdmVcImAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZGF0YS1vZ3ZhbD1cIiR7bW92aWVfYWN0aXZlfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIHR5cGU9XCJjaGVja2JveFwiYCArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1vdmllX2FjdGl2ZV9jaGVja2VkICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDxsYWJlbGAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGAgZm9yPVwibW92aWVfYWN0aXZlXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgIGNsYXNzPVwibGJsX2NoZWNrYm94IGN1c3RvbS1jb250cm9sLWxhYmVsXCJgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGBBY3RpdmVgICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRcdFx0YDwvZGl2PmAgK1xyXG5cdFx0XHRcdFx0XHRgPC9kaXY+YFxyXG5cdFx0XHRcdFx0O1xyXG5cclxuXHRcdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykuYXBwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gcmVzcC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4ucmVhZHkoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSkuZmFpbCggZnVuY3Rpb24gKCBqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKSB7XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbiAuc3RhdHVzLWNvbnRhaW5lcicpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cclxuXHRcdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGNsYXNzPVwic3RhdHVzLWNvbnRhaW5lciBhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG5cdFx0XHRcdFx0JzxzcGFuIGNsYXNzPVwic3RhdHVzLW1zZ1wiPlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyB0aGUgbW92aWVzLjwvYnI+VHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2UgYW5kIGlmIHRoZSBwcm9ibGVtIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCB1cy48L3NwYW4+JyArXHJcblx0XHRcdFx0JzwvZGl2Pic7XHJcblx0XHRcdFxyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLnByZXBlbmQoZXJyTXNnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0cmVhZHkgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW4gLnN0YXR1cy1jb250YWluZXInKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRtb3ZpZV9hZG1pbi5hZGRfbW92aWVfY2xpY2soKTtcclxuXHRcdCQoJy5hZGQtbW92aWUnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHRcdFxyXG5cdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19maWVsZCgpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2hvdmVyKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5yYXRpbmdfY2xpY2soKTtcclxuXHRcdC8vIG1vdmllX2FkbWluLnNhdmVfb25lX2NsaWNrKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jbGljaygpO1xyXG5cdH1cclxuXHQsXHJcblx0YWRkX21vdmllX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLmFkZC1tb3ZpZScpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG1vdmllX2FkbWluLmFkZF9tb3ZpZSgpO1xyXG5cclxuXHRcdFx0JCgnaW5wdXQnKS5maXJzdCgpLmZvY3VzKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdGFkZF9tb3ZpZSA6ICgpID0+IHtcclxuXHRcdHZhciBtb3ZpZV9yZWNpZCA9IERhdGUubm93KCk7XHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJzID0gbW92aWVfYWRtaW4uc2VlaW5nX3N0YXJzKCcxJyk7XHJcblxyXG5cdFx0bGV0IG1vdmllX2xpc3RpbmcgPSBgPGRpdiBjbGFzcz1cIm1vdmllLWxpc3RpbmcgaXMtbmV3IGZvcm0tZ3JvdXAgaGlnaGxpZ2h0XCJgICtcclxuXHRcdFx0XHRgIGRhdGEtcmVjaWQ9XCIke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0YCBkYXRhLWhhc2NoZ3M9XCJmYWxzZVwiYCArXHJcblx0XHRcdFx0YCBpZD1cIm1vdmllX2xpc3RpbmdfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdGAgY2xhc3M9XCJtb3ZpZS1saXN0aW5nLW5ld1wiYCArXHJcblx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+YCArXHJcblx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdGBUaXRsZWAgK1xyXG5cdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPig1MCBjaGFyYWN0ZXJzIG9yIGxlc3MpPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdGA8aW5wdXQgaWQ9XCJtb3ZpZV90aXRsZV8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdGAgdmFsdWU9XCJcImAgK1xyXG5cdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIlRpdGxlXCJgICtcclxuXHRcdFx0XHRcdFx0YCBjbGFzcz1cImZvcm0tY29udHJvbFwiYCArXHJcblx0XHRcdFx0XHRcdGAgdHlwZT1cInRleHRcIiBtaW5sZW5ndGg9XCIxXCIgbWF4bGVuZ3RoPVwiNTBcIiByZXF1aXJlZGAgKyBcclxuXHRcdFx0XHRcdFx0YD5gICtcclxuXHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0YDxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxzXCI+YCArXHJcblx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX3llYXIgZm9ybS1maWVsZC1jb250YWluZXJcIj5gICtcclxuXHRcdFx0XHRcdFx0YDxsYWJlbCBmb3I9XCJtb3ZpZV95ZWFyXyR7bW92aWVfcmVjaWR9XCI+YCArXHJcblx0XHRcdFx0XHRcdFx0YFllYXJgICtcclxuXHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdGA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGZyb20gMTgwMCB0byAyMTAwKTwvc21hbGw+YCArXHJcblx0XHRcdFx0XHRcdGA8aW5wdXQgaWQ9XCJtb3ZpZV95ZWFyXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIHZhbHVlPVwiXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIlllYXJcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiNFwiIHJlcXVpcmVkYCArIFxyXG5cdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX2xlbmd0aCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX2xlbmd0aF8ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdGBMZW5ndGhgICtcclxuXHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdGA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD5gICtcclxuXHRcdFx0XHRcdFx0YDxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8ke21vdmllX3JlY2lkfVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCB2YWx1ZT1cIlwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiM1wiIHJlcXVpcmVkYCArIFxyXG5cdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdFx0XHRgPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18ke21vdmllX3JlY2lkfVwiPmAgK1xyXG5cdFx0XHRcdFx0XHRcdGBSYXRpbmdgICtcclxuXHRcdFx0XHRcdFx0YDwvbGFiZWw+YCArXHJcblx0XHRcdFx0XHRcdGA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KFNlbGVjdCBhIHJhdGluZyk8L3NtYWxsPmAgK1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgK1xyXG5cdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfcmF0aW5nXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIHZhbHVlPVwiMVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJSYXRpbmdcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJmb3JtLWNvbnRyb2wgdmFsQ2hnXCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgbWF4PVwiNVwiIGhpZGRlbiByZXF1aXJlZGAgKyBcclxuXHRcdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0YDwvZGl2PmAgK1xyXG5cdFx0XHRcdFx0YDxkaXYgY2xhc3M9XCJtb3ZpZV9mb3JtYXQgZm9ybS1maWVsZC1jb250YWluZXJcIj5gICtcclxuXHRcdFx0XHRcdFx0YDxsYWJlbCBmb3I9XCJtb3ZpZV9mb3JtYXRfJHttb3ZpZV9yZWNpZH1cIj5gICtcclxuXHRcdFx0XHRcdFx0XHRgRm9ybWF0YCArXHJcblx0XHRcdFx0XHRcdGA8L2xhYmVsPmAgK1xyXG5cdFx0XHRcdFx0XHRgPHNlbGVjdCBpZD1cIm1vdmllX2Zvcm1hdF8ke21vdmllX3JlY2lkfVwiIGNsYXNzPVwiZm9ybS1jb250cm9sIHZhbENoZ1wiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0YDxvcHRpb24gdmFsdWU9XCJEVkRcIj5EVkQ8L29wdGlvbj5gICtcclxuXHRcdFx0XHRcdFx0XHRgPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiIHNlbGVjdGVkPlN0cmVhbWluZzwvb3B0aW9uPmAgK1xyXG5cdFx0XHRcdFx0XHRcdGA8b3B0aW9uIHZhbHVlPVwiVkhTXCI+VkhTPC9vcHRpb24+YCArXHJcblx0XHRcdFx0XHRcdGA8L3NlbGVjdD5gICtcclxuXHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRcdGA8ZGl2IGNsYXNzPVwibW92aWVfYWN0aXZlIGZvcm0tZmllbGQtY29udGFpbmVyIGN1c3RvbS1jb250cm9sIGN1c3RvbS1jaGVja2JveFwiPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGlucHV0IGlkPVwibW92aWVfYWN0aXZlXyR7bW92aWVfcmVjaWR9XCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIGRhdGEtZmxkbmFtZT1cIkFjdGl2ZVwiYCArXHJcblx0XHRcdFx0XHRcdFx0YCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCJgICtcclxuXHRcdFx0XHRcdFx0XHRgIHR5cGU9XCJjaGVja2JveFwiYCArIFxyXG5cdFx0XHRcdFx0XHRcdGAgY2hlY2tlZGAgK1xyXG5cdFx0XHRcdFx0XHRgPmAgK1xyXG5cdFx0XHRcdFx0XHRgPGxhYmVsYCArXHJcblx0XHRcdFx0XHRcdFx0YCBmb3I9XCJtb3ZpZV9hY3RpdmVfJHttb3ZpZV9yZWNpZH1cImAgK1xyXG5cdFx0XHRcdFx0XHRcdGAgY2xhc3M9XCJsYmxfY2hlY2tib3ggY3VzdG9tLWNvbnRyb2wtbGFiZWxcImAgK1xyXG5cdFx0XHRcdFx0XHRcdGA+YCArXHJcblx0XHRcdFx0XHRcdFx0YEFjdGl2ZWAgK1xyXG5cdFx0XHRcdFx0XHRgPC9sYWJlbD5gICtcclxuXHRcdFx0XHRcdGA8L2Rpdj5gICtcclxuXHRcdFx0XHRgPC9kaXY+YCArXHJcblx0XHRcdGA8L2Rpdj5gXHJcblx0XHQ7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5wcmVwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cdFx0JCgnLmlzLW5ldyAubW92aWVfcmF0aW5nX3N0YXJzJykuYWRkQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHRcclxuXHRcdC8qKiBcclxuXHRcdCAqIFNpbmNlIHRoZSBzZXQgb2YgZWxlbWVudHMgZm9yIGEgbmV3IGxpc3RpbmcgYXJlIGNyZWF0ZWQgaW4gdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gXHJcblx0XHQgKiBhcyB0aGUgZXhpc3RpbmcgdG9wbW9zdCBlbGVtZW50cywgYSBuZXcgbGlzdGluZyBoYXMgYSBjbGFzcyBkZXNpZ25lZCB0byBkcmF3IGF0dGVudGlvbiBcclxuXHRcdCAqIHRvIHRoZSBibG9jayBvZiBuZXdseSBjcmVhdGVkIGVsZW1lbnRzLiBUaGUgc3BlY2lhbCBjbGFzcyBpcyByZW1vdmVkLCBhbGxvd2luZyBDU1MgdHJhbnNpdGlvbnNcclxuXHRcdCAqIHRvIGhhbmRsZSB0aGUgYW5pbWF0aW9uLiBcclxuXHRcdCAqIEEgc2xpZ2h0IGRlbGF5IGlzIHJlcXVpcmVkLCBvdGhlcndpc2UgdGhlIHN0eWxlcyBmb3IgdGhlIHNwZWNpYWwgY2xhc3MgYXJlIG5ldmVyIHZpc2libGUuXHJcblx0XHQgKi9cclxuXHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1vdmllX2xpc3RpbmdfJHttb3ZpZV9yZWNpZH1gKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuXHRcdH0sIDUwMCk7XHJcblx0fVxyXG5cdCxcclxuXHRzZWVpbmdfc3RhcnMgOiAobW92aWVfcmF0aW5nKSA9PiB7XHJcblx0XHQvKipcclxuXHRcdCAqIFN0YXIgQVNDSUkgY29kZXNcclxuXHRcdCAqIC0gLSAtIC0gLSAtIC0gLSAtXHJcblx0XHQgKiBTb2xpZCBzdGFyOiAmIzk3MzM7XHJcblx0XHQgKiBPdXRsaW5lIHN0YXI6ICYjOTczNDtcclxuXHRcdCAqL1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9ICcnO1xyXG5cdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhcnNcIj4nO1xyXG5cdFx0LyoqIFNldCB0aGUgbG93ZXN0IHZhbHVlICovXHJcblx0XHR2YXIgcmF0aW5nc3RhciA9IDE7XHJcblx0XHQvKiogQWRkIGEgc2VsZWN0ZWQgaW5kaWNhdG9yIHRvIHRoZSBvYmplY3QgdW50aWwgdGhlIHNlbGVjdGVkIHJhdGluZyB2YWx1ZSBpcyByZWFjaGVkICovXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vdmllX3JhdGluZzsgaSsrKSB7XHJcblx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSBgPHNwYW4gY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhciBtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZFwiIGRhdGEtcmF0aW5nc3Rhcj1cIiR7cmF0aW5nc3Rhcn1cIj4mIzk3MzM8L3NwYW4+YDtcclxuXHRcdFx0XHJcblx0XHRcdHJhdGluZ3N0YXIrKztcclxuXHRcdH1cclxuXHRcdC8qKiBTdWJ0cmFjdCB0aGUgc2VsZWN0ZWQgcmF0aW5nIGZyb20gdGhlIGhpZ2hlc3QgcG9zc2libGUgdG8gZ2V0IGFuIHVuc2VsZWN0ZWQvZmlsbGVyIGNvdW50ICovXHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJfdG90YWxDdCA9IDU7XHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0ID0gbW92aWVfcmF0aW5nX3N0YXJfdG90YWxDdC1tb3ZpZV9yYXRpbmc7XHJcblx0XHQvKiogQWRkIGFuIHVuc2VsZWN0ZWQgaW5kaWNhdG9yIHRvIHRoZSBvYmplY3QgdW50aWwgZmlsbGVyIGNvdW50IGlzIHJlYWNoZWQgKi9cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3Q7IGkrKykge1xyXG5cdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gYDxzcGFuIGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXIgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZFwiIGRhdGEtcmF0aW5nc3Rhcj1cIiR7cmF0aW5nc3Rhcn1cIj4mIzk3MzQ8L3NwYW4+YDtcclxuXHJcblx0XHRcdHJhdGluZ3N0YXIrKztcclxuXHRcdH1cclxuXHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPC9kaXY+JztcclxuXHJcblx0XHRyZXR1cm4gbW92aWVfcmF0aW5nX3N0YXJzO1xyXG5cdH1cclxuXHQsXHJcblx0dHJhY2tfY2hhbmdlc19maWVsZCA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIG9nVmFsID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCh0aGlzKS52YWwoKTtcclxuXHRcdFx0dmFyIGZsZF9uYW1lID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZsZG5hbWUnKTtcclxuXHRcdFx0dmFyIGZsZF9lbCA9ICQodGhpcylbMF07XHJcblx0XHRcdHZhciBmbGRfdmFsO1xyXG5cdFx0XHRcclxuXHRcdFx0LyoqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9WYWxpZGl0eVN0YXRlICovXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKGZsZF9lbC52YWxpZGl0eSk7XHJcblxyXG5cdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG5cdFx0XHRcclxuXHRcdFx0LyoqIElmIHRoZSBjdXJyZW50IHZhbHVlIGlzbid0IHRoZSBvcmlnaW5hbCB2YWx1ZSwgbWFyayB0aGUgZmllbGQgYXMgY2hhbmdlZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRcdFx0LyoqIERvIHNvbWUgdmFsaWRhdGlvbiAqL1xyXG5cdFx0XHRcdHN3aXRjaCAoZmxkX25hbWUpIHtcclxuXHRcdFx0XHRcdGNhc2UgJ1RpdGxlJzpcclxuXHRcdFx0XHRcdFx0dmFyIGNoa190aXRsZSA9ICQodGhpcykudmFsKCkubGVuZ3RoID4gMCAmJiAkKHRoaXMpLnZhbCgpLmxlbmd0aCA8IDUxO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiAoIWNoa190aXRsZSkge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnVGl0bGUgbXVzdCBiZSAxIHRvIDUwIGNoYXJhY3RlcnMnKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ1llYXInOlxyXG5cdFx0XHRcdFx0XHQvKiogT25seSBhbGxvdyBudW1iZXJzICovXHJcblx0XHRcdFx0XHRcdGZsZF92YWwgPSB1dGlscy5pbnB1dF9udW1iZXJzX29ubHkoY3VyclZhbCk7XHJcblx0XHRcdFx0XHRcdCQodGhpcykudmFsKGZsZF92YWwpO1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIGNoa195ciA9ICQodGhpcykudmFsKCkubGVuZ3RoID09PSA0ICYmICggcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA+PSAxODAwICYmIHBhcnNlSW50KCAkKHRoaXMpLnZhbCgpICkgPD0gMjEwMCApO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICghY2hrX3lyKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCdNdXN0IGJlIGEgNCBkaWdpdCBudW1iZXIgYmV0d2VlbiAxODAwIGFuZCAyMTAwJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdMZW5ndGgnOlxyXG5cdFx0XHRcdFx0XHQvKiogT25seSBhbGxvdyBudW1iZXJzICovXHJcblx0XHRcdFx0XHRcdGZsZF92YWwgPSB1dGlscy5pbnB1dF9udW1iZXJzX29ubHkoY3VyclZhbCk7XHJcblx0XHRcdFx0XHRcdCQodGhpcykudmFsKGZsZF92YWwpO1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIGNoa19sZW4gPSAoIHBhcnNlSW50KCAkKHRoaXMpLnZhbCgpICkgPj0gMSAmJiBwYXJzZUludCggJCh0aGlzKS52YWwoKSApIDw9IDk5OSApO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICggIWNoa19sZW4gKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCdNdXN0IGJlIGEgMyBkaWdpdCBudW1iZXIgZ3JlYXRlciB0aGFuIDEnKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygndmFsQ2hnJykubmV4dEFsbCgnLnZhbENoZ01zZycpLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKiogVGhpcyBkZWxpdmVycyB0aGUgY3VzdG9tIHZhbGlkYXRpb24gbWVzc2FnZXMgKi9cclxuXHRcdFx0LyogdmFyIGZsZF9pc1ZhbGlkID0gZmxkX2VsLmNoZWNrVmFsaWRpdHkoKTtcclxuXHJcblx0XHRcdGlmICghZmxkX2lzVmFsaWQpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhmbGRfZWwudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG5cclxuXHRcdFx0fSAqL1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19saXN0aW5nKCAkKHRoaXMpICk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLm9uKCdjaGFuZ2UnLCAnc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtb2d2YWwnKTtcclxuXHRcdFx0dmFyIGN1cnJWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuXHRcdFx0LyoqIElmIHRoZSBjdXJyZW50IHZhbHVlIGlzbid0IHRoZSBvcmlnaW5hbCB2YWx1ZSwgbWFyayB0aGUgZmllbGQgKi9cclxuXHRcdFx0aWYgKG9nVmFsICE9PSBjdXJyVmFsKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygndmFsQ2hnJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygndmFsQ2hnJykubmV4dEFsbCgnLnZhbENoZ01zZycpLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi50cmFja19jaGFuZ2VzX2xpc3RpbmcoICQodGhpcykgKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0dHJhY2tfY2hhbmdlc19saXN0aW5nIDogKGpxT2JqKSA9PiB7XHJcblx0XHR2YXIgaGFzQ2hncyA9IGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZS1saXN0aW5nJykuZmluZCgnaW5wdXQsIHNlbGVjdCcpLmhhc0NsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRpZiAoaGFzQ2hncykge1xyXG5cdFx0XHRqcU9iai5jbG9zZXN0KCcubW92aWUtbGlzdGluZycpLmF0dHIoJ2RhdGEtaGFzY2hncycsIHRydWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0anFPYmouY2xvc2VzdCgnLm1vdmllLWxpc3RpbmcnKS5hdHRyKCdkYXRhLWhhc2NoZ3MnLCBmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGxfY2hlY2soKTtcclxuXHR9XHJcblx0LFxyXG5cdHJhdGluZ19ob3ZlciA6ICgpID0+IHtcclxuXHRcdC8qKiBIYXZlIHRvIHVzZSBkZWxlZ2F0ZWQgYXBwcm9hY2ggdG8gd29yayB3aXRoIGluamVjdGVkIGVsZW1lbnRzIChlLmcuLCBuZXcgbW92aWUpICovXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpXHJcblx0XHRcdC5vbignbW91c2VlbnRlcicsICcubW92aWVfcmF0aW5nX3N0YXInLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcclxuXHRcdFx0XHQvKiogTWFrZSBob3ZlcmVkIGl0ZW0gaW50byBzZWxlY3RlZCBzdGF0ZSAqL1xyXG5cdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzMzICcpO1xyXG5cclxuXHRcdFx0XHQvKiogXHJcblx0XHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBiZWZvcmUgaG92ZXJlZCBpdGVtIGludG8gdGhlIHNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmh0bWwoJyYjOTczMyAnKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX3ByZXZTaWInKTtcclxuXHJcblx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgaG92ZXJlZCBpdGVtIGludG8gdGhlIHVuc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSB1bnNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0JCh0aGlzKS5uZXh0QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5odG1sKCcmIzk3MzQgJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9uZXh0U2liJyk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5vbignbW91c2VsZWF2ZScsICcubW92aWVfcmF0aW5nX3N0YXInLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfcHJldlNpYicpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfbmV4dFNpYicpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8qKiBSZXNldCBhbGwgc3RhcnMgdG8gb3JpZ2luYWwgc3RhdGUgKi9cclxuXHRcdFx0XHRpZiAoICQodGhpcykuaGFzQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczMyAnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzQgJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoJy5tb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLmh0bWwoJyYjOTczMyAnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCcubW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpLmh0bWwoJyYjOTczNCAnKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LFxyXG5cdHJhdGluZ19jbGljayA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2NsaWNrJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIG1vdmllX3JhdGluZ19zZWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmF0aW5nc3RhcicpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZS1saXN0aW5nJykuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0LyoqIEZpcmUgY2hhbmdlIGV2ZW50IG9uIGFzc29jaWF0ZWQgaW5wdXQgKi9cclxuXHRcdFx0JChgI21vdmllX3JhdGluZ18ke21vdmllX3JlY2lkfWApLnZhbChtb3ZpZV9yYXRpbmdfc2VsKS5jaGFuZ2UoKTtcclxuXHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbCgpO1xyXG5cclxuXHRcdFx0LyoqIElmIHRoZSBjdXJyZW50IHZhbHVlIGlzbid0IHRoZSBvcmlnaW5hbCB2YWx1ZSwgbWFyayB0aGUgZmllbGQgKi9cclxuXHRcdFx0LyoqIENoYW5nZSBjb2xvcnMgb24gcmF0aW5nIGRpc3BsYXkgdG8gbWltaWMgaW5wdXQgZmllbGRzICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLmFkZENsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2Ugc2VsY3RlZCBpdGVtIFxyXG5cdFx0XHQgKiBhbmQgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGl0IFxyXG5cdFx0XHQgKiBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJyk7XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgc2VsZWN0ZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmVfY2hlY2sgOiAoKSA9PiB7XHJcblx0XHQvLyBjaGVjayBpZiBmaWVsZHMgYXNzb2NpYXRlZCB0byBnaXZlbiBzYXZlIGJ1dHRvbiBoYXZlIGNoYW5nZWRcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsX2NoZWNrIDogKCkgPT4ge1xyXG5cdFx0aWYgKCAkKCcudmFsQ2hnJykubGVuZ3RoICE9PSAwICkge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHJcblx0XHRcdC8qKiBJZiBhbiAubXNnX3Vuc2F2ZWRDaGdzIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdGlmICggJCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfdW5zYXZlZENoZ3MnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3Vuc2F2ZWRDaGdzIG1zZy13YXJuaW5nXCI+VGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlcyE8L3NtYWxsPicpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ191bnNhdmVkQ2hncycpLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmVfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuc2F2ZV9pdGVtJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCh0aGlzKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnNhdmVfb25lKG1vdmllX3JlY2lkKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGxfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuc2F2ZS1hbGwnKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKHRoaXMpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2l0ZW0gOiAobW92aWVfcmVjaWQsIGlzTmV3KSA9PiB7XHJcblx0XHR2YXIgcmVxX29iaiA9IHtcclxuXHRcdFx0J0lEJzogbW92aWVfcmVjaWRcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIHJlcV9vYmpfZmxkcyA9IHt9O1xyXG5cdFx0dmFyIGNoZ2RGbGRzQXJyID0gJCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcudmFsQ2hnJyk7XHJcblxyXG5cdFx0LyoqIFxyXG5cdFx0ICogRm9yIGVhY2ggY2hhbmdlZCBmaWVsZCwgXHJcblx0XHQgKiBnZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB0aGF0IGhhcyB0aGUgYXNzb2NpYXRlZCBmaWVsZCBuYW1lIGluIHRoZSBkYXRhIHN0b3JlXHJcblx0XHQgKiBhbG9uZyB3aXRoIHRoZSBmaWVsZCB2YWx1ZSBcclxuXHRcdCAqIHRvIGJ1aWxkIGFuIG9iamVjdCBvZiBrZXkvdmFsdWUgcGFpcnMgXHJcblx0XHQgKiB0byBzZW5kIGluIGVhY2ggcmVxdWVzdFxyXG5cdFx0ICovXHJcblxyXG5cdFx0JC5lYWNoKGNoZ2RGbGRzQXJyLCBmdW5jdGlvbiAoaWR4X2ZsZCwgaXRtX2ZsZCkge1xyXG5cdFx0XHR2YXIgZmxkTmFtZSA9ICQoaXRtX2ZsZCkuYXR0cignZGF0YS1mbGRuYW1lJyk7XHJcblx0XHRcdHZhciBmbGRWYWwgPSAkKGl0bV9mbGQpLnZhbCgpO1xyXG5cclxuXHRcdFx0aWYgKCBmbGROYW1lID09PSAnWWVhcicgfCBmbGROYW1lID09PSAnTGVuZ3RoJyB8IGZsZE5hbWUgPT09ICdSYXRpbmcnICkge1xyXG5cdFx0XHRcdGZsZFZhbCA9IE51bWJlcihmbGRWYWwpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXFfb2JqX2ZsZHNbZmxkTmFtZV0gPSBmbGRWYWw7XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgbW92aWVfYWN0aXZlID0gJCgnI21vdmllX2FjdGl2ZV8nICsgbW92aWVfcmVjaWQpLmlzKCc6Y2hlY2tlZCcpO1xyXG5cclxuXHRcdHJlcV9vYmpfZmxkc1snQWN0aXZlJ10gPSBtb3ZpZV9hY3RpdmU7XHJcblxyXG5cdFx0cmVxX29iai5maWVsZHMgPSByZXFfb2JqX2ZsZHM7XHJcblxyXG5cdFx0dmFyIHJlcV9zdHIgPSBKU09OLnN0cmluZ2lmeShyZXFfb2JqKTtcclxuXHJcblx0XHR2YXIgc2F2ZUl0ZW1Qcm9tID0gbmV3IFByb21pc2UoIGZ1bmN0aW9uIChwcm9tU3VjY2VzcywgcHJvbUVycm9yKSB7XHJcblx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdCQuYWpheCh7XHJcblx0XHRcdFx0XHR1cmw6ICcvLm5ldGxpZnkvZnVuY3Rpb25zL2F0X2NyZWF0ZV9tb3ZpZScsXHJcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRcdFx0ZGF0YTogcmVxX3N0cixcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwKSB7XHJcblx0XHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZF9uZXcgPSByZXNwLmlkO1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFJlcGxhY2Ugb2NjdXJlbmNlcyBvZiBtaWxsaXNlY29uZCBzdGFtcCBJRCB3aXRoIG5ld2x5LWNyZWF0ZWQgcmV0dXJuZWQgSUQgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5hdHRyKCdpZCcsICdtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5hdHRyKCdkYXRhLXJlY2lkJywgJ21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvKiogXHJcblx0XHRcdFx0XHRcdCAqIE5lZWQgc29sdXRpb24gZm9yIGZpbmRpbmcgYWxsIG9jY3VyZW5jZXMgb2YgdGVtcG9yYXJ5IElEIHdpdGggbmV3IG9uZSBcclxuXHRcdFx0XHRcdFx0ICogUG9zc2libGUgc29sdXRpb24gaXMgdG8gZWxpbWluYXRlIGFsbCB0aGUgcGxhY2VzIHdoZXJlIHRoYXQgdW5pcXVlIElEIGlzIHVzZWRcclxuXHRcdFx0XHRcdFx0ICogaS5lLiwganVzdCByZWx5IG9uIHBhcmVudCBlbGVtZW50IGF0dHJpYnV0ZXNcclxuXHRcdFx0XHRcdFx0ICovXHJcblxyXG5cdFx0XHRcdFx0XHQvKiogUmVzZXQgZmllbGRzIHRvIHVuY2hhbmdlZCBzdHlsZXMgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykucmVtb3ZlQ2xhc3MoJ2lzLW5ldycpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5maW5kKCcudmFsQ2hnLCAudmFsQ2hnLWNvbG9yc09ubHknKS5yZW1vdmVDbGFzcygndmFsQ2hnIHZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpLmZpbmQoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5yZW1vdmVDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0cHJvbVN1Y2Nlc3MocmVzcCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignZXJyb3IgZXZlbnQnKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdqcVhIUjogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGpxWEhSKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHZhciBlcnJfZGlzcDtcclxuXHRcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBqcVhIUi5yZXNwb25zZUpTT04gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9zdGF0dXNDb2RlID0ganFYSFIucmVzcG9uc2VKU09OWydzdGF0dXNDb2RlJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9pcyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnZXJyb3InXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX21zZyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnbWVzc2FnZSddO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRcdGVycl9kaXNwID0gZXJyX3N0YXR1c0NvZGUgKyAnXFxuJyArIGVycl9pcyArICdcXG4nICsgZXJyX21zZztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGpxWEhSLnJlc3BvbnNlVGV4dDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0cHJvbUVycm9yKCk7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yOlxcbicgKyBlcnJfZGlzcCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0LyogY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcclxuXHRcclxuXHRcdFx0XHRcdH0gKi9cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF91cGRhdGVfbW92aWUnLFxyXG5cdFx0XHRcdFx0dHlwZTogJ1BBVENIJyxcclxuXHRcdFx0XHRcdGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdFx0XHRkYXRhOiByZXFfc3RyLFxyXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQvKiogUmVzZXQgZmllbGRzIHRvIHVuY2hhbmdlZCBzdHlsZSAqL1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQpLmZpbmQoJy52YWxDaGcsIC52YWxDaGctY29sb3JzT25seScpLnJlbW92ZUNsYXNzKCd2YWxDaGcgdmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcubW92aWVfcmF0aW5nX3N0YXJzJykucmVtb3ZlQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdHByb21TdWNjZXNzKCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignZXJyb3IgZXZlbnQnKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdqcVhIUjogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGpxWEhSKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHZhciBlcnJfZGlzcDtcclxuXHRcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBqcVhIUi5yZXNwb25zZUpTT04gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9zdGF0dXNDb2RlID0ganFYSFIucmVzcG9uc2VKU09OWydzdGF0dXNDb2RlJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9pcyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnZXJyb3InXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX21zZyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnbWVzc2FnZSddO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRcdGVycl9kaXNwID0gZXJyX3N0YXR1c0NvZGUgKyAnXFxuJyArIGVycl9pcyArICdcXG4nICsgZXJyX21zZztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGpxWEhSLnJlc3BvbnNlVGV4dDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0cHJvbUVycm9yKCk7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yOlxcbicgKyBlcnJfZGlzcCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoanFYSFIuc3RhdHVzID09PSA0MDEpIHtcclxuXHRcdFx0XHRcdFx0XHRhdXRoLnNob3dfbG9naW5fbW9kYWwoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdC8qIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2NvbXBsZXRlIGV2ZW50Jyk7XHJcblx0XHJcblx0XHRcdFx0XHR9ICovXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBzYXZlSXRlbVByb207XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX29uZSA6IChtb3ZpZV9yZWNpZCkgPT4ge1xyXG5cdFx0dmFyIHNhdmVJdGVtID0gbW92aWVfYWRtaW4uc2F2ZV9pdGVtKG1vdmllX3JlY2lkKTtcclxuXHJcblx0XHRzYXZlSXRlbS50aGVuKFxyXG5cdFx0XHRmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0LyoqIEZsYWcgYW4gZWxlbWVudCBzbyB0aGUgbWVzc2FnZSBjYW4gYmUgcGxhY2VkIGNvbnRleHR1YWxseSAqL1xyXG5cdFx0XHRcdC8vXHJcblxyXG5cdFx0XHRcdG1vdmllX2FkbWluLnN0YXR1c19tc2coJ3NhdmVfb25lX3N1Y2Nlc3MnKTtcclxuXHRcdFx0fSwgXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJPYmopIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVyck9iaik7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbCA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3NhdmVTdGF0dXMnKS5yZW1vdmUoKTtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c21hbGwgY2xhc3M9XCJtc2dfc2F2ZVN0YXR1cyBtc2dfc2F2aW5nQWxsQ2hncyBtc2ctaW5mb1wiPlNhdmluZyBhbGwgY2hhbmdlcy4uLjwvc21hbGw+Jyk7XHJcblxyXG5cdFx0LyoqIEdhdGhlciBjaGFuZ2VzIGFuZCBzZW5kIFBBVENIIHJlcXVlc3QgdG8gQVBJIHBlciBtb3ZpZSAqL1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIENoYW5nZXMgbmVlZCB0byBiZSBncm91cGVkIHBlciByZWNvcmQgKGkuZS4sIG1vdmllKVxyXG5cdFx0ICogXHJcblx0XHQgKiBQcmV0dHkgc3VyZSB0aGUgYmVzdCBvcHRpb24gaXMgdG8gXHJcblx0XHQgKiBmbGFnIGEgcGFyZW50IGVsZW1lbnQgKGUuZy4sIFwiLm1vdmllLWxpc3RpbmdcIikgb24gY2hhbmdlcyxcclxuXHRcdCAqIHVzaW5nIHRoYXQgYXMgdGhlIHN0YXJ0aW5nIHBvaW50IFxyXG5cdFx0ICogdG8gdHJhdmVyc2UgZG93biBjaGlsZHJlblxyXG5cdFx0ICogYW5kIGNvbGxlY3QgY2hhbmdlcy5cclxuXHRcdCAqXHJcblx0XHQgKiBJZiBhbGwgY2hhbmdlcyBmb3IgYSBnaXZlbiByZWNvcmQgYXJlIGJhY2tlZCBvdXRcclxuXHRcdCAqIGNsZWFyIGZsYWcgb24gcGFyZW50IGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cclxuXHRcdHZhciBjaGdkTW92aWVzQXJyID0gJCgnLm1vdmllLWxpc3RpbmdbZGF0YS1oYXNjaGdzPVwidHJ1ZVwiXScpO1xyXG5cclxuXHRcdCQuZWFjaChjaGdkTW92aWVzQXJyLCBmdW5jdGlvbiAoaWR4LCBpdG0pIHtcclxuXHRcdFx0dmFyIGlzTmV3ID0gZmFsc2U7XHJcblx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9ICQoaXRtKS5hdHRyKCdkYXRhLXJlY2lkJyk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoICQoaXRtKS5oYXNDbGFzcygnaXMtbmV3JykgKSB7XHJcblx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgc2F2ZUl0ZW0gPSBtb3ZpZV9hZG1pbi5zYXZlX2l0ZW0obW92aWVfcmVjaWQsIGlzTmV3KTtcclxuXHJcblx0XHRcdHNhdmVJdGVtLnRoZW4oXHJcblx0XHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKGlkeCsxID09PSBjaGdkTW92aWVzQXJyLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9hZG1pbi5zdGF0dXNfbXNnKCdzYXZlX2FsbF9zdWNjZXNzJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgXHJcblx0XHRcdFx0ZnVuY3Rpb24gKGVyck9iaikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJPYmopO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c3RhdHVzX21zZyA6IChzdGF0dXNfbXNnKSA9PiB7XHJcblx0XHRzd2l0Y2ggKHN0YXR1c19tc2cpIHtcclxuXHRcdFx0Y2FzZSAnc2F2ZV9vbmVfc3VjY2Vzcyc6XHJcblx0XHRcdFx0Ly8gXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdzYXZlX29uZV9lcnJvcic6XHJcblx0XHRcdFx0Ly8gXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdzYXZlX2FsbF9zdWNjZXNzJzpcclxuXHRcdFx0XHQvKiogUmVtb3ZlIGFueSBtZXNzYWdlcyBhYm91dCBzYXZlIHN0YXR1cyAqL1xyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3NhdmVTdGF0dXMnKS5yZW1vdmUoKTtcclxuXHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX2NoZ3NTYXZlZCBtc2ctc3VjY2Vzc1wiPkFsbCBjaGFuZ2VzIHNhdmVkLjwvc21hbGw+Jyk7XHJcblxyXG5cdFx0XHRcdC8qKiBBZnRlciBzcGVjaWZpY2VkIGRlbGF5LCBmYWRlIHRoZSBtZXNzYWdlLCB0aGVuIHJlbW92ZSBmcm9tIERPTSAqL1xyXG5cdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19jaGdzU2F2ZWQnKS5mYWRlT3V0KCdzbG93JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSwgMjAwMCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdzYXZlX2FsbF9lcnJvcic6XHJcblx0XHRcdFx0Ly8gXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxufSkuaW5pdCgpO1xyXG4iXX0=
