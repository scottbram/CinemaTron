var movie_admin="object"==typeof movie_admin?movie_admin:{};(movie_admin={init:()=>{auth.sesh_check().then(function(){$("#site_nav").append('<a class="nav-item nav-link auth-logout" href="#">Logout</a>'),$("#site_nav").on("click",".auth-logout",function(e){auth.logout_do()}),movie_admin.load_movie_list()}).catch(e=>{$("#movie_list_status").alert("close");$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg"><a id="log_in_prompt" href="#">Log in to edit</a></span></div>'),$("#log_in_prompt").click(function(){auth.show_login_modal("toggle")}),auth.show_login_modal()})},load_movie_list:()=>{$("#movie_list_status_msg").text("Movies loading"),$("#movie_admin_list_actions").css("visibility","visible"),$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(e){e.length>0&&$.each(e,function(a,i){var t=i.id,s=i.fields,l=s.Title,o=s.Year,n=s.Length,r=s.Rating,m=s.Format,_=s.Active,v="";_&&(v=" checked");var c,d,g,h=movie_admin.seeing_stars(r);switch(m){case"DVD":c="selected";break;case"Streaming":d="selected";break;case"VHS":g="selected"}var u='<div class="movie_listing" data-recid="'+t+'"data-haschgs="false"id="movie_listing_'+t+'"><div class="movie_title form-field-container"><label for="movie_title_'+t+'">Title</label> <small class="text-muted">(50 characters or less)</small><input id="movie_title_'+t+'" value="'+l+'" data-fldname="Title" data-ogval="'+l+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+t+'">Year</label><small class="text-muted">(from 1800 to 2100)</small><input id="movie_year_'+t+'" value="'+o+'" data-fldname="Year" data-ogval="'+o+'" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container"><label for="movie_length_'+t+'">Length</label><small class="text-muted">(in minutes)</small><input id="movie_length_'+t+'" value="'+n+'" data-fldname="Length" data-ogval="'+n+'" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+t+'">Rating</label><small class="text-muted">(Select a rating)</small>'+h+'<input id="movie_rating_'+t+'" value="'+r+'" data-fldname="Rating" data-ogval="'+r+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format form-field-container"><label for="movie_format_'+t+'">Format</label><select id="movie_format_'+t+'" class="form-control" data-fldname="Format" data-ogval="'+m+'"><option value="DVD"'+c+'>DVD</option><option value="Streaming"'+d+'>Streaming</option><option value="VHS"'+g+'>VHS</option></select></div><div class="movie_active form-field-container form-check"><input id="movie_active_'+t+'" data-fldname="Active" data-ogval="'+_+'" class="form-check-input" type="checkbox"'+v+'><label for="movie_active_'+t+'" class="lbl_checkbox form-check-label">Active</label></div></div></div>';$("#movie_admin_list").append(u),a+1===e.length&&movie_admin.ready()})}).fail(function(e,a,i){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:()=>{$("#movie_list_status").alert("close"),movie_admin.add_movie_click(),$(".add-movie").prop("disabled",!1),movie_admin.track_changes_field(),movie_admin.rating_hover(),movie_admin.rating_click(),movie_admin.save_all_click()},add_movie_click:()=>{$(".add-movie").click(function(){movie_admin.add_movie(),$("input").first().focus()})},add_movie:()=>{var e=Date.now(),a='<div class="movie_listing is-new form-group" data-recid="'+e+'"data-haschgs="false"id="movie_listing_'+e+'"class="movie_listing_new"><div class="movie_title form-field-container"><label for="movie_title_'+e+'">Title</label><small class="text-muted">(50 characters or less)</small><input id="movie_title_'+e+'" value="" data-fldname="Title" class="form-control" type="text" minlength="1" maxlength="50" required></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+e+'">Year</label><small class="text-muted">(from 1800 to 2100)</small><input id="movie_year_'+e+'" value="" data-fldname="Year" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container"><label for="movie_length_'+e+'">Length</label><small class="text-muted">(in minutes)</small><input id="movie_length_'+e+'" value="" data-fldname="Length" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+e+'">Rating</label><small class="text-muted">(Select a rating)</small>'+movie_admin.seeing_stars("1")+'<input id="movie_rating_'+e+'" value="1" data-fldname="Rating" class="form-control valChg" type="number" min="1" max="5" hidden required></div><div class="movie_format form-field-container"><label for="movie_format_'+e+'">Format</label><select id="movie_format_'+e+'" class="form-control valChg" data-fldname="Format"><option value="DVD">DVD</option><option value="Streaming" selected>Streaming</option><option value="VHS">VHS</option></select></div><div class="movie_active form-field-container form-check"><input id="movie_active_'+e+'" data-fldname="Active" class="form-check-input" type="checkbox" checked><label for="movie_active_'+e+'" class="lbl_checkbox form-check-label">Active</label></div></div></div>';$("#movie_admin_list").prepend(a),$(".is-new .movie_rating_stars").addClass("valChg-colorsOnly")},seeing_stars:e=>{var a="";a+='<div class="movie_rating_stars">';for(var i=1,t=0;t<e;t++)a+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+i+'">&#9733 </span>',i++;var s=5-e;for(t=0;t<s;t++)a+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+i+'">&#9734  </span>',i++;return a+="</div>"},track_changes_field:()=>{$("#movie_admin_list").on("input change","input",function(){var e,a=$(this).attr("data-ogval"),i=$(this).val(),t=$(this).attr("data-fldname"),s=$(this)[0];if(s.setCustomValidity(""),a!==i)switch($(this).addClass("valChg"),t){case"Title":$(this).val().length>0&&$(this).val().length<51?s.setCustomValidity(""):s.setCustomValidity("Title must be 1 to 50 characters");break;case"Year":e=utils.input_numbers_only(i),$(this).val(e),4===$(this).val().length&&parseInt($(this).val())>=1800&&parseInt($(this).val())<=2100?s.setCustomValidity(""):s.setCustomValidity("Must be a 4 digit number between 1800 and 2100");break;case"Length":e=utils.input_numbers_only(i),$(this).val(e),parseInt($(this).val())>=1&&parseInt($(this).val())<=999?s.setCustomValidity(""):s.setCustomValidity("Must be a 3 digit number greater than 1")}else $(this).removeClass("valChg").nextAll(".valChgMsg").remove();movie_admin.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),movie_admin.track_changes_listing($(this))})},track_changes_listing:e=>{e.closest(".movie_listing").find("input, select").hasClass("valChg")?e.closest(".movie_listing").attr("data-haschgs",!0):e.closest(".movie_listing").attr("data-haschgs",!1),movie_admin.save_all_check()},rating_hover:()=>{$("#movie_admin_list").on("mouseenter",".movie_rating_star",function(){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")}).on("mouseleave",".movie_rating_star",function(){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:()=>{$("#movie_admin_list").on("click",".movie_rating_star",function(){var e=$(this).attr("data-ratingstar"),a=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+a).val(e).change(),$("#movie_rating_"+a).attr("data-ogval")!==$("#movie_rating_"+a).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:()=>{},save_all_check:()=>{0!==$(".valChg").length?($(".save-all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save-all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:()=>{$(".save_item").click(function(){$(this).prop("disabled",!0);var e=$(this).attr("data-recid");movie_admin.save_one(e)})},save_all_click:()=>{$(".save-all").click(function(){$(".save-all").prop("disabled",!0),movie_admin.save_all()})},save_item:(e,a)=>{var i={ID:e},t={},s=$("#movie_listing_"+e).find(".valChg");$.each(s,function(e,a){var i=$(a).attr("data-fldname"),s=$(a).val();"Year"===i|"Length"===i|"Rating"===i&&(s=Number(s)),t[i]=s});var l=$("#movie_active_"+e).is(":checked");t.Active=l,i.fields=t;var o=JSON.stringify(i);return new Promise(function(i,t){a?$.ajax({url:"/.netlify/functions/at_create_movie",type:"POST",contentType:"application/json",data:o,success:function(a){var t=a.id;$("#movie_listing_"+e).attr("id","movie_listing_"+t),$("#movie_listing_"+t).attr("data-recid","movie_listing_"+t),$("#movie_listing_"+t).removeClass("is-new"),$("#movie_listing_"+t).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+t).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),i(a)},error:function(e,a,i){var s;if(console.error("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;t(),console.error("Error:\n"+s)}}):$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:o,success:function(){$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+e).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),i()},error:function(e,a,i){var s;if(console.error("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;t(),console.error("Error:\n"+s),401===e.status&&auth.show_login_modal()}})})},save_one:e=>{movie_admin.save_item(e).then(function(){movie_admin.status_msg("save_one_success")},function(e){console.error(e)})},save_all:()=>{$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var e=$('.movie_listing[data-haschgs="true"]');$.each(e,function(a,i){var t=!1,s=$(i).attr("data-recid");$(i).hasClass("is-new")&&(t=!0),movie_admin.save_item(s,t).then(function(){a+1===e.length&&movie_admin.status_msg("save_all_success")},function(e){console.error(e)})})},status_msg:e=>{switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21vZHVsZXMvbW92aWVfYWRtaW4uanMiXSwibmFtZXMiOlsibW92aWVfYWRtaW4iLCJpbml0IiwiYXV0aCIsInNlc2hfY2hlY2siLCJ0aGVuIiwiJCIsImFwcGVuZCIsIm9uIiwiZSIsImxvZ291dF9kbyIsImxvYWRfbW92aWVfbGlzdCIsImNhdGNoIiwiZXJyT2JqIiwiYWxlcnQiLCJwcmVwZW5kIiwiY2xpY2siLCJzaG93X2xvZ2luX21vZGFsIiwidGV4dCIsImNzcyIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwIiwibGVuZ3RoIiwiZWFjaCIsImlkeCIsIml0bSIsIm1vdmllX3JlY2lkIiwiaWQiLCJtb3ZpZV9vYmoiLCJmaWVsZHMiLCJtb3ZpZV90aXRsZSIsIlRpdGxlIiwibW92aWVfeWVhciIsIlllYXIiLCJtb3ZpZV9sZW5ndGgiLCJMZW5ndGgiLCJtb3ZpZV9yYXRpbmciLCJSYXRpbmciLCJtb3ZpZV9mb3JtYXQiLCJGb3JtYXQiLCJtb3ZpZV9hY3RpdmUiLCJBY3RpdmUiLCJtb3ZpZV9hY3RpdmVfY2hlY2tlZCIsIkRWRHNlbCIsIlNUUnNlbCIsIlZIU3NlbCIsIm1vdmllX3JhdGluZ19zdGFycyIsInNlZWluZ19zdGFycyIsIm1vdmllX2xpc3RpbmciLCJyZWFkeSIsImZhaWwiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNvbnNvbGUiLCJsb2ciLCJhZGRfbW92aWVfY2xpY2siLCJwcm9wIiwidHJhY2tfY2hhbmdlc19maWVsZCIsInJhdGluZ19ob3ZlciIsInJhdGluZ19jbGljayIsInNhdmVfYWxsX2NsaWNrIiwiYWRkX21vdmllIiwiZmlyc3QiLCJmb2N1cyIsIkRhdGUiLCJub3ciLCJhZGRDbGFzcyIsInJhdGluZ3N0YXIiLCJpIiwibW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0IiwiZmxkX3ZhbCIsIm9nVmFsIiwidGhpcyIsImF0dHIiLCJjdXJyVmFsIiwidmFsIiwiZmxkX25hbWUiLCJmbGRfZWwiLCJzZXRDdXN0b21WYWxpZGl0eSIsInV0aWxzIiwiaW5wdXRfbnVtYmVyc19vbmx5IiwicGFyc2VJbnQiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJyZW1vdmUiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImNsb3Nlc3QiLCJmaW5kIiwiaGFzQ2xhc3MiLCJzYXZlX2FsbF9jaGVjayIsImh0bWwiLCJwcmV2QWxsIiwic2libGluZ3MiLCJtb3ZpZV9yYXRpbmdfc2VsIiwiY2hhbmdlIiwic2F2ZV9vbmVfY2hlY2siLCJzYXZlX29uZV9jbGljayIsInNhdmVfb25lIiwic2F2ZV9hbGwiLCJzYXZlX2l0ZW0iLCJpc05ldyIsInJlcV9vYmoiLCJJRCIsInJlcV9vYmpfZmxkcyIsImNoZ2RGbGRzQXJyIiwiaWR4X2ZsZCIsIml0bV9mbGQiLCJmbGROYW1lIiwiZmxkVmFsIiwiTnVtYmVyIiwiaXMiLCJyZXFfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlByb21pc2UiLCJwcm9tU3VjY2VzcyIsInByb21FcnJvciIsInR5cGUiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWNjZXNzIiwibW92aWVfcmVjaWRfbmV3IiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsInJlc3BvbnNlVGV4dCIsInN0YXR1cyIsInN0YXR1c19tc2ciLCJjaGdkTW92aWVzQXJyIiwid2luZG93Iiwic2V0VGltZW91dCIsImZhZGVPdXQiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLFlBQXlDLGlCQUFsQixZQUErQkEsWUFBYyxJQUN2RUEsWUFBYyxDQUNkQyxLQUFPLEtBQ05DLEtBQUtDLGFBQ0pDLEtBQU0sV0FDTkMsRUFBRSxhQUFhQyxPQUFPLGdFQUN0QkQsRUFBRSxhQUFhRSxHQUFHLFFBQVMsZUFBZ0IsU0FBVUMsR0FDcEROLEtBQUtPLGNBR05ULFlBQVlVLG9CQUNWQyxNQUFPQyxJQU1UUCxFQUFFLHNCQUFzQlEsTUFBTSxTQU05QlIsRUFBRSxnQkFBZ0JTLFFBSkwsa0xBTWJULEVBQUUsa0JBQWtCVSxNQUFPLFdBQzFCYixLQUFLYyxpQkFBaUIsWUFHdkJkLEtBQUtjLHNCQUlQTixnQkFBa0IsS0FDakJMLEVBQUUsMEJBQTBCWSxLQUFLLGtCQUNqQ1osRUFBRSw2QkFBNkJhLElBQUksYUFBYyxXQUVqRGIsRUFBRWMsS0FBSyxDQUNOQyxJQUFLLDZDQUNMQyxTQUFVLFNBQ1JDLEtBQU0sU0FBVUMsR0FDZEEsRUFBS0MsT0FBUyxHQUNqQm5CLEVBQUVvQixLQUFLRixFQUFNLFNBQVNHLEVBQUtDLEdBQzFCLElBQUlDLEVBQWNELEVBQUlFLEdBVWxCQyxFQUFjSCxFQUFJSSxPQUNsQkMsRUFBZUYsRUFBVUcsTUFDekJDLEVBQWVKLEVBQVVLLEtBQ3pCQyxFQUFnQk4sRUFBVU8sT0FDMUJDLEVBQWdCUixFQUFVUyxPQUMxQkMsRUFBZ0JWLEVBQVVXLE9BRTFCQyxFQUFnQlosRUFBVWEsT0FFMUJDLEVBQXVCLEdBQ3ZCRixJQUNIRSxFQUF1QixZQUd4QixJQUVJQyxFQUFRQyxFQUFRQyxFQUZoQkMsRUFBcUJoRCxZQUFZaUQsYUFBYVgsR0FHbEQsT0FBUUUsR0FDUCxJQUFLLE1BQ0pLLEVBQVMsV0FDVixNQUNBLElBQUssWUFDSkMsRUFBUyxXQUNWLE1BQ0EsSUFBSyxNQUNKQyxFQUFTLFdBSVgsSUFBSUcsRUFBZ0IsMENBQ0R0QixFQUFhLDBDQUVQQSxFQUFjLDJFQUlQQSxFQUFjLG1HQUlmQSxFQUFjLFlBQzVCSSxFQUFjLHNDQUVUQSxFQUFjLHdLQU9KSixFQUFjLDRGQUlmQSxFQUFjLFlBQzNCTSxFQUFhLHFDQUVSQSxFQUFhLDBKQWNGTixFQUFjLHlGQUlmQSxFQUFjLFlBQzdCUSxFQUFlLHVDQUVWQSxFQUFlLDBKQU9KUixFQUFjLHNFQUk1Q29CLEVBQ0EsMkJBQTZCcEIsRUFBYyxZQUM3QlUsRUFBZSx1Q0FFVkEsRUFBZSw2SUFNSlYsRUFBYyw0Q0FJZEEsRUFBYyw0REFFekJZLEVBQWUsd0JBRVRLLEVBQVMseUNBQ0hDLEVBQVMseUNBQ2ZDLEVBQVMsaUhBSUxuQixFQUFjLHVDQUV4QmMsRUFBZSw2Q0FHakNFLEVBQ0QsNkJBRXlCaEIsRUFBYywyRUFVM0N2QixFQUFFLHFCQUFxQkMsT0FBTzRDLEdBRTFCeEIsRUFBSSxJQUFNSCxFQUFLQyxRQUNsQnhCLFlBQVltRCxZQUliQyxLQUFNLFNBQVdDLEVBQU9DLEVBQVlDLEdBQ3RDbEQsRUFBRSxzQkFBc0JRLE1BQU0sU0FFOUIyQyxRQUFRQyxJQUFJLGdCQUNaRCxRQUFRQyxJQUFJSCxHQUNaRSxRQUFRQyxJQUFJLGlCQUNaRCxRQUFRQyxJQUFJRixHQU1abEQsRUFBRSxnQkFBZ0JTLFFBSkwsdVBBUWZxQyxNQUFRLEtBQ1A5QyxFQUFFLHNCQUFzQlEsTUFBTSxTQUU5QmIsWUFBWTBELGtCQUNackQsRUFBRSxjQUFjc0QsS0FBSyxZQUFZLEdBRWpDM0QsWUFBWTRELHNCQUNaNUQsWUFBWTZELGVBQ1o3RCxZQUFZOEQsZUFFWjlELFlBQVkrRCxrQkFHYkwsZ0JBQWtCLEtBQ2pCckQsRUFBRSxjQUFjVSxNQUFPLFdBQ3RCZixZQUFZZ0UsWUFFWjNELEVBQUUsU0FBUzRELFFBQVFDLFdBSXJCRixVQUFZLEtBQ1gsSUFBSXBDLEVBQWN1QyxLQUFLQyxNQUduQmxCLEVBQWdCLDREQUNEdEIsRUFBYSwwQ0FHUEEsRUFBYyxvR0FLUEEsRUFBYyxrR0FJZkEsRUFBYywrTUFXYkEsRUFBYyw0RkFJZkEsRUFBYyx1TEFVWEEsRUFBYyx5RkFJZkEsRUFBYyx5TEFXYkEsRUFBYyxzRUF2RHZCNUIsWUFBWWlELGFBQWEsS0E0RDlDLDJCQUE2QnJCLEVBQWMsNkxBU2JBLEVBQWMsNENBSWRBLEVBQWMsNlFBV2ZBLEVBQWMscUdBUWxCQSxFQUFjLDJFQVUzQ3ZCLEVBQUUscUJBQXFCUyxRQUFRb0MsR0FDL0I3QyxFQUFFLCtCQUErQmdFLFNBQVMsc0JBRzNDcEIsYUFBZ0JYLElBT2YsSUFBSVUsRUFBcUIsR0FDeEJBLEdBQXNCLG1DQUl2QixJQUZBLElBQUlzQixFQUFhLEVBRVJDLEVBQUksRUFBR0EsRUFBSWpDLEVBQWNpQyxJQUNqQ3ZCLEdBQXNCLCtFQUFpRnNCLEVBQWEsbUJBRXBIQSxJQUdELElBQ0lFLEVBRDRCLEVBQytCbEMsRUFFL0QsSUFBS2lDLEVBQUksRUFBR0EsRUFBSUMsRUFBZ0NELElBQy9DdkIsR0FBc0IsaUZBQW1Gc0IsRUFBYSxvQkFFdEhBLElBSUQsT0FGQXRCLEdBQXNCLFVBS3ZCWSxvQkFBc0IsS0FDckJ2RCxFQUFFLHFCQUFxQkUsR0FBRyxlQUFnQixRQUFTLFdBQ2xELElBSUlrRSxFQUpBQyxFQUFRckUsRUFBRXNFLE1BQU1DLEtBQUssY0FDckJDLEVBQVV4RSxFQUFFc0UsTUFBTUcsTUFDbEJDLEVBQVcxRSxFQUFFc0UsTUFBTUMsS0FBSyxnQkFDeEJJLEVBQVMzRSxFQUFFc0UsTUFBTSxHQVNyQixHQUhBSyxFQUFPQyxrQkFBa0IsSUFHckJQLElBQVVHLEVBSWIsT0FIQXhFLEVBQUVzRSxNQUFNTixTQUFTLFVBR1RVLEdBQ1AsSUFBSyxRQUNZMUUsRUFBRXNFLE1BQU1HLE1BQU10RCxPQUFTLEdBQUtuQixFQUFFc0UsTUFBTUcsTUFBTXRELE9BQVMsR0FLbEV3RCxFQUFPQyxrQkFBa0IsSUFGekJELEVBQU9DLGtCQUFrQixvQ0FJM0IsTUFDQSxJQUFLLE9BRUpSLEVBQVVTLE1BQU1DLG1CQUFtQk4sR0FDbkN4RSxFQUFFc0UsTUFBTUcsSUFBSUwsR0FFMEIsSUFBekJwRSxFQUFFc0UsTUFBTUcsTUFBTXRELFFBQWtCNEQsU0FBVS9FLEVBQUVzRSxNQUFNRyxRQUFXLE1BQVFNLFNBQVUvRSxFQUFFc0UsTUFBTUcsUUFBVyxLQUs5R0UsRUFBT0Msa0JBQWtCLElBRnpCRCxFQUFPQyxrQkFBa0Isa0RBSTNCLE1BQ0EsSUFBSyxTQUVKUixFQUFVUyxNQUFNQyxtQkFBbUJOLEdBQ25DeEUsRUFBRXNFLE1BQU1HLElBQUlMLEdBRUlXLFNBQVUvRSxFQUFFc0UsTUFBTUcsUUFBVyxHQUFLTSxTQUFVL0UsRUFBRXNFLE1BQU1HLFFBQVcsSUFLOUVFLEVBQU9DLGtCQUFrQixJQUZ6QkQsRUFBT0Msa0JBQWtCLGdEQU81QjVFLEVBQUVzRSxNQUFNVSxZQUFZLFVBQVVDLFFBQVEsY0FBY0MsU0FZckR2RixZQUFZd0Ysc0JBQXVCbkYsRUFBRXNFLFNBR3RDdEUsRUFBRSxxQkFBcUJFLEdBQUcsU0FBVSxTQUFVLFdBQ2pDRixFQUFFc0UsTUFBTUMsS0FBSyxnQkFDWHZFLEVBQUVzRSxNQUFNRyxNQUlyQnpFLEVBQUVzRSxNQUFNTixTQUFTLFVBRWpCaEUsRUFBRXNFLE1BQU1VLFlBQVksVUFBVUMsUUFBUSxjQUFjQyxTQUdyRHZGLFlBQVl3RixzQkFBdUJuRixFQUFFc0UsVUFJdkNhLHNCQUF5QkMsSUFDVkEsRUFBTUMsUUFBUSxrQkFBa0JDLEtBQUssaUJBQWlCQyxTQUFTLFVBRzVFSCxFQUFNQyxRQUFRLGtCQUFrQmQsS0FBSyxnQkFBZ0IsR0FFckRhLEVBQU1DLFFBQVEsa0JBQWtCZCxLQUFLLGdCQUFnQixHQUd0RDVFLFlBQVk2RixrQkFHYmhDLGFBQWUsS0FFZHhELEVBQUUscUJBQ0FFLEdBQUcsYUFBYyxxQkFBc0IsV0FHdkNGLEVBQUVzRSxNQUFNbUIsS0FBSyxXQU1iekYsRUFBRXNFLE1BQU1vQixRQUFRLHNCQUFzQkQsS0FBSyxXQUFXekIsU0FBUyw4QkFNL0RoRSxFQUFFc0UsTUFBTVcsUUFBUSxzQkFBc0JRLEtBQUssV0FBV3pCLFNBQVMsZ0NBRS9EOUQsR0FBRyxhQUFjLHFCQUFzQixXQUN2Q0YsRUFBRXNFLE1BQU1xQixXQUFXWCxZQUFZLDhCQUE4QkEsWUFBWSw4QkFHcEVoRixFQUFFc0UsTUFBTWlCLFNBQVMsOEJBQ3JCdkYsRUFBRXNFLE1BQU1tQixLQUFLLFdBRWJ6RixFQUFFc0UsTUFBTW1CLEtBQUssV0FFZHpGLEVBQUVzRSxNQUFNcUIsU0FBUywrQkFBK0JGLEtBQUssV0FDckR6RixFQUFFc0UsTUFBTXFCLFNBQVMsaUNBQWlDRixLQUFLLGNBSzFEaEMsYUFBZSxLQUVkekQsRUFBRSxxQkFBcUJFLEdBQUcsUUFBUyxxQkFBc0IsV0FDeEQsSUFBSTBGLEVBQW1CNUYsRUFBRXNFLE1BQU1DLEtBQUssbUJBQ2hDaEQsRUFBY3ZCLEVBQUVzRSxNQUFNZSxRQUFRLGtCQUFrQmQsS0FBSyxjQUd6RHZFLEVBQUUsaUJBQW1CdUIsR0FBYWtELElBQUltQixHQUFrQkMsU0FFNUM3RixFQUFFLGlCQUFtQnVCLEdBQWFnRCxLQUFLLGdCQUNyQ3ZFLEVBQUUsaUJBQW1CdUIsR0FBYWtELE1BSy9DekUsRUFBRXNFLE1BQU1lLFFBQVEsdUJBQXVCckIsU0FBUyxxQkFFaERoRSxFQUFFc0UsTUFBTWUsUUFBUSx1QkFBdUJMLFlBQVkscUJBU3BEaEYsRUFBRXNFLE1BQU1OLFNBQVMsOEJBQThCZ0IsWUFBWSxnQ0FDM0RoRixFQUFFc0UsTUFBTW9CLFFBQVEsc0JBQXNCMUIsU0FBUyw4QkFBOEJnQixZQUFZLGdDQU16RmhGLEVBQUVzRSxNQUFNVyxRQUFRLHNCQUFzQmpCLFNBQVMsZ0NBQWdDZ0IsWUFBWSxpQ0FJN0ZjLGVBQWlCLE9BSWpCTixlQUFpQixLQUNhLElBQXhCeEYsRUFBRSxXQUFXbUIsUUFDakJuQixFQUFFLGFBQWFzRCxLQUFLLFlBQVksR0FHcUMsSUFBaEV0RCxFQUFFLG1EQUFtRG1CLFFBQ3pEbkIsRUFBRSxrQ0FBa0NTLFFBQVEsa0dBRzdDVCxFQUFFLGFBQWFzRCxLQUFLLFlBQVksR0FDaEN0RCxFQUFFLG1EQUFtRGtGLFdBSXZEYSxlQUFpQixLQUNoQi9GLEVBQUUsY0FBY1UsTUFBTyxXQUN0QlYsRUFBRXNFLE1BQU1oQixLQUFLLFlBQVksR0FDekIsSUFBSS9CLEVBQWN2QixFQUFFc0UsTUFBTUMsS0FBSyxjQUUvQjVFLFlBQVlxRyxTQUFTekUsTUFJdkJtQyxlQUFpQixLQUNoQjFELEVBQUUsYUFBYVUsTUFBTyxXQUNyQlYsRUFBRSxhQUFhc0QsS0FBSyxZQUFZLEdBRWhDM0QsWUFBWXNHLGNBSWRDLFVBQVksQ0FBQzNFLEVBQWE0RSxLQUN6QixJQUFJQyxFQUFVLENBQ2JDLEdBQU05RSxHQUdIK0UsRUFBZSxHQUNmQyxFQUFjdkcsRUFBRSxrQkFBb0J1QixHQUFhK0QsS0FBSyxXQVUxRHRGLEVBQUVvQixLQUFLbUYsRUFBYSxTQUFVQyxFQUFTQyxHQUN0QyxJQUFJQyxFQUFVMUcsRUFBRXlHLEdBQVNsQyxLQUFLLGdCQUMxQm9DLEVBQVMzRyxFQUFFeUcsR0FBU2hDLE1BRVAsU0FBWmlDLEVBQWlDLFdBQVpBLEVBQW1DLFdBQVpBLElBQ2hEQyxFQUFTQyxPQUFPRCxJQUdqQkwsRUFBYUksR0FBV0MsSUFHekIsSUFBSXRFLEVBQWVyQyxFQUFFLGlCQUFtQnVCLEdBQWFzRixHQUFHLFlBRXhEUCxFQUFxQixPQUFJakUsRUFFekIrRCxFQUFRMUUsT0FBUzRFLEVBRWpCLElBQUlRLEVBQVVDLEtBQUtDLFVBQVVaLEdBd0g3QixPQXRIbUIsSUFBSWEsUUFBUyxTQUFVQyxFQUFhQyxHQUNsRGhCLEVBQ0huRyxFQUFFYyxLQUFLLENBQ05DLElBQUssc0NBQ0xxRyxLQUFNLE9BQ05DLFlBQWEsbUJBQ2JDLEtBQU1SLEVBQ05TLFFBQVMsU0FBVXJHLEdBQ2xCLElBQUlzRyxFQUFrQnRHLEVBQUtNLEdBRzNCeEIsRUFBRSxrQkFBb0J1QixHQUFhZ0QsS0FBSyxLQUFNLGlCQUFtQmlELEdBQ2pFeEgsRUFBRSxrQkFBb0J3SCxHQUFpQmpELEtBQUssYUFBYyxpQkFBbUJpRCxHQVM3RXhILEVBQUUsa0JBQW9Cd0gsR0FBaUJ4QyxZQUFZLFVBQ25EaEYsRUFBRSxrQkFBb0J3SCxHQUFpQmxDLEtBQUssK0JBQStCTixZQUFZLDRCQUN2RmhGLEVBQUUsa0JBQW9Cd0gsR0FBaUJsQyxLQUFLLHVCQUF1Qk4sWUFBWSxxQkFFL0VrQyxFQUFZaEcsSUFFYnVHLE1BQU8sU0FBVXpFLEVBQU9DLEVBQVlDLEdBYW5DLElBQUl3RSxFQUVKLEdBYkF2RSxRQUFRc0UsTUFBTSxlQUVkdEUsUUFBUUMsSUFBSSxXQUNaRCxRQUFRQyxJQUFJSixHQUVaRyxRQUFRQyxJQUFJLGdCQUNaRCxRQUFRQyxJQUFJSCxHQUVaRSxRQUFRQyxJQUFJLGlCQUNaRCxRQUFRQyxJQUFJRixRQUlzQixJQUF2QkYsRUFBTTJFLGFBQThCLENBSzlDRCxFQUpxQjFFLEVBQU0yRSxhQUF5QixXQUl4QixLQUhmM0UsRUFBTTJFLGFBQW9CLE1BR0ssS0FGOUIzRSxFQUFNMkUsYUFBc0IsYUFJMUNELEVBQVcxRSxFQUFNNEUsYUFHbEJULElBRUFoRSxRQUFRc0UsTUFBTSxXQUFhQyxNQVM3QjFILEVBQUVjLEtBQUssQ0FDTkMsSUFBSyxzQ0FDTHFHLEtBQU0sUUFDTkMsWUFBYSxtQkFDYkMsS0FBTVIsRUFDTlMsUUFBUyxXQUVSdkgsRUFBRSxrQkFBb0J1QixHQUFhK0QsS0FBSywrQkFBK0JOLFlBQVksNEJBRW5GaEYsRUFBRSxrQkFBb0J1QixHQUFhK0QsS0FBSyx1QkFBdUJOLFlBQVkscUJBRTNFa0MsS0FFRE8sTUFBTyxTQUFVekUsRUFBT0MsRUFBWUMsR0FhbkMsSUFBSXdFLEVBRUosR0FiQXZFLFFBQVFzRSxNQUFNLGVBRWR0RSxRQUFRQyxJQUFJLFdBQ1pELFFBQVFDLElBQUlKLEdBRVpHLFFBQVFDLElBQUksZ0JBQ1pELFFBQVFDLElBQUlILEdBRVpFLFFBQVFDLElBQUksaUJBQ1pELFFBQVFDLElBQUlGLFFBSXNCLElBQXZCRixFQUFNMkUsYUFBOEIsQ0FLOUNELEVBSnFCMUUsRUFBTTJFLGFBQXlCLFdBSXhCLEtBSGYzRSxFQUFNMkUsYUFBb0IsTUFHSyxLQUY5QjNFLEVBQU0yRSxhQUFzQixhQUkxQ0QsRUFBVzFFLEVBQU00RSxhQUdsQlQsSUFFQWhFLFFBQVFzRSxNQUFNLFdBQWFDLEdBRU4sTUFBakIxRSxFQUFNNkUsUUFDVGhJLEtBQUtjLHlCQWVYcUYsU0FBWXpFLElBQ0k1QixZQUFZdUcsVUFBVTNFLEdBRTVCeEIsS0FDUixXQUlDSixZQUFZbUksV0FBVyxxQkFFeEIsU0FBVXZILEdBQ1Q0QyxRQUFRc0UsTUFBTWxILE1BS2pCMEYsU0FBVyxLQUNWakcsRUFBRSxrREFBa0RrRixTQUVwRGxGLEVBQUUsa0NBQWtDUyxRQUFRLDBGQWlCNUMsSUFBSXNILEVBQWdCL0gsRUFBRSx1Q0FFdEJBLEVBQUVvQixLQUFLMkcsRUFBZSxTQUFVMUcsRUFBS0MsR0FDcEMsSUFBSTZFLEdBQVEsRUFDUjVFLEVBQWN2QixFQUFFc0IsR0FBS2lELEtBQUssY0FFekJ2RSxFQUFFc0IsR0FBS2lFLFNBQVMsWUFDcEJZLEdBQVEsR0FHTXhHLFlBQVl1RyxVQUFVM0UsRUFBYTRFLEdBRXpDcEcsS0FDUixXQUNLc0IsRUFBSSxJQUFNMEcsRUFBYzVHLFFBQzNCeEIsWUFBWW1JLFdBQVcscUJBR3pCLFNBQVV2SCxHQUNUNEMsUUFBUXNFLE1BQU1sSCxRQU1sQnVILFdBQWNBLElBQ2IsT0FBUUEsR0FDUCxJQUFLLG1CQUdMLElBQUssaUJBRUwsTUFDQSxJQUFLLG1CQUVKOUgsRUFBRSxrREFBa0RrRixTQUVwRGxGLEVBQUUsa0NBQWtDUyxRQUFRLHNGQUc1Q3VILE9BQU9DLFdBQVksV0FDbEJqSSxFQUFFLGlEQUFpRGtJLFFBQVEsT0FBUSxXQUNsRWxJLEVBQUVzRSxNQUFNWSxZQUVQLFNBT0p0RiIsImZpbGUiOiJqcy9tb2R1bGVzL21vdmllX2FkbWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBtb3ZpZS1hZG1pbi5qcyAqL1xyXG52YXIgbW92aWVfYWRtaW4gPSAoIHR5cGVvZiAobW92aWVfYWRtaW4pID09PSAnb2JqZWN0JyApID8gbW92aWVfYWRtaW4gOiB7fTtcclxuKG1vdmllX2FkbWluID0ge1xyXG5cdGluaXQgOiAoKSA9PiB7XHJcblx0XHRhdXRoLnNlc2hfY2hlY2soKVxyXG5cdFx0LnRoZW4oIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCgnI3NpdGVfbmF2JykuYXBwZW5kKCc8YSBjbGFzcz1cIm5hdi1pdGVtIG5hdi1saW5rIGF1dGgtbG9nb3V0XCIgaHJlZj1cIiNcIj5Mb2dvdXQ8L2E+Jyk7XHJcblx0XHRcdCQoJyNzaXRlX25hdicpLm9uKCdjbGljaycsICcuYXV0aC1sb2dvdXQnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGF1dGgubG9nb3V0X2RvKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0bW92aWVfYWRtaW4ubG9hZF9tb3ZpZV9saXN0KCk7XHJcblx0XHR9KS5jYXRjaCggZXJyT2JqID0+IHtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdlcnJPYmo6ICcpO1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhlcnJPYmopO1xyXG5cclxuXHRcdFx0LyoqIE5vIHZhbGlkIHNlc3Npb24gZm91bmQgKi9cclxuXHRcdFx0JCgnI21vdmllX2xpc3Rfc3RhdHVzJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0XHR2YXIgZXJyTXNnID0gJzxkaXYgaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c1wiIGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj4nICtcclxuXHRcdFx0XHRcdCc8c3BhbiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzX21zZ1wiPjxhIGlkPVwibG9nX2luX3Byb21wdFwiIGhyZWY9XCIjXCI+TG9nIGluIHRvIGVkaXQ8L2E+PC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHRcclxuXHRcdFx0JCgnI21vdmllX2FkbWluJykucHJlcGVuZChlcnJNc2cpO1xyXG5cclxuXHRcdFx0JCgnI2xvZ19pbl9wcm9tcHQnKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGF1dGguc2hvd19sb2dpbl9tb2RhbCgndG9nZ2xlJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0YXV0aC5zaG93X2xvZ2luX21vZGFsKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdGxvYWRfbW92aWVfbGlzdCA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1c19tc2cnKS50ZXh0KCdNb3ZpZXMgbG9hZGluZycpO1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9ucycpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcblxyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9nZXRfbW92aWU/cmVjaWQ9YWxsJyxcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJ1xyXG5cdFx0fSkuZG9uZSggZnVuY3Rpb24gKHJlc3ApIHtcclxuXHRcdFx0aWYgKHJlc3AubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdCQuZWFjaChyZXNwLCBmdW5jdGlvbihpZHgsIGl0bSkge1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JlY2lkID0gaXRtLmlkO1xyXG5cdFx0XHRcdFx0LyoqXHJcblx0XHRcdFx0XHQgICogRmllbGRzOlxyXG5cdFx0XHRcdFx0ICAqIFRpdGxlXHJcblx0XHRcdFx0XHQgICogWWVhclxyXG5cdFx0XHRcdFx0ICAqIExlbmd0aFxyXG5cdFx0XHRcdFx0ICAqIFJhdGluZ1xyXG5cdFx0XHRcdFx0ICAqIEZvcm1hdFxyXG5cdFx0XHRcdFx0ICAqIEFydFxyXG5cdFx0XHRcdFx0ICAqL1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX29iaiBcdFx0PSBpdG0uZmllbGRzO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3RpdGxlIFx0PSBtb3ZpZV9vYmouVGl0bGU7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfeWVhciBcdFx0PSBtb3ZpZV9vYmouWWVhcjtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9sZW5ndGggXHQ9IG1vdmllX29iai5MZW5ndGg7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfcmF0aW5nIFx0PSBtb3ZpZV9vYmouUmF0aW5nO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2Zvcm1hdCBcdD0gbW92aWVfb2JqLkZvcm1hdDtcclxuXHRcdFx0XHRcdC8vIHZhciBtb3ZpZV9hcnQgXHRcdD0gbW92aWVfb2JqLkFydDtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9hY3RpdmUgXHQ9IG1vdmllX29iai5BY3RpdmU7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9hY3RpdmVfY2hlY2tlZCA9ICcnO1xyXG5cdFx0XHRcdFx0aWYgKG1vdmllX2FjdGl2ZSkge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9hY3RpdmVfY2hlY2tlZCA9ICcgY2hlY2tlZCc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9IG1vdmllX2FkbWluLnNlZWluZ19zdGFycyhtb3ZpZV9yYXRpbmcpO1xyXG5cclxuXHRcdFx0XHRcdHZhciBEVkRzZWwsIFNUUnNlbCwgVkhTc2VsO1xyXG5cdFx0XHRcdFx0c3dpdGNoIChtb3ZpZV9mb3JtYXQpIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnRFZEJzpcclxuXHRcdFx0XHRcdFx0XHREVkRzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnU3RyZWFtaW5nJzpcclxuXHRcdFx0XHRcdFx0XHRTVFJzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnVkhTJzpcclxuXHRcdFx0XHRcdFx0XHRWSFNzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2xpc3RpbmcgPSAnPGRpdiBjbGFzcz1cIm1vdmllX2xpc3RpbmdcIiAnICtcclxuXHRcdFx0XHRcdFx0XHQnZGF0YS1yZWNpZD1cIicgKyBtb3ZpZV9yZWNpZCArJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0J2RhdGEtaGFzY2hncz1cImZhbHNlXCInICtcclxuXHRcdFx0XHRcdFx0XHQnaWQ9XCJtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0J1RpdGxlJyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCcgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPig1MCBjaGFyYWN0ZXJzIG9yIGxlc3MpPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV90aXRsZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIicgKyBtb3ZpZV90aXRsZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlRpdGxlXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3RpdGxlICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJ0ZXh0XCIgbWlubGVuZ3RoPVwiMVwiIG1heGxlbmd0aD1cIjUwXCInICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZGV0YWlsc1wiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV95ZWFyIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J1llYXInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGZyb20gMTgwMCB0byAyMTAwKTwvc21hbGw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfeWVhciArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiWWVhclwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKiogSW5wdXQgdHlwZT1cIm51bWJlclwiIGhhcyB1bmRlc2lyYWJsZSBzaWRlIGVmZmVjdHMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxODAwXCIgbWF4PVwiMjEwMFwiJyArIFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKiogVGhpcyBwYXR0ZXJuIGlzIHBlcmZlY3QgYnV0IHRyaWdnZXJpbmcgdGhlIG51bWVyaWMga2V5cGFkIG9uIG1vYmlsZSBpcyBwZXJmZWN0ZXIgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAnIHR5cGU9XCJ0ZXh0XCIgcGF0dGVybj1cIlxcXFxkezR9XCIgbWF4bGVuZ3RoPVwiNFwiIHJlcXVpcmVkJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIEZ1biBmYWN0OiBUaGlzIHBhdHRlcm4gd2lsbCB0cmlnZ2VyIHRoZSBudW1lcmljIGtleXBhZCBvbiBtb2JpbGUgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJ0ZXh0XCIgcGF0dGVybj1cIlxcXFxkKlwiIG1heGxlbmd0aD1cIjRcIiByZXF1aXJlZCcgKyBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9sZW5ndGggZm9ybS1maWVsZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdMZW5ndGgnICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX2xlbmd0aCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiTGVuZ3RoXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjk5OVwiJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiM1wiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J1JhdGluZycgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oU2VsZWN0IGEgcmF0aW5nKTwvc21hbGw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIicgKyBtb3ZpZV9yYXRpbmcgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlJhdGluZ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1XCIgaGlkZGVuJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J0Zvcm1hdCcgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gJzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9mb3JtYXQgKyAnXCInICsnPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vICc8b3B0aW9uIHNlbGVjdGVkPk9wZW4gdGhpcyBzZWxlY3QgbWVudTwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiRFZEXCInICsgRFZEc2VsICsgJz5EVkQ8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiJyArIFNUUnNlbCArICc+U3RyZWFtaW5nPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJWSFNcIicgKyBWSFNzZWwgKyAnPlZIUzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9zZWxlY3Q+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2FjdGl2ZSBmb3JtLWZpZWxkLWNvbnRhaW5lciBmb3JtLWNoZWNrXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9hY3RpdmVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJBY3RpdmVcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9hY3RpdmUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwiY2hlY2tib3hcIicgKyBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtb3ZpZV9hY3RpdmVfY2hlY2tlZCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwnICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGZvcj1cIm1vdmllX2FjdGl2ZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwibGJsX2NoZWNrYm94IGZvcm0tY2hlY2stbGFiZWxcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0J0FjdGl2ZScgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdCc8L2Rpdj4nXHJcblx0XHRcdFx0XHQ7XHJcblxyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5hcHBlbmQobW92aWVfbGlzdGluZyk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlkeCsxID09PSByZXNwLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9hZG1pbi5yZWFkeSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KS5mYWlsKCBmdW5jdGlvbiAoIGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApIHtcclxuXHRcdFx0JCgnI21vdmllX2xpc3Rfc3RhdHVzJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblxyXG5cdFx0XHR2YXIgZXJyTXNnID0gJzxkaXYgaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c1wiIGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj4nICtcclxuXHRcdFx0XHRcdCc8c3BhbiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzX21zZ1wiPlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyB0aGUgbW92aWVzLjwvYnI+VHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2UgYW5kIGlmIHRoZSBwcm9ibGVtIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCB1cy48L3NwYW4+JyArXHJcblx0XHRcdFx0JzwvZGl2Pic7XHJcblx0XHRcdFxyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW4nKS5wcmVwZW5kKGVyck1zZyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHJlYWR5IDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2xpc3Rfc3RhdHVzJykuYWxlcnQoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0bW92aWVfYWRtaW4uYWRkX21vdmllX2NsaWNrKCk7XHJcblx0XHQkKCcuYWRkLW1vdmllJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcblx0XHRcclxuXHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfZmllbGQoKTtcclxuXHRcdG1vdmllX2FkbWluLnJhdGluZ19ob3ZlcigpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2NsaWNrKCk7XHJcblx0XHQvLyBtb3ZpZV9hZG1pbi5zYXZlX29uZV9jbGljaygpO1xyXG5cdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGxfY2xpY2soKTtcclxuXHR9XHJcblx0LFxyXG5cdGFkZF9tb3ZpZV9jbGljayA6ICgpID0+IHtcclxuXHRcdCQoJy5hZGQtbW92aWUnKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRtb3ZpZV9hZG1pbi5hZGRfbW92aWUoKTtcclxuXHJcblx0XHRcdCQoJ2lucHV0JykuZmlyc3QoKS5mb2N1cygpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRhZGRfbW92aWUgOiAoKSA9PiB7XHJcblx0XHR2YXIgbW92aWVfcmVjaWQgPSBEYXRlLm5vdygpO1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9IG1vdmllX2FkbWluLnNlZWluZ19zdGFycygnMScpO1xyXG5cclxuXHRcdHZhciBtb3ZpZV9saXN0aW5nID0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9saXN0aW5nIGlzLW5ldyBmb3JtLWdyb3VwXCIgJyArXHJcblx0XHRcdFx0J2RhdGEtcmVjaWQ9XCInICsgbW92aWVfcmVjaWQgKydcIicgK1xyXG5cdFx0XHRcdC8vICdkYXRhLXJlY2lkPVwibmV3XCInICtcclxuXHRcdFx0XHQnZGF0YS1oYXNjaGdzPVwiZmFsc2VcIicgK1xyXG5cdFx0XHRcdCdpZD1cIm1vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0J2NsYXNzPVwibW92aWVfbGlzdGluZ19uZXdcIicgK1xyXG5cdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj4nICtcclxuXHRcdFx0XHRcdFx0J1RpdGxlJyArXHJcblx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHQnIHZhbHVlPVwiXCInICtcclxuXHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJUaXRsZVwiJyArXHJcblx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIm5ld19tb3ZpZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdC8vICcgcGxhY2Vob2xkZXI9XCJUaGUgQmlnIEZsaWNrIFRpdGxlXCInICtcclxuXHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIG1pbmxlbmd0aD1cIjFcIiBtYXhsZW5ndGg9XCI1MFwiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbHNcIj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfeWVhciBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3llYXJfJyArIG1vdmllX3JlY2lkICsgJ1wiPicgK1xyXG5cdFx0XHRcdFx0XHRcdCdZZWFyJyArXHJcblx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlllYXJcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIm5ld19tb3ZpZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHBsYWNlaG9sZGVyPVwiMjAxOVwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIj4nICtcclxuXHRcdFx0XHRcdFx0XHQnTGVuZ3RoJyArXHJcblx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihpbiBtaW51dGVzKTwvc21hbGw+JyArXHJcblx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIlwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9sZW5ndGggKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHBsYWNlaG9sZGVyPVwiMTUwXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCIgbWlubGVuZ3RoPVwiMVwiIG1heGxlbmd0aD1cIjNcIiBwYXR0ZXJuPVwiXFxcXGR7NH1cIiByZXF1aXJlZCcgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiM1wiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0J1JhdGluZycgK1xyXG5cdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0JzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oU2VsZWN0IGEgcmF0aW5nKTwvc21hbGw+JyArXHJcblx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArXHJcblx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIjFcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfcmF0aW5nICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbCB2YWxDaGdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1XCIgaGlkZGVuIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0J0Zvcm1hdCcgK1xyXG5cdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0Ly8gJzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiJyArXHJcblx0XHRcdFx0XHRcdCc8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIiBjbGFzcz1cImZvcm0tY29udHJvbCB2YWxDaGdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiRm9ybWF0XCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfZm9ybWF0ICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnPG9wdGlvbiBzZWxlY3RlZD5PcGVuIHRoaXMgc2VsZWN0IG1lbnU8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIkRWRFwiPkRWRDwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiU3RyZWFtaW5nXCIgc2VsZWN0ZWQ+U3RyZWFtaW5nPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJWSFNcIj5WSFM8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0Jzwvc2VsZWN0PicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9hY3RpdmUgZm9ybS1maWVsZC1jb250YWluZXIgZm9ybS1jaGVja1wiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfYWN0aXZlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiQWN0aXZlXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfYWN0aXZlICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdHlwZT1cImNoZWNrYm94XCInICsgXHJcblx0XHRcdFx0XHRcdFx0JyBjaGVja2VkJyArXHJcblx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwnICtcclxuXHRcdFx0XHRcdFx0XHQnIGZvcj1cIm1vdmllX2FjdGl2ZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwibGJsX2NoZWNrYm94IGZvcm0tY2hlY2stbGFiZWxcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0J0FjdGl2ZScgK1xyXG5cdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdCc8L2Rpdj4nXHJcblx0XHQ7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5wcmVwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cdFx0JCgnLmlzLW5ldyAubW92aWVfcmF0aW5nX3N0YXJzJykuYWRkQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0fVxyXG5cdCxcclxuXHRzZWVpbmdfc3RhcnMgOiAobW92aWVfcmF0aW5nKSA9PiB7XHJcblx0XHQvKipcclxuXHRcdCAqIFN0YXIgQVNDSUkgY29kZXNcclxuXHRcdCAqIC0gLSAtIC0gLSAtIC0gLSAtXHJcblx0XHQgKiBTb2xpZCBzdGFyOiAmIzk3MzM7XHJcblx0XHQgKiBPdXRsaW5lIHN0YXI6ICYjOTczNDtcclxuXHRcdCAqL1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9ICcnO1xyXG5cdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhcnNcIj4nO1xyXG5cdFx0LyoqIFNldCB0aGUgbG93ZXN0IHZhbHVlICovXHJcblx0XHR2YXIgcmF0aW5nc3RhciA9IDE7XHJcblx0XHQvKiogQWRkIGEgc2VsZWN0ZWQgaW5kaWNhdG9yIHRvIHRoZSBvYmplY3QgdW50aWwgdGhlIHNlbGVjdGVkIHJhdGluZyB2YWx1ZSBpcyByZWFjaGVkICovXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vdmllX3JhdGluZzsgaSsrKSB7XHJcblx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPHNwYW4gY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhciBtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZFwiIGRhdGEtcmF0aW5nc3Rhcj1cIicgKyByYXRpbmdzdGFyICsgJ1wiPiYjOTczMyA8L3NwYW4+JztcclxuXHRcdFx0XHJcblx0XHRcdHJhdGluZ3N0YXIrKztcclxuXHRcdH1cclxuXHRcdC8qKiBTdWJ0cmFjdCB0aGUgc2VsZWN0ZWQgcmF0aW5nIGZyb20gdGhlIGhpZ2hlc3QgcG9zc2libGUgdG8gZ2V0IGFuIHVuc2VsZWN0ZWQvZmlsbGVyIGNvdW50ICovXHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJfdG90YWxDdCA9IDU7XHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0ID0gbW92aWVfcmF0aW5nX3N0YXJfdG90YWxDdC1tb3ZpZV9yYXRpbmc7XHJcblx0XHQvKiogQWRkIGFuIHVuc2VsZWN0ZWQgaW5kaWNhdG9yIHRvIHRoZSBvYmplY3QgdW50aWwgZmlsbGVyIGNvdW50IGlzIHJlYWNoZWQgKi9cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3Q7IGkrKykge1xyXG5cdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxzcGFuIGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXIgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZFwiIGRhdGEtcmF0aW5nc3Rhcj1cIicgKyByYXRpbmdzdGFyICsgJ1wiPiYjOTczNCAgPC9zcGFuPic7XHJcblxyXG5cdFx0XHRyYXRpbmdzdGFyKys7XHJcblx0XHR9XHJcblx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzwvZGl2Pic7XHJcblxyXG5cdFx0cmV0dXJuIG1vdmllX3JhdGluZ19zdGFycztcclxuXHR9XHJcblx0LFxyXG5cdHRyYWNrX2NoYW5nZXNfZmllbGQgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLm9uKCdpbnB1dCBjaGFuZ2UnLCAnaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblx0XHRcdHZhciBmbGRfbmFtZSA9ICQodGhpcykuYXR0cignZGF0YS1mbGRuYW1lJyk7XHJcblx0XHRcdHZhciBmbGRfZWwgPSAkKHRoaXMpWzBdO1xyXG5cdFx0XHR2YXIgZmxkX3ZhbDtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVmFsaWRpdHlTdGF0ZSAqL1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhmbGRfZWwudmFsaWRpdHkpO1xyXG5cclxuXHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkIGFzIGNoYW5nZWQgKi9cclxuXHRcdFx0aWYgKG9nVmFsICE9PSBjdXJyVmFsKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygndmFsQ2hnJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBEbyBzb21lIHZhbGlkYXRpb24gKi9cclxuXHRcdFx0XHRzd2l0Y2ggKGZsZF9uYW1lKSB7XHJcblx0XHRcdFx0XHRjYXNlICdUaXRsZSc6XHJcblx0XHRcdFx0XHRcdHZhciBjaGtfdGl0bGUgPSAkKHRoaXMpLnZhbCgpLmxlbmd0aCA+IDAgJiYgJCh0aGlzKS52YWwoKS5sZW5ndGggPCA1MTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKCFjaGtfdGl0bGUpIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ1RpdGxlIG11c3QgYmUgMSB0byA1MCBjaGFyYWN0ZXJzJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdZZWFyJzpcclxuXHRcdFx0XHRcdFx0LyoqIE9ubHkgYWxsb3cgbnVtYmVycyAqL1xyXG5cdFx0XHRcdFx0XHRmbGRfdmFsID0gdXRpbHMuaW5wdXRfbnVtYmVyc19vbmx5KGN1cnJWYWwpO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnZhbChmbGRfdmFsKTtcclxuXHJcblx0XHRcdFx0XHRcdHZhciBjaGtfeXIgPSAkKHRoaXMpLnZhbCgpLmxlbmd0aCA9PT0gNCAmJiAoIHBhcnNlSW50KCAkKHRoaXMpLnZhbCgpICkgPj0gMTgwMCAmJiBwYXJzZUludCggJCh0aGlzKS52YWwoKSApIDw9IDIxMDAgKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiAoIWNoa195cikge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnTXVzdCBiZSBhIDQgZGlnaXQgbnVtYmVyIGJldHdlZW4gMTgwMCBhbmQgMjEwMCcpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnTGVuZ3RoJzpcclxuXHRcdFx0XHRcdFx0LyoqIE9ubHkgYWxsb3cgbnVtYmVycyAqL1xyXG5cdFx0XHRcdFx0XHRmbGRfdmFsID0gdXRpbHMuaW5wdXRfbnVtYmVyc19vbmx5KGN1cnJWYWwpO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnZhbChmbGRfdmFsKTtcclxuXHJcblx0XHRcdFx0XHRcdHZhciBjaGtfbGVuID0gKCBwYXJzZUludCggJCh0aGlzKS52YWwoKSApID49IDEgJiYgcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA8PSA5OTkgKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiAoICFjaGtfbGVuICkge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnTXVzdCBiZSBhIDMgZGlnaXQgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqIFRoaXMgZGVsaXZlcnMgdGhlIGN1c3RvbSB2YWxpZGF0aW9uIG1lc3NhZ2VzICovXHJcblx0XHRcdC8qIHZhciBmbGRfaXNWYWxpZCA9IGZsZF9lbC5jaGVja1ZhbGlkaXR5KCk7XHJcblxyXG5cdFx0XHRpZiAoIWZsZF9pc1ZhbGlkKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZmxkX2VsLnZhbGlkYXRpb25NZXNzYWdlKTtcclxuXHJcblx0XHRcdH0gKi9cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignY2hhbmdlJywgJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIG9nVmFsID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCh0aGlzKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19saXN0aW5nKCAkKHRoaXMpICk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHRyYWNrX2NoYW5nZXNfbGlzdGluZyA6IChqcU9iaikgPT4ge1xyXG5cdFx0dmFyIGhhc0NoZ3MgPSBqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmZpbmQoJ2lucHV0LCBzZWxlY3QnKS5oYXNDbGFzcygndmFsQ2hnJyk7XHJcblxyXG5cdFx0aWYgKGhhc0NoZ3MpIHtcclxuXHRcdFx0anFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLWhhc2NoZ3MnLCB0cnVlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1oYXNjaGdzJywgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdG1vdmllX2FkbWluLnNhdmVfYWxsX2NoZWNrKCk7XHJcblx0fVxyXG5cdCxcclxuXHRyYXRpbmdfaG92ZXIgOiAoKSA9PiB7XHJcblx0XHQvKiogSGF2ZSB0byB1c2UgZGVsZWdhdGVkIGFwcHJvYWNoIHRvIHdvcmsgd2l0aCBpbmplY3RlZCBlbGVtZW50cyAoZS5nLiwgbmV3IG1vdmllKSAqL1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKVxyXG5cdFx0XHQub24oJ21vdXNlZW50ZXInLCAnLm1vdmllX3JhdGluZ19zdGFyJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHJcblx0XHRcdFx0LyoqIE1ha2UgaG92ZXJlZCBpdGVtIGludG8gc2VsZWN0ZWQgc3RhdGUgKi9cclxuXHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczMyAnKTtcclxuXHJcblx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGhvdmVyZWQgaXRlbSBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0JCh0aGlzKS5wcmV2QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5odG1sKCcmIzk3MzMgJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9wcmV2U2liJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBcclxuXHRcdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGFmdGVyIGhvdmVyZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgdW5zZWxlY3RlZCBjb2xvclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuaHRtbCgnJiM5NzM0ICcpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfbmV4dFNpYicpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQub24oJ21vdXNlbGVhdmUnLCAnLm1vdmllX3JhdGluZ19zdGFyJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX3ByZXZTaWInKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX25leHRTaWInKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvKiogUmVzZXQgYWxsIHN0YXJzIHRvIG9yaWdpbmFsIHN0YXRlICovXHJcblx0XHRcdFx0aWYgKCAkKHRoaXMpLmhhc0NsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpICkge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzMgJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzM0ICcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCcubW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5odG1sKCcmIzk3MzMgJyk7XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnLm1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5odG1sKCcmIzk3MzQgJyk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdCxcclxuXHRyYXRpbmdfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQvLyAkKCcubW92aWVfcmF0aW5nX3N0YXInKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2NsaWNrJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIG1vdmllX3JhdGluZ19zZWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmF0aW5nc3RhcicpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0LyoqIEZpcmUgY2hhbmdlIGV2ZW50IG9uIGFzc29jaWF0ZWQgaW5wdXQgKi9cclxuXHRcdFx0JCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbChtb3ZpZV9yYXRpbmdfc2VsKS5jaGFuZ2UoKTtcclxuXHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbCgpO1xyXG5cclxuXHRcdFx0LyoqIElmIHRoZSBjdXJyZW50IHZhbHVlIGlzbid0IHRoZSBvcmlnaW5hbCB2YWx1ZSwgbWFyayB0aGUgZmllbGQgKi9cclxuXHRcdFx0LyoqIENoYW5nZSBjb2xvcnMgb24gcmF0aW5nIGRpc3BsYXkgdG8gbWltaWMgaW5wdXQgZmllbGRzICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLmFkZENsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2Ugc2VsY3RlZCBpdGVtIFxyXG5cdFx0XHQgKiBhbmQgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGl0IFxyXG5cdFx0XHQgKiBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJyk7XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgc2VsZWN0ZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmVfY2hlY2sgOiAoKSA9PiB7XHJcblx0XHQvLyBjaGVjayBpZiBmaWVsZHMgYXNzb2NpYXRlZCB0byBnaXZlbiBzYXZlIGJ1dHRvbiBoYXZlIGNoYW5nZWRcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsX2NoZWNrIDogKCkgPT4ge1xyXG5cdFx0aWYgKCAkKCcudmFsQ2hnJykubGVuZ3RoICE9PSAwICkge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHJcblx0XHRcdC8qKiBJZiBhbiAubXNnX3Vuc2F2ZWRDaGdzIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdGlmICggJCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfdW5zYXZlZENoZ3MnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3Vuc2F2ZWRDaGdzIG1zZy13YXJuaW5nXCI+VGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlcyE8L3NtYWxsPicpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ191bnNhdmVkQ2hncycpLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmVfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuc2F2ZV9pdGVtJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCh0aGlzKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnNhdmVfb25lKG1vdmllX3JlY2lkKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGxfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuc2F2ZS1hbGwnKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9pdGVtIDogKG1vdmllX3JlY2lkLCBpc05ldykgPT4ge1xyXG5cdFx0dmFyIHJlcV9vYmogPSB7XHJcblx0XHRcdCdJRCc6IG1vdmllX3JlY2lkXHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciByZXFfb2JqX2ZsZHMgPSB7fTtcclxuXHRcdHZhciBjaGdkRmxkc0FyciA9ICQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLnZhbENoZycpO1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIEZvciBlYWNoIGNoYW5nZWQgZmllbGQsIFxyXG5cdFx0ICogZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgdGhhdCBoYXMgdGhlIGFzc29jaWF0ZWQgZmllbGQgbmFtZSBpbiB0aGUgZGF0YSBzdG9yZVxyXG5cdFx0ICogYWxvbmcgd2l0aCB0aGUgZmllbGQgdmFsdWUgXHJcblx0XHQgKiB0byBidWlsZCBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIFxyXG5cdFx0ICogdG8gc2VuZCBpbiBlYWNoIHJlcXVlc3RcclxuXHRcdCAqL1xyXG5cclxuXHRcdCQuZWFjaChjaGdkRmxkc0FyciwgZnVuY3Rpb24gKGlkeF9mbGQsIGl0bV9mbGQpIHtcclxuXHRcdFx0dmFyIGZsZE5hbWUgPSAkKGl0bV9mbGQpLmF0dHIoJ2RhdGEtZmxkbmFtZScpO1xyXG5cdFx0XHR2YXIgZmxkVmFsID0gJChpdG1fZmxkKS52YWwoKTtcclxuXHJcblx0XHRcdGlmICggZmxkTmFtZSA9PT0gJ1llYXInIHwgZmxkTmFtZSA9PT0gJ0xlbmd0aCcgfCBmbGROYW1lID09PSAnUmF0aW5nJyApIHtcclxuXHRcdFx0XHRmbGRWYWwgPSBOdW1iZXIoZmxkVmFsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVxX29ial9mbGRzW2ZsZE5hbWVdID0gZmxkVmFsO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIG1vdmllX2FjdGl2ZSA9ICQoJyNtb3ZpZV9hY3RpdmVfJyArIG1vdmllX3JlY2lkKS5pcygnOmNoZWNrZWQnKTtcclxuXHJcblx0XHRyZXFfb2JqX2ZsZHNbJ0FjdGl2ZSddID0gbW92aWVfYWN0aXZlO1xyXG5cclxuXHRcdHJlcV9vYmouZmllbGRzID0gcmVxX29ial9mbGRzO1xyXG5cclxuXHRcdHZhciByZXFfc3RyID0gSlNPTi5zdHJpbmdpZnkocmVxX29iaik7XHJcblxyXG5cdFx0dmFyIHNhdmVJdGVtUHJvbSA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiAocHJvbVN1Y2Nlc3MsIHByb21FcnJvcikge1xyXG5cdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9jcmVhdGVfbW92aWUnLFxyXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRcdGRhdGE6IHJlcV9zdHIsXHJcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbW92aWVfcmVjaWRfbmV3ID0gcmVzcC5pZDtcclxuXHJcblx0XHRcdFx0XHRcdC8qKiBSZXBsYWNlIG9jY3VyZW5jZXMgb2YgbWlsbGlzZWNvbmQgc3RhbXAgSUQgd2l0aCBuZXdseS1jcmVhdGVkIHJldHVybmVkIElEICovXHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cignaWQnLCAnbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KTtcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykuYXR0cignZGF0YS1yZWNpZCcsICdtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpO1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdFx0XHQgKiBOZWVkIHNvbHV0aW9uIGZvciBmaW5kaW5nIGFsbCBvY2N1cmVuY2VzIG9mIHRlbXBvcmFyeSBJRCB3aXRoIG5ldyBvbmUgXHJcblx0XHRcdFx0XHRcdCAqIFBvc3NpYmxlIHNvbHV0aW9uIGlzIHRvIGVsaW1pbmF0ZSBhbGwgdGhlIHBsYWNlcyB3aGVyZSB0aGF0IHVuaXF1ZSBJRCBpcyB1c2VkXHJcblx0XHRcdFx0XHRcdCAqIGkuZS4sIGp1c3QgcmVseSBvbiBwYXJlbnQgZWxlbWVudCBhdHRyaWJ1dGVzXHJcblx0XHRcdFx0XHRcdCAqL1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGVzICovXHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpLnJlbW92ZUNsYXNzKCdpcy1uZXcnKTtcclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykuZmluZCgnLnZhbENoZywgLnZhbENoZy1jb2xvcnNPbmx5JykucmVtb3ZlQ2xhc3MoJ3ZhbENoZyB2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5maW5kKCcubW92aWVfcmF0aW5nX3N0YXJzJykucmVtb3ZlQ2xhc3MoJ3ZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdHByb21TdWNjZXNzKHJlc3ApO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR2YXIgZXJyX2Rpc3A7XHJcblx0XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfaXMgPSBqcVhIUi5yZXNwb25zZUpTT05bJ2Vycm9yJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcclxuXHRcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHByb21FcnJvcigpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdC8qIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2NvbXBsZXRlIGV2ZW50Jyk7XHJcblx0XHJcblx0XHRcdFx0XHR9ICovXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfdXBkYXRlX21vdmllJyxcclxuXHRcdFx0XHRcdHR5cGU6ICdQQVRDSCcsXHJcblx0XHRcdFx0XHRjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRcdFx0ZGF0YTogcmVxX3N0cixcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGUgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcudmFsQ2hnLCAudmFsQ2hnLWNvbG9yc09ubHknKS5yZW1vdmVDbGFzcygndmFsQ2hnIHZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRwcm9tU3VjY2VzcygpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR2YXIgZXJyX2Rpc3A7XHJcblx0XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfaXMgPSBqcVhIUi5yZXNwb25zZUpTT05bJ2Vycm9yJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcclxuXHRcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHByb21FcnJvcigpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGpxWEhSLnN0YXR1cyA9PT0gNDAxKSB7XHJcblx0XHRcdFx0XHRcdFx0YXV0aC5zaG93X2xvZ2luX21vZGFsKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQvKiBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjb21wbGV0ZSBldmVudCcpO1xyXG5cdFxyXG5cdFx0XHRcdFx0fSAqL1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gc2F2ZUl0ZW1Qcm9tO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmUgOiAobW92aWVfcmVjaWQpID0+IHtcclxuXHRcdHZhciBzYXZlSXRlbSA9IG1vdmllX2FkbWluLnNhdmVfaXRlbShtb3ZpZV9yZWNpZCk7XHJcblxyXG5cdFx0c2F2ZUl0ZW0udGhlbihcclxuXHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdC8qKiBGbGFnIGFuIGVsZW1lbnQgc28gdGhlIG1lc3NhZ2UgY2FuIGJlIHBsYWNlZCBjb250ZXh0dWFsbHkgKi9cclxuXHRcdFx0XHQvL1xyXG5cclxuXHRcdFx0XHRtb3ZpZV9hZG1pbi5zdGF0dXNfbXNnKCdzYXZlX29uZV9zdWNjZXNzJyk7XHJcblx0XHRcdH0sIFxyXG5cdFx0XHRmdW5jdGlvbiAoZXJyT2JqKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJPYmopO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGwgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3NhdmluZ0FsbENoZ3MgbXNnLWluZm9cIj5TYXZpbmcgYWxsIGNoYW5nZXMuLi48L3NtYWxsPicpO1xyXG5cclxuXHRcdC8qKiBHYXRoZXIgY2hhbmdlcyBhbmQgc2VuZCBQQVRDSCByZXF1ZXN0IHRvIEFQSSBwZXIgbW92aWUgKi9cclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBDaGFuZ2VzIG5lZWQgdG8gYmUgZ3JvdXBlZCBwZXIgcmVjb3JkIChpLmUuLCBtb3ZpZSlcclxuXHRcdCAqIFxyXG5cdFx0ICogUHJldHR5IHN1cmUgdGhlIGJlc3Qgb3B0aW9uIGlzIHRvIFxyXG5cdFx0ICogZmxhZyBhIHBhcmVudCBlbGVtZW50IChlLmcuLCBcIi5tb3ZpZV9saXN0aW5nXCIpIG9uIGNoYW5nZXMsXHJcblx0XHQgKiB1c2luZyB0aGF0IGFzIHRoZSBzdGFydGluZyBwb2ludCBcclxuXHRcdCAqIHRvIHRyYXZlcnNlIGRvd24gY2hpbGRyZW5cclxuXHRcdCAqIGFuZCBjb2xsZWN0IGNoYW5nZXMuXHJcblx0XHQgKlxyXG5cdFx0ICogSWYgYWxsIGNoYW5nZXMgZm9yIGEgZ2l2ZW4gcmVjb3JkIGFyZSBiYWNrZWQgb3V0XHJcblx0XHQgKiBjbGVhciBmbGFnIG9uIHBhcmVudCBlbGVtZW50XHJcblx0XHQgKi9cclxuXHJcblx0XHR2YXIgY2hnZE1vdmllc0FyciA9ICQoJy5tb3ZpZV9saXN0aW5nW2RhdGEtaGFzY2hncz1cInRydWVcIl0nKTtcclxuXHJcblx0XHQkLmVhY2goY2hnZE1vdmllc0FyciwgZnVuY3Rpb24gKGlkeCwgaXRtKSB7XHJcblx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKGl0bSkuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAkKGl0bSkuaGFzQ2xhc3MoJ2lzLW5ldycpICkge1xyXG5cdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNhdmVJdGVtID0gbW92aWVfYWRtaW4uc2F2ZV9pdGVtKG1vdmllX3JlY2lkLCBpc05ldyk7XHJcblxyXG5cdFx0XHRzYXZlSXRlbS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gY2hnZE1vdmllc0Fyci5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9hbGxfc3VjY2VzcycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIFxyXG5cdFx0XHRcdGZ1bmN0aW9uIChlcnJPYmopIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHN0YXR1c19tc2cgOiAoc3RhdHVzX21zZykgPT4ge1xyXG5cdFx0c3dpdGNoIChzdGF0dXNfbXNnKSB7XHJcblx0XHRcdGNhc2UgJ3NhdmVfb25lX3N1Y2Nlc3MnOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9vbmVfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfc3VjY2Vzcyc6XHJcblx0XHRcdFx0LyoqIFJlbW92ZSBhbnkgbWVzc2FnZXMgYWJvdXQgc2F2ZSBzdGF0dXMgKi9cclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ19jaGdzU2F2ZWQgbXNnLXN1Y2Nlc3NcIj5BbGwgY2hhbmdlcyBzYXZlZC48L3NtYWxsPicpO1xyXG5cclxuXHRcdFx0XHQvKiogQWZ0ZXIgc3BlY2lmaWNlZCBkZWxheSwgZmFkZSB0aGUgbWVzc2FnZSwgdGhlbiByZW1vdmUgZnJvbSBET00gKi9cclxuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfY2hnc1NhdmVkJykuZmFkZU91dCgnc2xvdycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0sIDIwMDApO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcbn0pLmluaXQoKTtcclxuIl19
