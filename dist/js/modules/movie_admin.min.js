var movie_admin="object"==typeof movie_admin?movie_admin:{};(movie_admin={init:()=>{sitewide.auth_sesh_check().then(function(e){console.log("movie_admin init auth_sesh_check resp: "),console.log(e),$("#movie_admin_list_actions").css("visibility","visible"),movie_admin.load_movie_list()}).catch(function(e){$("#movie_list_status").alert("close"),console.log("errObj: "),console.log(e);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-danger fade show" role="alert"><span id="movie_list_status_msg">Access not authorized.</span></div>')})},load_movie_list:()=>{$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(e,a,i){e.length>0&&$.each(e,function(a,i){var t=i.id,s=i.fields,l=s.Title,o=s.Year,n=s.Length,r=s.Rating,m=s.Format,v=(s.Art,s.Active),_="";v&&(_=" checked");var c,d,g,h=movie_admin.seeing_stars(r);switch(m){case"DVD":c="selected";break;case"Streaming":d="selected";break;case"VHS":g="selected"}var u='<div class="movie_listing" data-recid="'+t+'"data-haschgs="false"id="movie_listing_'+t+'"><div class="movie_title form-field-container"><label for="movie_title_'+t+'">Title</label> <small class="text-muted">(50 characters or less)</small><input id="movie_title_'+t+'" value="'+l+'" data-fldname="Title" data-ogval="'+l+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+t+'">Year</label><small class="text-muted">(from 1800 to 2100)</small><input id="movie_year_'+t+'" value="'+o+'" data-fldname="Year" data-ogval="'+o+'" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container"><label for="movie_length_'+t+'">Length</label><small class="text-muted">(in minutes)</small><input id="movie_length_'+t+'" value="'+n+'" data-fldname="Length" data-ogval="'+n+'" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+t+'">Rating</label>'+h+'<input id="movie_rating_'+t+'" value="'+r+'" data-fldname="Rating" data-ogval="'+r+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format form-field-container"><label for="movie_format_'+t+'">Format</label><select id="movie_format_'+t+'" class="form-control" data-fldname="Format" data-ogval="'+m+'"><option value="DVD"'+c+'>DVD</option><option value="Streaming"'+d+'>Streaming</option><option value="VHS"'+g+'>VHS</option></select></div><div class="movie_rating form-field-container form-check"><input id="movie_active_'+t+'" data-fldname="Active" data-ogval="'+v+'" class="form-check-input" type="checkbox"'+_+'><label for="movie_active_'+t+'" class="lbl_checkbox form-check-label">Active</label></div></div></div>';$("#movie_admin_list").append(u),a+1===e.length&&movie_admin.ready()})}).fail(function(e,a,i){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:()=>{$("#movie_list_status").alert("close"),movie_admin.add_movie_click(),$(".add-movie").prop("disabled",!1),movie_admin.track_changes_field(),movie_admin.rating_hover(),movie_admin.rating_click(),movie_admin.save_all_click()},add_movie_click:()=>{$(".add-movie").click(function(e){movie_admin.add_movie(),$("input").first().focus()})},add_movie:()=>{var e=Date.now(),a='<div class="movie_listing is-new form-group" data-recid="'+e+'"data-haschgs="false"id="movie_listing_'+e+'"class="movie_listing_new"><div class="movie_title form-field-container"><label for="movie_title_'+e+'">Title</label><small class="text-muted">(50 characters or less)</small><input id="movie_title_'+e+'" value="" data-fldname="Title" class="form-control" type="text" minlength="1" maxlength="50" required></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+e+'">Year</label><small class="text-muted">(from 1800 to 2100)</small><input id="movie_year_'+e+'" value="" data-fldname="Year" class="form-control" type="text" pattern="\\d*" maxlength="4" required></div><div class="movie_length form-field-container"><label for="movie_length_'+e+'">Length</label><small class="text-muted">(in minutes)</small><input id="movie_length_'+e+'" value="" data-fldname="Length" class="form-control" type="text" pattern="\\d*" maxlength="3" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+e+'">Rating</label>'+movie_admin.seeing_stars("1")+'<input id="movie_rating_'+e+'" value="1" data-fldname="Rating" class="form-control valChg" type="number" min="1" max="5" hidden required></div><div class="movie_format form-field-container"><label for="movie_format_'+e+'">Format</label><select id="movie_format_'+e+'" class="form-control valChg" data-fldname="Format"><option value="DVD">DVD</option><option value="Streaming" selected>Streaming</option><option value="VHS">VHS</option></select></div><div class="movie_rating form-field-container form-check"><input id="movie_active_'+e+'" data-fldname="Active" class="form-check-input" type="checkbox" checked><label for="movie_active_'+e+'" class="lbl_checkbox form-check-label">Active</label></div></div></div>';$("#movie_admin_list").prepend(a),$(".is-new .movie_rating_stars").addClass("valChg-colorsOnly")},seeing_stars:e=>{var a="";a+='<div class="movie_rating_stars">';for(var i=1,t=0;t<e;t++)a+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+i+'">&#9733 </span>',i++;var s=5-e;for(t=0;t<s;t++)a+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+i+'">&#9734  </span>',i++;return a+="</div>"},track_changes_field:()=>{$("#movie_admin_list").on("input change","input",function(e){var a,i=$(this).attr("data-ogval"),t=$(this).val(),s=$(this).attr("data-fldname"),l=$(this)[0];if(l.setCustomValidity(""),i!==t)switch($(this).addClass("valChg"),s){case"Title":$(this).val().length>0&&$(this).val().length<51?l.setCustomValidity(""):l.setCustomValidity("Title must be 1 to 50 characters");break;case"Year":a=utils.input_numbers_only(t),$(this).val(a),4===$(this).val().length&&parseInt($(this).val())>=1800&&parseInt($(this).val())<=2100?l.setCustomValidity(""):l.setCustomValidity("Must be a 4 digit number between 1800 and 2100");break;case"Length":a=utils.input_numbers_only(t),$(this).val(a),parseInt($(this).val())>=1&&parseInt($(this).val())<=999?l.setCustomValidity(""):l.setCustomValidity("Must be a 3 digit number greater than 1")}else $(this).removeClass("valChg").nextAll(".valChgMsg").remove();movie_admin.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(e){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),movie_admin.track_changes_listing($(this))})},track_changes_listing:e=>{e.closest(".movie_listing").find("input, select").hasClass("valChg")?e.closest(".movie_listing").attr("data-haschgs",!0):e.closest(".movie_listing").attr("data-haschgs",!1),movie_admin.save_all_check()},rating_hover:()=>{$("#movie_admin_list").on("mouseenter",".movie_rating_star",function(e){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")}).on("mouseleave",".movie_rating_star",function(e){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:()=>{$("#movie_admin_list").on("click",".movie_rating_star",function(e){var a=$(this).attr("data-ratingstar"),i=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+i).val(a).change(),$("#movie_rating_"+i).attr("data-ogval")!==$("#movie_rating_"+i).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:()=>{},save_all_check:()=>{0!==$(".valChg").length?($(".save-all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save-all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:()=>{$(".save_item").click(function(e){$(this).prop("disabled",!0);var a=$(this).attr("data-recid");movie_admin.save_one(a)})},save_all_click:()=>{$(".save-all").click(function(e){$(".save-all").prop("disabled",!0),movie_admin.save_all()})},save_item:(e,a)=>{var i={ID:e},t={},s=$("#movie_listing_"+e).find(".valChg");$.each(s,function(e,a){var i=$(a).attr("data-fldname"),s=$(a).val();"Year"===i|"Length"===i|"Rating"===i&&(s=Number(s)),t[i]=s});var l=$("#movie_active_"+e).is(":checked");t.Active=l,i.fields=t,console.log(i);var o=JSON.stringify(i);return new Promise(function(i,t){a?$.ajax({url:"/.netlify/functions/at_create_movie",type:"POST",contentType:"application/json",data:o,success:function(a,t,s){console.log("success event");var l=a.id;$("#movie_listing_"+e).attr("id","movie_listing_"+l),$("#movie_listing_"+l).attr("data-recid","movie_listing_"+l),$("#movie_listing_"+l).removeClass("is-new"),$("#movie_listing_"+l).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+l).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),i(a)},error:function(e,a,i){var s;if(console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;t(),alert("Error:\n"+s)},complete:function(){console.log("complete event")}}):$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:o,success:function(a,t,s){console.log("success event"),$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$("#movie_listing_"+e).find(".movie_rating_stars").removeClass("valChg-colorsOnly"),i()},error:function(e,a,i){var s;if(console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(i),void 0!==e.responseJSON){s=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else s=e.responseText;t(),alert("Error:\n"+s)},complete:function(){console.log("complete event")}})})},save_one:e=>{movie_admin.save_item(e).then(function(){movie_admin.status_msg("save_one_success")},function(e){console.error(e)})},save_all:()=>{$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var e=$('.movie_listing[data-haschgs="true"]');$.each(e,function(a,i){var t=!1,s=$(i).attr("data-recid");$(i).hasClass("is-new")&&(t=!0),movie_admin.save_item(s,t).then(function(){a+1===e.length&&movie_admin.status_msg("save_all_success")},function(e){console.error(e)})})},status_msg:e=>{switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(e){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21vZHVsZXMvbW92aWVfYWRtaW4uanMiXSwibmFtZXMiOlsibW92aWVfYWRtaW4iLCJpbml0Iiwic2l0ZXdpZGUiLCJhdXRoX3Nlc2hfY2hlY2siLCJ0aGVuIiwicmVzcCIsImNvbnNvbGUiLCJsb2ciLCIkIiwiY3NzIiwibG9hZF9tb3ZpZV9saXN0IiwiY2F0Y2giLCJlcnJPYmoiLCJhbGVydCIsInByZXBlbmQiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJkb25lIiwidGV4dFN0YXR1cyIsImpxWEhSIiwibGVuZ3RoIiwiZWFjaCIsImlkeCIsIml0bSIsIm1vdmllX3JlY2lkIiwiaWQiLCJtb3ZpZV9vYmoiLCJmaWVsZHMiLCJtb3ZpZV90aXRsZSIsIlRpdGxlIiwibW92aWVfeWVhciIsIlllYXIiLCJtb3ZpZV9sZW5ndGgiLCJMZW5ndGgiLCJtb3ZpZV9yYXRpbmciLCJSYXRpbmciLCJtb3ZpZV9mb3JtYXQiLCJGb3JtYXQiLCJtb3ZpZV9hY3RpdmUiLCJBcnQiLCJBY3RpdmUiLCJtb3ZpZV9hY3RpdmVfY2hlY2tlZCIsIkRWRHNlbCIsIlNUUnNlbCIsIlZIU3NlbCIsIm1vdmllX3JhdGluZ19zdGFycyIsInNlZWluZ19zdGFycyIsIm1vdmllX2xpc3RpbmciLCJhcHBlbmQiLCJyZWFkeSIsImZhaWwiLCJlcnJvclRocm93biIsImFkZF9tb3ZpZV9jbGljayIsInByb3AiLCJ0cmFja19jaGFuZ2VzX2ZpZWxkIiwicmF0aW5nX2hvdmVyIiwicmF0aW5nX2NsaWNrIiwic2F2ZV9hbGxfY2xpY2siLCJjbGljayIsImUiLCJhZGRfbW92aWUiLCJmaXJzdCIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsImFkZENsYXNzIiwicmF0aW5nc3RhciIsImkiLCJtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QiLCJvbiIsImZsZF92YWwiLCJvZ1ZhbCIsInRoaXMiLCJhdHRyIiwiY3VyclZhbCIsInZhbCIsImZsZF9uYW1lIiwiZmxkX2VsIiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJ1dGlscyIsImlucHV0X251bWJlcnNfb25seSIsInBhcnNlSW50IiwicmVtb3ZlQ2xhc3MiLCJuZXh0QWxsIiwicmVtb3ZlIiwidHJhY2tfY2hhbmdlc19saXN0aW5nIiwianFPYmoiLCJjbG9zZXN0IiwiZmluZCIsImhhc0NsYXNzIiwic2F2ZV9hbGxfY2hlY2siLCJodG1sIiwicHJldkFsbCIsInNpYmxpbmdzIiwibW92aWVfcmF0aW5nX3NlbCIsImNoYW5nZSIsInNhdmVfb25lX2NoZWNrIiwic2F2ZV9vbmVfY2xpY2siLCJzYXZlX29uZSIsInNhdmVfYWxsIiwic2F2ZV9pdGVtIiwiaXNOZXciLCJyZXFfb2JqIiwiSUQiLCJyZXFfb2JqX2ZsZHMiLCJjaGdkRmxkc0FyciIsImlkeF9mbGQiLCJpdG1fZmxkIiwiZmxkTmFtZSIsImZsZFZhbCIsIk51bWJlciIsImlzIiwicmVxX3N0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJQcm9taXNlIiwicHJvbVN1Y2Nlc3MiLCJwcm9tRXJyb3IiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJkYXRhIiwic3VjY2VzcyIsImpxWGhyIiwibW92aWVfcmVjaWRfbmV3IiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsInJlc3BvbnNlVGV4dCIsImNvbXBsZXRlIiwic3RhdHVzX21zZyIsImNoZ2RNb3ZpZXNBcnIiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiZmFkZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsWUFBeUMsaUJBQWxCLFlBQStCQSxZQUFjLElBQ3ZFQSxZQUFjLENBQ2RDLEtBQU8sS0FDTkMsU0FBU0Msa0JBQ1JDLEtBQU0sU0FBVUMsR0FFaEJDLFFBQVFDLElBQUksMkNBQ1pELFFBQVFDLElBQUlGLEdBRVpHLEVBQUUsNkJBQTZCQyxJQUFJLGFBQWMsV0FFakRULFlBQVlVLG9CQUNWQyxNQUFPLFNBQVdDLEdBQ3BCSixFQUFFLHNCQUFzQkssTUFBTSxTQUU5QlAsUUFBUUMsSUFBSSxZQUNaRCxRQUFRQyxJQUFJSyxH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RSxrREFBa0Q2RSxTQUVwRDdFLEVBQUUsa0NBQWtDTSxRQUFRLDBGQWlCNUMsSUFBSXFILEVBQWdCM0gsRUFBRSx1Q0FFdEJBLEVBQUVjLEtBQUs2RyxFQUFlLFNBQVU1RyxFQUFLQyxHQUNwQyxJQUFJOEUsR0FBUSxFQUNSN0UsRUFBY2pCLEVBQUVnQixHQUFLa0QsS0FBSyxjQUV6QmxFLEVBQUVnQixHQUFLa0UsU0FBUyxZQUNwQlksR0FBUSxHQUdNdEcsWUFBWXFHLFVBQVU1RSxFQUFhNkUsR0FFekNsRyxLQUNSLFdBQ0ttQixFQUFJLElBQU00RyxFQUFjOUcsUUFDM0JyQixZQUFZa0ksV0FBVyxxQkFHekIsU0FBVXRILEdBQ1ROLFFBQVF1SCxNQUFNakgsUUFNbEJzSCxXQUFjQSxJQUNiLE9BQVFBLEdBQ1AsSUFBSyxtQkFHTCxJQUFLLGlCQUVMLE1BQ0EsSUFBSyxtQkFFSjFILEVBQUUsa0RBQWtENkUsU0FFcEQ3RSxFQUFFLGtDQUFrQ00sUUFBUSxzRkFHNUNzSCxPQUFPQyxXQUFZLFdBQ2xCN0gsRUFBRSxpREFBaUQ4SCxRQUFRLE9BQVEsU0FBVTFFLEdBQzVFcEQsRUFBRWlFLE1BQU1ZLFlBRVAsU0FPSnBGIiwiZmlsZSI6ImpzL21vZHVsZXMvbW92aWVfYWRtaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIG1vdmllLWFkbWluLmpzICovXHJcbnZhciBtb3ZpZV9hZG1pbiA9ICggdHlwZW9mIChtb3ZpZV9hZG1pbikgPT09ICdvYmplY3QnICkgPyBtb3ZpZV9hZG1pbiA6IHt9O1xyXG4obW92aWVfYWRtaW4gPSB7XHJcblx0aW5pdCA6ICgpID0+IHtcclxuXHRcdHNpdGV3aWRlLmF1dGhfc2VzaF9jaGVjaygpXHJcblx0XHQudGhlbiggZnVuY3Rpb24gKHJlc3ApIHtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnNvbGUubG9nKCdtb3ZpZV9hZG1pbiBpbml0IGF1dGhfc2VzaF9jaGVjayByZXNwOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVzcCk7XHJcblxyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuXHRcdFx0XHJcblx0XHRcdG1vdmllX2FkbWluLmxvYWRfbW92aWVfbGlzdCgpO1xyXG5cdFx0fSkuY2F0Y2goIGZ1bmN0aW9uICggZXJyT2JqICkge1xyXG5cdFx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJPYmo6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJPYmopO1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGlkPVwibW92aWVfbGlzdF9zdGF0dXNcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlciBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj4nICtcclxuXHRcdFx0XHRcdCc8c3BhbiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzX21zZ1wiPkFjY2VzcyBub3QgYXV0aG9yaXplZC48L3NwYW4+JyArXHJcblx0XHRcdFx0JzwvZGl2Pic7XHJcblx0XHRcdFxyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW4nKS5wcmVwZW5kKGVyck1zZyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdGxvYWRfbW92aWVfbGlzdCA6ICgpID0+IHtcclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfZ2V0X21vdmllP3JlY2lkPWFsbCcsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uICggcmVzcCwgdGV4dFN0YXR1cywganFYSFIgKSB7XHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlIFx0PSBtb3ZpZV9vYmouQWN0aXZlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnJztcclxuXHRcdFx0XHRcdGlmIChtb3ZpZV9hY3RpdmUpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWN0aXZlX2NoZWNrZWQgPSAnIGNoZWNrZWQnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSBtb3ZpZV9hZG1pbi5zZWVpbmdfc3RhcnMobW92aWVfcmF0aW5nKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgRFZEc2VsLCBTVFJzZWwsIFZIU3NlbDtcclxuXHRcdFx0XHRcdHN3aXRjaCAobW92aWVfZm9ybWF0KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ0RWRCc6XHJcblx0XHRcdFx0XHRcdFx0RFZEc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1N0cmVhbWluZyc6XHJcblx0XHRcdFx0XHRcdFx0U1RSc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1ZIUyc6XHJcblx0XHRcdFx0XHRcdFx0VkhTc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9saXN0aW5nID0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9saXN0aW5nXCIgJyArXHJcblx0XHRcdFx0XHRcdFx0J2RhdGEtcmVjaWQ9XCInICsgbW92aWVfcmVjaWQgKydcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCdkYXRhLWhhc2NoZ3M9XCJmYWxzZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0J2lkPVwibW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICc8ZGl2IGNsYXNzPVwibW92aWVfcG9zdGVyXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV90aXRsZSBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV90aXRsZV8nICsgbW92aWVfcmVjaWQgKyAnXCI+VGl0bGUnICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JyA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3RpdGxlICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiVGl0bGVcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfdGl0bGUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBtaW5sZW5ndGg9XCIxXCIgbWF4bGVuZ3RoPVwiNTBcIicgKyBcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxzXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3llYXIgZm9ybS1maWVsZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIj5ZZWFyJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlllYXJcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV95ZWFyICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIElucHV0IHR5cGU9XCJudW1iZXJcIiBoYXMgdW5kZXNpcmFibGUgc2lkZSBlZmZlY3RzICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMTgwMFwiIG1heD1cIjIxMDBcIicgKyBcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LyoqIFRoaXMgcGF0dGVybiBpcyBwZXJmZWN0IGJ1dCB0cmlnZ2VyaW5nIHRoZSBudW1lcmljIGtleXBhZCBvbiBtb2JpbGUgaXMgcGVyZmVjdGVyICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZHs0fVwiIG1heGxlbmd0aD1cIjRcIiByZXF1aXJlZCcgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qKiBGdW4gZmFjdDogVGhpcyBwYXR0ZXJuIHdpbGwgdHJpZ2dlciB0aGUgbnVtZXJpYyBrZXlwYWQgb24gbW9iaWxlICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIHBhdHRlcm49XCJcXFxcZCpcIiBtYXhsZW5ndGg9XCI0XCIgcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIj5MZW5ndGgnICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX2xlbmd0aCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiTGVuZ3RoXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjk5OVwiJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiM1wiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfcmF0aW5nICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW4nICsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZm9ybWF0IGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIj5Gb3JtYXQ8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyAnPHNlbGVjdCBpZD1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCIgY2xhc3M9XCJjdXN0b20tc2VsZWN0XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkZvcm1hdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2Zvcm1hdCArICdcIicgKyc+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gJzxvcHRpb24gc2VsZWN0ZWQ+T3BlbiB0aGlzIHNlbGVjdCBtZW51PC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJEVkRcIicgKyBEVkRzZWwgKyAnPkRWRDwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiU3RyZWFtaW5nXCInICsgU1RSc2VsICsgJz5TdHJlYW1pbmc8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlZIU1wiJyArIFZIU3NlbCArICc+VkhTPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8L3NlbGVjdD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nIGZvcm0tZmllbGQtY29udGFpbmVyIGZvcm0tY2hlY2tcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2FjdGl2ZV8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkFjdGl2ZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2FjdGl2ZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJjaGVja2JveFwiJyArIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1vdmllX2FjdGl2ZV9jaGVja2VkICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCcgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZm9yPVwibW92aWVfYWN0aXZlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJsYmxfY2hlY2tib3ggZm9ybS1jaGVjay1sYWJlbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnQWN0aXZlJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0JzwvZGl2PidcclxuXHRcdFx0XHRcdDtcclxuXHJcblx0XHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLmFwcGVuZChtb3ZpZV9saXN0aW5nKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaWR4KzEgPT09IHJlc3AubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdG1vdmllX2FkbWluLnJlYWR5KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pLmZhaWwoIGZ1bmN0aW9uICgganFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG5cdFx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcclxuXHJcblx0XHRcdHZhciBlcnJNc2cgPSAnPGRpdiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzXCIgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG5cdFx0XHRcdFx0JzxzcGFuIGlkPVwibW92aWVfbGlzdF9zdGF0dXNfbXNnXCI+VGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHRoZSBtb3ZpZXMuPC9icj5UcnkgcmVmcmVzaGluZyB0aGUgcGFnZSBhbmQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHVzLjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JztcclxuXHRcdFx0XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbicpLnByZXBlbmQoZXJyTXNnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0cmVhZHkgOiAoKSA9PiB7XHJcblx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRtb3ZpZV9hZG1pbi5hZGRfbW92aWVfY2xpY2soKTtcclxuXHRcdCQoJy5hZGQtbW92aWUnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHJcblx0XHRcclxuXHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfZmllbGQoKTtcclxuXHRcdG1vdmllX2FkbWluLnJhdGluZ19ob3ZlcigpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2NsaWNrKCk7XHJcblx0XHQvLyBtb3ZpZV9hZG1pbi5zYXZlX29uZV9jbGljaygpO1xyXG5cdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGxfY2xpY2soKTtcclxuXHR9XHJcblx0LFxyXG5cdGFkZF9tb3ZpZV9jbGljayA6ICgpID0+IHtcclxuXHRcdCQoJy5hZGQtbW92aWUnKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0bW92aWVfYWRtaW4uYWRkX21vdmllKCk7XHJcblxyXG5cdFx0XHQkKCdpbnB1dCcpLmZpcnN0KCkuZm9jdXMoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0YWRkX21vdmllIDogKCkgPT4ge1xyXG5cdFx0dmFyIG1vdmllX3JlY2lkID0gRGF0ZS5ub3coKTtcclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSBtb3ZpZV9hZG1pbi5zZWVpbmdfc3RhcnMoJzEnKTtcclxuXHJcblx0XHR2YXIgbW92aWVfbGlzdGluZyA9ICc8ZGl2IGNsYXNzPVwibW92aWVfbGlzdGluZyBpcy1uZXcgZm9ybS1ncm91cFwiICcgK1xyXG5cdFx0XHRcdCdkYXRhLXJlY2lkPVwiJyArIG1vdmllX3JlY2lkICsnXCInICtcclxuXHRcdFx0XHQvLyAnZGF0YS1yZWNpZD1cIm5ld1wiJyArXHJcblx0XHRcdFx0J2RhdGEtaGFzY2hncz1cImZhbHNlXCInICtcclxuXHRcdFx0XHQnaWQ9XCJtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdCdjbGFzcz1cIm1vdmllX2xpc3RpbmdfbmV3XCInICtcclxuXHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdC8vICc8ZGl2IGNsYXNzPVwibW92aWVfcG9zdGVyXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV90aXRsZSBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV90aXRsZV8nICsgbW92aWVfcmVjaWQgKyAnXCI+VGl0bGUnICtcclxuXHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0JzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oNTAgY2hhcmFjdGVycyBvciBsZXNzKTwvc21hbGw+JyArXHJcblx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfdGl0bGVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdCcgdmFsdWU9XCJcIicgK1xyXG5cdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlRpdGxlXCInICtcclxuXHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwibmV3X21vdmllXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0Ly8gJyBwbGFjZWhvbGRlcj1cIlRoZSBCaWcgRmxpY2sgVGl0bGVcIicgK1xyXG5cdFx0XHRcdFx0XHQnIHR5cGU9XCJ0ZXh0XCIgbWlubGVuZ3RoPVwiMVwiIG1heGxlbmd0aD1cIjUwXCIgcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZGV0YWlsc1wiPicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV95ZWFyIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCI+WWVhcicgK1xyXG5cdFx0XHRcdFx0XHQnPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0JzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oZnJvbSAxODAwIHRvIDIxMDApPC9zbWFsbD4nICtcclxuXHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3llYXJfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIlwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJZZWFyXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIGRhdGEtb2d2YWw9XCJuZXdfbW92aWVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBwbGFjZWhvbGRlcj1cIjIwMTlcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiNFwiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2xlbmd0aCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCI+TGVuZ3RoJyArXHJcblx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHQnPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihpbiBtaW51dGVzKTwvc21hbGw+JyArXHJcblx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIlwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9sZW5ndGggKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHBsYWNlaG9sZGVyPVwiMTUwXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCIgbWlubGVuZ3RoPVwiMVwiIG1heGxlbmd0aD1cIjNcIiBwYXR0ZXJuPVwiXFxcXGR7NH1cIiByZXF1aXJlZCcgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBwYXR0ZXJuPVwiXFxcXGQqXCIgbWF4bGVuZ3RoPVwiM1wiIHJlcXVpcmVkJyArIFxyXG5cdFx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiMVwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJSYXRpbmdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9yYXRpbmcgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sIHZhbENoZ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW4gcmVxdWlyZWQnICsgXHJcblx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZm9ybWF0IGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIj5Gb3JtYXQ8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHQvLyAnPHNlbGVjdCBpZD1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCIgY2xhc3M9XCJjdXN0b20tc2VsZWN0XCInICtcclxuXHRcdFx0XHRcdFx0JzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sIHZhbENoZ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9mb3JtYXQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICc8b3B0aW9uIHNlbGVjdGVkPk9wZW4gdGhpcyBzZWxlY3QgbWVudTwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiRFZEXCI+RFZEPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJTdHJlYW1pbmdcIiBzZWxlY3RlZD5TdHJlYW1pbmc8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlZIU1wiPlZIUzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHQnPC9zZWxlY3Q+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lciBmb3JtLWNoZWNrXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9hY3RpdmVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJBY3RpdmVcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9hY3RpdmUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB0eXBlPVwiY2hlY2tib3hcIicgKyBcclxuXHRcdFx0XHRcdFx0XHQnIGNoZWNrZWQnICtcclxuXHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0JzxsYWJlbCcgK1xyXG5cdFx0XHRcdFx0XHRcdCcgZm9yPVwibW92aWVfYWN0aXZlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJsYmxfY2hlY2tib3ggZm9ybS1jaGVjay1sYWJlbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0Jz4nICtcclxuXHRcdFx0XHRcdFx0XHQnQWN0aXZlJyArXHJcblx0XHRcdFx0XHRcdCc8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0JzwvZGl2PidcclxuXHRcdDtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLnByZXBlbmQobW92aWVfbGlzdGluZyk7XHJcblx0XHQkKCcuaXMtbmV3IC5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5hZGRDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHR9XHJcblx0LFxyXG5cdHNlZWluZ19zdGFycyA6IChtb3ZpZV9yYXRpbmcpID0+IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhciBBU0NJSSBjb2Rlc1xyXG5cdFx0ICogLSAtIC0gLSAtIC0gLSAtIC1cclxuXHRcdCAqIFNvbGlkIHN0YXI6ICYjOTczMztcclxuXHRcdCAqIE91dGxpbmUgc3RhcjogJiM5NzM0O1xyXG5cdFx0ICovXHJcblx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJzID0gJyc7XHJcblx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyc1wiPic7XHJcblx0XHQvKiogU2V0IHRoZSBsb3dlc3QgdmFsdWUgKi9cclxuXHRcdHZhciByYXRpbmdzdGFyID0gMTtcclxuXHRcdC8qKiBBZGQgYSBzZWxlY3RlZCBpbmRpY2F0b3IgdG8gdGhlIG9iamVjdCB1bnRpbCB0aGUgc2VsZWN0ZWQgcmF0aW5nIHZhbHVlIGlzIHJlYWNoZWQgKi9cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nOyBpKyspIHtcclxuXHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkXCIgZGF0YS1yYXRpbmdzdGFyPVwiJyArIHJhdGluZ3N0YXIgKyAnXCI+JiM5NzMzIDwvc3Bhbj4nO1xyXG5cdFx0XHRcclxuXHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0fVxyXG5cdFx0LyoqIFN1YnRyYWN0IHRoZSBzZWxlY3RlZCByYXRpbmcgZnJvbSB0aGUgaGlnaGVzdCBwb3NzaWJsZSB0byBnZXQgYW4gdW5zZWxlY3RlZC9maWxsZXIgY291bnQgKi9cclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3Rhcl90b3RhbEN0ID0gNTtcclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QgPSBtb3ZpZV9yYXRpbmdfc3Rhcl90b3RhbEN0LW1vdmllX3JhdGluZztcclxuXHRcdC8qKiBBZGQgYW4gdW5zZWxlY3RlZCBpbmRpY2F0b3IgdG8gdGhlIG9iamVjdCB1bnRpbCBmaWxsZXIgY291bnQgaXMgcmVhY2hlZCAqL1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdDsgaSsrKSB7XHJcblx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPHNwYW4gY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhciBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkXCIgZGF0YS1yYXRpbmdzdGFyPVwiJyArIHJhdGluZ3N0YXIgKyAnXCI+JiM5NzM0ICA8L3NwYW4+JztcclxuXHJcblx0XHRcdHJhdGluZ3N0YXIrKztcclxuXHRcdH1cclxuXHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPC9kaXY+JztcclxuXHJcblx0XHRyZXR1cm4gbW92aWVfcmF0aW5nX3N0YXJzO1xyXG5cdH1cclxuXHQsXHJcblx0dHJhY2tfY2hhbmdlc19maWVsZCA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblx0XHRcdHZhciBmbGRfbmFtZSA9ICQodGhpcykuYXR0cignZGF0YS1mbGRuYW1lJyk7XHJcblx0XHRcdHZhciBmbGRfZWwgPSAkKHRoaXMpWzBdO1xyXG5cdFx0XHR2YXIgZmxkX3ZhbDtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVmFsaWRpdHlTdGF0ZSAqL1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhmbGRfZWwudmFsaWRpdHkpO1xyXG5cclxuXHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkIGFzIGNoYW5nZWQgKi9cclxuXHRcdFx0aWYgKG9nVmFsICE9PSBjdXJyVmFsKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygndmFsQ2hnJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBEbyBzb21lIHZhbGlkYXRpb24gKi9cclxuXHRcdFx0XHRzd2l0Y2ggKGZsZF9uYW1lKSB7XHJcblx0XHRcdFx0XHRjYXNlICdUaXRsZSc6XHJcblx0XHRcdFx0XHRcdHZhciBjaGtfdGl0bGUgPSAkKHRoaXMpLnZhbCgpLmxlbmd0aCA+IDAgJiYgJCh0aGlzKS52YWwoKS5sZW5ndGggPCA1MTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKCFjaGtfdGl0bGUpIHtcclxuXHRcdFx0XHRcdFx0XHRmbGRfZWwuc2V0Q3VzdG9tVmFsaWRpdHkoJ1RpdGxlIG11c3QgYmUgMSB0byA1MCBjaGFyYWN0ZXJzJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdZZWFyJzpcclxuXHRcdFx0XHRcdFx0LyoqIE9ubHkgYWxsb3cgbnVtYmVycyAqL1xyXG5cdFx0XHRcdFx0XHRmbGRfdmFsID0gdXRpbHMuaW5wdXRfbnVtYmVyc19vbmx5KGN1cnJWYWwpO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnZhbChmbGRfdmFsKTtcclxuXHJcblx0XHRcdFx0XHRcdHZhciBjaGtfeXIgPSAkKHRoaXMpLnZhbCgpLmxlbmd0aCA9PT0gNCAmJiAoIHBhcnNlSW50KCAkKHRoaXMpLnZhbCgpICkgPj0gMTgwMCAmJiBwYXJzZUludCggJCh0aGlzKS52YWwoKSApIDw9IDIxMDAgKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiAoIWNoa195cikge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnTXVzdCBiZSBhIDQgZGlnaXQgbnVtYmVyIGJldHdlZW4gMTgwMCBhbmQgMjEwMCcpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnTGVuZ3RoJzpcclxuXHRcdFx0XHRcdFx0LyoqIE9ubHkgYWxsb3cgbnVtYmVycyAqL1xyXG5cdFx0XHRcdFx0XHRmbGRfdmFsID0gdXRpbHMuaW5wdXRfbnVtYmVyc19vbmx5KGN1cnJWYWwpO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnZhbChmbGRfdmFsKTtcclxuXHJcblx0XHRcdFx0XHRcdHZhciBjaGtfbGVuID0gKCBwYXJzZUludCggJCh0aGlzKS52YWwoKSApID49IDEgJiYgcGFyc2VJbnQoICQodGhpcykudmFsKCkgKSA8PSA5OTkgKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiAoICFjaGtfbGVuICkge1xyXG5cdFx0XHRcdFx0XHRcdGZsZF9lbC5zZXRDdXN0b21WYWxpZGl0eSgnTXVzdCBiZSBhIDMgZGlnaXQgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxkX2VsLnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqIFRoaXMgZGVsaXZlcnMgdGhlIGN1c3RvbSB2YWxpZGF0aW9uIG1lc3NhZ2VzICovXHJcblx0XHRcdC8qIHZhciBmbGRfaXNWYWxpZCA9IGZsZF9lbC5jaGVja1ZhbGlkaXR5KCk7XHJcblxyXG5cdFx0XHRpZiAoIWZsZF9pc1ZhbGlkKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZmxkX2VsLnZhbGlkYXRpb25NZXNzYWdlKTtcclxuXHJcblx0XHRcdH0gKi9cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignY2hhbmdlJywgJ3NlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2xpc3RpbmcgOiAoanFPYmopID0+IHtcclxuXHRcdHZhciBoYXNDaGdzID0ganFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5maW5kKCdpbnB1dCwgc2VsZWN0JykuaGFzQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdGlmIChoYXNDaGdzKSB7XHJcblx0XHRcdGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1oYXNjaGdzJywgdHJ1ZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmF0dHIoJ2RhdGEtaGFzY2hncycsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jaGVjaygpO1xyXG5cdH1cclxuXHQsXHJcblx0cmF0aW5nX2hvdmVyIDogKCkgPT4ge1xyXG5cdFx0LyoqIEhhdmUgdG8gdXNlIGRlbGVnYXRlZCBhcHByb2FjaCB0byB3b3JrIHdpdGggaW5qZWN0ZWQgZWxlbWVudHMgKGUuZy4sIG5ldyBtb3ZpZSkgKi9cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JylcclxuXHRcdFx0Lm9uKCdtb3VzZWVudGVyJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcclxuXHRcdFx0XHQvKiogTWFrZSBob3ZlcmVkIGl0ZW0gaW50byBzZWxlY3RlZCBzdGF0ZSAqL1xyXG5cdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzMzICcpO1xyXG5cclxuXHRcdFx0XHQvKiogXHJcblx0XHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBiZWZvcmUgaG92ZXJlZCBpdGVtIGludG8gdGhlIHNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmh0bWwoJyYjOTczMyAnKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX3ByZXZTaWInKTtcclxuXHJcblx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgaG92ZXJlZCBpdGVtIGludG8gdGhlIHVuc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSB1bnNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0JCh0aGlzKS5uZXh0QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5odG1sKCcmIzk3MzQgJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9uZXh0U2liJyk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5vbignbW91c2VsZWF2ZScsICcubW92aWVfcmF0aW5nX3N0YXInLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX3ByZXZTaWInKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX25leHRTaWInKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvKiogUmVzZXQgYWxsIHN0YXJzIHRvIG9yaWdpbmFsIHN0YXRlICovXHJcblx0XHRcdFx0aWYgKCAkKHRoaXMpLmhhc0NsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpICkge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzMgJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzM0ICcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCcubW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5odG1sKCcmIzk3MzMgJyk7XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnLm1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5odG1sKCcmIzk3MzQgJyk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdCxcclxuXHRyYXRpbmdfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQvLyAkKCcubW92aWVfcmF0aW5nX3N0YXInKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2NsaWNrJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc2VsID0gJCh0aGlzKS5hdHRyKCdkYXRhLXJhdGluZ3N0YXInKTtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJCh0aGlzKS5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBGaXJlIGNoYW5nZSBldmVudCBvbiBhc3NvY2lhdGVkIGlucHV0ICovXHJcblx0XHRcdCQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS52YWwobW92aWVfcmF0aW5nX3NlbCkuY2hhbmdlKCk7XHJcblxyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdC8qKiBDaGFuZ2UgY29sb3JzIG9uIHJhdGluZyBkaXNwbGF5IHRvIG1pbWljIGlucHV0IGZpZWxkcyAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5hZGRDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5yZW1vdmVDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqIFxyXG5cdFx0XHQgKiBNYWtlIHNlbGN0ZWQgaXRlbSBcclxuXHRcdFx0ICogYW5kIGFsbCBzaWJsaW5nIGl0ZW1zIGJlZm9yZSBpdCBcclxuXHRcdFx0ICogaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKTtcclxuXHRcdFx0JCh0aGlzKS5wcmV2QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cclxuXHRcdFx0LyoqIFxyXG5cdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGFmdGVyIHNlbGVjdGVkIGl0ZW0gaW50byB0aGUgdW5zZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSB1bnNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkKHRoaXMpLm5leHRBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lX2NoZWNrIDogKCkgPT4ge1xyXG5cdFx0Ly8gY2hlY2sgaWYgZmllbGRzIGFzc29jaWF0ZWQgdG8gZ2l2ZW4gc2F2ZSBidXR0b24gaGF2ZSBjaGFuZ2VkXHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jaGVjayA6ICgpID0+IHtcclxuXHRcdGlmICggJCgnLnZhbENoZycpLmxlbmd0aCAhPT0gMCApIHtcclxuXHRcdFx0JCgnLnNhdmUtYWxsJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcblxyXG5cdFx0XHQvKiogSWYgYW4gLm1zZ191bnNhdmVkQ2hncyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRpZiAoICQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3Vuc2F2ZWRDaGdzJykubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ191bnNhdmVkQ2hncyBtc2ctd2FybmluZ1wiPlRoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXMhPC9zbWFsbD4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JCgnLnNhdmUtYWxsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfdW5zYXZlZENoZ3MnKS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLnNhdmVfaXRlbScpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHQkKHRoaXMpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9ICQodGhpcykuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9vbmUobW92aWVfcmVjaWQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jbGljayA6ICgpID0+IHtcclxuXHRcdCQoJy5zYXZlLWFsbCcpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9pdGVtIDogKG1vdmllX3JlY2lkLCBpc05ldykgPT4ge1xyXG5cdFx0dmFyIHJlcV9vYmogPSB7XHJcblx0XHRcdCdJRCc6IG1vdmllX3JlY2lkXHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciByZXFfb2JqX2ZsZHMgPSB7fTtcclxuXHRcdHZhciBjaGdkRmxkc0FyciA9ICQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLnZhbENoZycpO1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIEZvciBlYWNoIGNoYW5nZWQgZmllbGQsIFxyXG5cdFx0ICogZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgdGhhdCBoYXMgdGhlIGFzc29jaWF0ZWQgZmllbGQgbmFtZSBpbiB0aGUgZGF0YSBzdG9yZVxyXG5cdFx0ICogYWxvbmcgd2l0aCB0aGUgZmllbGQgdmFsdWUgXHJcblx0XHQgKiB0byBidWlsZCBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIFxyXG5cdFx0ICogdG8gc2VuZCBpbiBlYWNoIHJlcXVlc3RcclxuXHRcdCAqL1xyXG5cclxuXHRcdCQuZWFjaChjaGdkRmxkc0FyciwgZnVuY3Rpb24gKGlkeF9mbGQsIGl0bV9mbGQpIHtcclxuXHRcdFx0dmFyIGZsZE5hbWUgPSAkKGl0bV9mbGQpLmF0dHIoJ2RhdGEtZmxkbmFtZScpO1xyXG5cdFx0XHR2YXIgZmxkVmFsID0gJChpdG1fZmxkKS52YWwoKTtcclxuXHJcblx0XHRcdGlmICggZmxkTmFtZSA9PT0gJ1llYXInIHwgZmxkTmFtZSA9PT0gJ0xlbmd0aCcgfCBmbGROYW1lID09PSAnUmF0aW5nJyApIHtcclxuXHRcdFx0XHRmbGRWYWwgPSBOdW1iZXIoZmxkVmFsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVxX29ial9mbGRzW2ZsZE5hbWVdID0gZmxkVmFsO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIG1vdmllX2FjdGl2ZSA9ICQoJyNtb3ZpZV9hY3RpdmVfJyArIG1vdmllX3JlY2lkKS5pcygnOmNoZWNrZWQnKTtcclxuXHJcblx0XHRyZXFfb2JqX2ZsZHNbJ0FjdGl2ZSddID0gbW92aWVfYWN0aXZlO1xyXG5cclxuXHRcdHJlcV9vYmouZmllbGRzID0gcmVxX29ial9mbGRzO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKHJlcV9vYmopO1xyXG5cclxuXHRcdHZhciByZXFfc3RyID0gSlNPTi5zdHJpbmdpZnkocmVxX29iaik7XHJcblxyXG5cdFx0dmFyIHNhdmVJdGVtUHJvbSA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiAocHJvbVN1Y2Nlc3MsIHByb21FcnJvcikge1xyXG5cdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9jcmVhdGVfbW92aWUnLFxyXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRcdGRhdGE6IHJlcV9zdHIsXHJcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCwgdGV4dFN0YXR1cywganFYaHIpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3N1Y2Nlc3MgZXZlbnQnKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZF9uZXcgPSByZXNwLmlkO1xyXG5cclxuXHRcdFx0XHRcdFx0LyoqIFJlcGxhY2Ugb2NjdXJlbmNlcyBvZiBtaWxsaXNlY29uZCBzdGFtcCBJRCB3aXRoIG5ld2x5LWNyZWF0ZWQgcmV0dXJuZWQgSUQgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5hdHRyKCdpZCcsICdtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5hdHRyKCdkYXRhLXJlY2lkJywgJ21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvKiogXHJcblx0XHRcdFx0XHRcdCAqIE5lZWQgc29sdXRpb24gZm9yIGZpbmRpbmcgYWxsIG9jY3VyZW5jZXMgb2YgdGVtcG9yYXJ5IElEIHdpdGggbmV3IG9uZSBcclxuXHRcdFx0XHRcdFx0ICogUG9zc2libGUgc29sdXRpb24gaXMgdG8gZWxpbWluYXRlIGFsbCB0aGUgcGxhY2VzIHdoZXJlIHRoYXQgdW5pcXVlIElEIGlzIHVzZWRcclxuXHRcdFx0XHRcdFx0ICogaS5lLiwganVzdCByZWx5IG9uIHBhcmVudCBlbGVtZW50IGF0dHJpYnV0ZXNcclxuXHRcdFx0XHRcdFx0ICovXHJcblxyXG5cdFx0XHRcdFx0XHQvKiogUmVzZXQgZmllbGRzIHRvIHVuY2hhbmdlZCBzdHlsZXMgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkX25ldykucmVtb3ZlQ2xhc3MoJ2lzLW5ldycpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWRfbmV3KS5maW5kKCcudmFsQ2hnLCAudmFsQ2hnLWNvbG9yc09ubHknKS5yZW1vdmVDbGFzcygndmFsQ2hnIHZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZF9uZXcpLmZpbmQoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5yZW1vdmVDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0cHJvbVN1Y2Nlc3MocmVzcCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR2YXIgZXJyX2Rpc3A7XHJcblx0XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfaXMgPSBqcVhIUi5yZXNwb25zZUpTT05bJ2Vycm9yJ107XHJcblx0XHRcdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcclxuXHRcclxuXHRcdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHByb21FcnJvcigpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRhbGVydCgnRXJyb3I6XFxuJyArIGVycl9kaXNwKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjb21wbGV0ZSBldmVudCcpO1xyXG5cdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQuYWpheCh7XHJcblx0XHRcdFx0XHR1cmw6ICcvLm5ldGxpZnkvZnVuY3Rpb25zL2F0X3VwZGF0ZV9tb3ZpZScsXHJcblx0XHRcdFx0XHR0eXBlOiAnUEFUQ0gnLFxyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRcdGRhdGE6IHJlcV9zdHIsXHJcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCwgdGV4dFN0YXR1cywganFYaHIpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3N1Y2Nlc3MgZXZlbnQnKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGUgKi9cclxuXHRcdFx0XHRcdFx0JCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcudmFsQ2hnLCAudmFsQ2hnLWNvbG9yc09ubHknKS5yZW1vdmVDbGFzcygndmFsQ2hnIHZhbENoZy1jb2xvcnNPbmx5Jyk7XHJcblx0XHJcblx0XHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRwcm9tU3VjY2VzcygpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvciBldmVudCcpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2pxWEhSOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coanFYSFIpO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dmFyIGVycl9kaXNwO1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XHJcblx0XHJcblx0XHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBlcnJfc3RhdHVzQ29kZSArICdcXG4nICsgZXJyX2lzICsgJ1xcbicgKyBlcnJfbXNnO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGVycl9kaXNwID0ganFYSFIucmVzcG9uc2VUZXh0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRwcm9tRXJyb3IoKTtcclxuXHRcclxuXHRcdFx0XHRcdFx0YWxlcnQoJ0Vycm9yOlxcbicgKyBlcnJfZGlzcCk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcclxuXHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHNhdmVJdGVtUHJvbTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lIDogKG1vdmllX3JlY2lkKSA9PiB7XHJcblx0XHR2YXIgc2F2ZUl0ZW0gPSBtb3ZpZV9hZG1pbi5zYXZlX2l0ZW0obW92aWVfcmVjaWQpO1xyXG5cclxuXHRcdHNhdmVJdGVtLnRoZW4oXHJcblx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQvKiogRmxhZyBhbiBlbGVtZW50IHNvIHRoZSBtZXNzYWdlIGNhbiBiZSBwbGFjZWQgY29udGV4dHVhbGx5ICovXHJcblx0XHRcdFx0Ly9cclxuXHJcblx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9vbmVfc3VjY2VzcycpO1xyXG5cdFx0XHR9LCBcclxuXHRcdFx0ZnVuY3Rpb24gKGVyck9iaikge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfc2F2ZVN0YXR1cycpLnJlbW92ZSgpO1xyXG5cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ19zYXZpbmdBbGxDaGdzIG1zZy1pbmZvXCI+U2F2aW5nIGFsbCBjaGFuZ2VzLi4uPC9zbWFsbD4nKTtcclxuXHJcblx0XHQvKiogR2F0aGVyIGNoYW5nZXMgYW5kIHNlbmQgUEFUQ0ggcmVxdWVzdCB0byBBUEkgcGVyIG1vdmllICovXHJcblxyXG5cdFx0LyoqIFxyXG5cdFx0ICogQ2hhbmdlcyBuZWVkIHRvIGJlIGdyb3VwZWQgcGVyIHJlY29yZCAoaS5lLiwgbW92aWUpXHJcblx0XHQgKiBcclxuXHRcdCAqIFByZXR0eSBzdXJlIHRoZSBiZXN0IG9wdGlvbiBpcyB0byBcclxuXHRcdCAqIGZsYWcgYSBwYXJlbnQgZWxlbWVudCAoZS5nLiwgXCIubW92aWVfbGlzdGluZ1wiKSBvbiBjaGFuZ2VzLFxyXG5cdFx0ICogdXNpbmcgdGhhdCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgXHJcblx0XHQgKiB0byB0cmF2ZXJzZSBkb3duIGNoaWxkcmVuXHJcblx0XHQgKiBhbmQgY29sbGVjdCBjaGFuZ2VzLlxyXG5cdFx0ICpcclxuXHRcdCAqIElmIGFsbCBjaGFuZ2VzIGZvciBhIGdpdmVuIHJlY29yZCBhcmUgYmFja2VkIG91dFxyXG5cdFx0ICogY2xlYXIgZmxhZyBvbiBwYXJlbnQgZWxlbWVudFxyXG5cdFx0ICovXHJcblxyXG5cdFx0dmFyIGNoZ2RNb3ZpZXNBcnIgPSAkKCcubW92aWVfbGlzdGluZ1tkYXRhLWhhc2NoZ3M9XCJ0cnVlXCJdJyk7XHJcblxyXG5cdFx0JC5lYWNoKGNoZ2RNb3ZpZXNBcnIsIGZ1bmN0aW9uIChpZHgsIGl0bSkge1xyXG5cdFx0XHR2YXIgaXNOZXcgPSBmYWxzZTtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJChpdG0pLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICggJChpdG0pLmhhc0NsYXNzKCdpcy1uZXcnKSApIHtcclxuXHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzYXZlSXRlbSA9IG1vdmllX2FkbWluLnNhdmVfaXRlbShtb3ZpZV9yZWNpZCwgaXNOZXcpO1xyXG5cclxuXHRcdFx0c2F2ZUl0ZW0udGhlbihcclxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAoaWR4KzEgPT09IGNoZ2RNb3ZpZXNBcnIubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdG1vdmllX2FkbWluLnN0YXR1c19tc2coJ3NhdmVfYWxsX3N1Y2Nlc3MnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCBcclxuXHRcdFx0XHRmdW5jdGlvbiAoZXJyT2JqKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVyck9iaik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzdGF0dXNfbXNnIDogKHN0YXR1c19tc2cpID0+IHtcclxuXHRcdHN3aXRjaCAoc3RhdHVzX21zZykge1xyXG5cdFx0XHRjYXNlICdzYXZlX29uZV9zdWNjZXNzJzpcclxuXHRcdFx0XHQvLyBcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3NhdmVfb25lX2Vycm9yJzpcclxuXHRcdFx0XHQvLyBcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3NhdmVfYWxsX3N1Y2Nlc3MnOlxyXG5cdFx0XHRcdC8qKiBSZW1vdmUgYW55IG1lc3NhZ2VzIGFib3V0IHNhdmUgc3RhdHVzICovXHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfc2F2ZVN0YXR1cycpLnJlbW92ZSgpO1xyXG5cclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c21hbGwgY2xhc3M9XCJtc2dfc2F2ZVN0YXR1cyBtc2dfY2hnc1NhdmVkIG1zZy1zdWNjZXNzXCI+QWxsIGNoYW5nZXMgc2F2ZWQuPC9zbWFsbD4nKTtcclxuXHJcblx0XHRcdFx0LyoqIEFmdGVyIHNwZWNpZmljZWQgZGVsYXksIGZhZGUgdGhlIG1lc3NhZ2UsIHRoZW4gcmVtb3ZlIGZyb20gRE9NICovXHJcblx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX2NoZ3NTYXZlZCcpLmZhZGVPdXQoJ3Nsb3cnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSwgMjAwMCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdzYXZlX2FsbF9lcnJvcic6XHJcblx0XHRcdFx0Ly8gXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxufSkuaW5pdCgpO1xyXG4iXX0=
