var e="object"==typeof e?e:{};(e={init:function(){$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(a,s,t){a.length>0&&$.each(a,function(s,t){var i=t.id,l=t.fields,n=l.Title,o=l.Year,r=l.Length,_=l.Rating,v=l.Format,c=(l.Art,"");c+='<div class="movie_rating_stars">';for(var m=1,g=0;g<_;g++)c+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+m+'">&#9733 </span>',m++;var d,h,u,f=5-_;for(g=0;g<f;g++)c+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+m+'">&#9734  </span>',m++;switch(c+="</div>",v){case"DVD":d="selected";break;case"Streaming":h="selected";break;case"VHS":u="selected"}var p='<div class="movie_listing form-group" data-recid="'+i+'"data-haschgs="false"id="movie_listing_'+i+'"><div class="movie_title"><label for="movie_title_'+i+'">Title <small class="text-muted">(50 characters or less)</small></label><input id="movie_title_'+i+'" value="'+n+'" data-fldname="Title" data-ogval="'+n+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year"><label for="movie_year_'+i+'">Year <small class="text-muted">(from 1800 to 2100)</small></label><input id="movie_year_'+i+'" value="'+o+'" data-fldname="Year" data-ogval="'+o+'" class="form-control" type="number" min="1800" max="2100"></div><div class="movie_length"><label for="movie_length_'+i+'">Length <small class="text-muted">(in minutes)</small></label><input id="movie_length_'+i+'" value="'+r+'" data-fldname="Length" data-ogval="'+r+'" class="form-control" type="number" min="0" max="500"></div><div class="movie_rating"><label for="movie_rating_'+i+'">Rating</label>'+c+'<input id="movie_rating_'+i+'" value="'+_+'" data-fldname="Rating" data-ogval="'+_+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format"><label for="movie_format_'+i+'">Format</label><select id="movie_format_'+i+'" class="custom-select" data-fldname="Format" data-ogval="'+v+'"><option value="DVD"'+d+'>DVD</option><option value="Streaming"'+h+'>Streaming</option><option value="VHS"'+u+">VHS</option></select></div></div></div>";$("#movie_admin_list").append(p),s+1===a.length&&e.ready()})}).fail(function(e,a,s){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(s);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:function(){$("#movie_list_status").alert("close"),$(".save_all").show(),e.track_changes_field(),e.rating_hover(),e.rating_click(),e.save_all_click()},track_changes_field:function(){$("#movie_admin_list").on("input change","input",function(a){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(a){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))})},track_changes_listing:function(a){a.closest(".movie_listing").find("input, select").hasClass("valChg")?a.closest(".movie_listing").attr("data-haschgs",!0):a.closest(".movie_listing").attr("data-haschgs",!1),e.save_all_check()},rating_hover:function(){$(".movie_rating_star").hover(function(){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")},function(){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:function(){$(".movie_rating_star").click(function(e){var a=$(this).attr("data-ratingstar"),s=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+s).val(a).change(),$("#movie_rating_"+s).attr("data-ogval")!==$("#movie_rating_"+s).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:function(){},save_all_check:function(){0!==$(".valChg").length?($(".save_all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save_all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:function(){$(".save_item").click(function(a){$(this).prop("disabled",!0);var s=$(this).attr("data-recid");e.save_one(s)})},save_all_click:function(){$(".save_all").click(function(a){$(".save_all").prop("disabled",!0),e.save_all()})},save_item:function(e){var a={ID:e},s={},t=$("#movie_listing_"+e).find(".valChg");$.each(t,function(e,a){var t=$(a).attr("data-fldname"),i=$(a).val();"Year"===t|"Length"===t|"Rating"===t&&(i=Number(i)),s[t]=i}),a.fields=s;var i=JSON.stringify(a);return new Promise(function(a,s){$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:i,success:function(s,t,i){console.log("success event"),$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),a()},error:function(e,a,t){var i;if(console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON){i=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else i=e.responseText;s(),alert("Error:\n"+i)},complete:function(){console.log("complete event")}})})},save_one:function(a){e.save_item(a).then(()=>{e.status_msg("save_one_success")},e=>{console.error(e)})},save_all:function(){$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var a=$('.movie_listing[data-haschgs="true"]');$.each(a,function(s,t){var i=$(t).attr("data-recid");e.save_item(i).then(()=>{s+1===a.length&&e.status_msg("save_all_success")},e=>{console.error(e)})})},status_msg:function(e){switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(e){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllX2FkbWluLmpzIl0sIm5hbWVzIjpbIm1vdmllX2FkbWluIiwiaW5pdCIsIiQiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJkb25lIiwicmVzcCIsInRleHRTdGF0dXMiLCJqcVhIUiIsImxlbmd0aCIsImVhY2giLCJpZHgiLCJpdG0iLCJtb3ZpZV9yZWNpZCIsImlkIiwibW92aWVfb2JqIiwiZmllbGRzIiwibW92aWVfdGl0bGUiLCJUaXRsZSIsIm1vdmllX3llYXIiLCJZZWFyIiwibW92aWVfbGVuZ3RoIiwiTGVuZ3RoIiwibW92aWVfcmF0aW5nIiwiUmF0aW5nIiwibW92aWVfZm9ybWF0IiwiRm9ybWF0IiwibW92aWVfcmF0aW5nX3N0YXJzIiwiQXJ0IiwicmF0aW5nc3RhciIsImkiLCJEVkRzZWwiLCJTVFJzZWwiLCJWSFNzZWwiLCJtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QiLCJtb3ZpZV9saXN0aW5nIiwiYXBwZW5kIiwicmVhZHkiLCJmYWlsIiwiZXJyb3JUaHJvd24iLCJhbGVydCIsImNvbnNvbGUiLCJsb2ciLCJwcmVwZW5kIiwic2hvdyIsInRyYWNrX2NoYW5nZXNfZmllbGQiLCJyYXRpbmdfaG92ZXIiLCJyYXRpbmdfY2xpY2siLCJzYXZlX2FsbF9jbGljayIsIm9uIiwiZSIsInRoaXMiLCJhdHRyIiwidmFsIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJyZW1vdmUiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImNsb3Nlc3QiLCJmaW5kIiwiaGFzQ2xhc3MiLCJzYXZlX2FsbF9jaGVjayIsImhvdmVyIiwiaHRtbCIsInByZXZBbGwiLCJzaWJsaW5ncyIsImNsaWNrIiwibW92aWVfcmF0aW5nX3NlbCIsImNoYW5nZSIsInNhdmVfb25lX2NoZWNrIiwicHJvcCIsInNhdmVfb25lX2NsaWNrIiwic2F2ZV9vbmUiLCJzYXZlX2FsbCIsInNhdmVfaXRlbSIsInJlcV9vYmoiLCJJRCIsInJlcV9vYmpfZmxkcyIsImNoZ2RGbGRzQXJyIiwiaWR4X2ZsZCIsIml0bV9mbGQiLCJmbGROYW1lIiwiZmxkVmFsIiwiTnVtYmVyIiwicmVxX3N0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJQcm9taXNlIiwicHJvbVN1Y2Nlc3MiLCJwcm9tRXJyb3IiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJkYXRhIiwic3VjY2VzcyIsImpxWGhyIiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsInJlc3BvbnNlVGV4dCIsImNvbXBsZXRlIiwidGhlbiIsInN0YXR1c19tc2ciLCJlcnJPYmoiLCJjaGdkTW92aWVzQXJyIiwid2luZG93Iiwic2V0VGltZW91dCIsImZhZGVPdXQiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLEVBQXlDLGlCQUFsQixFQUErQkEsRUFBYyxJQUN2RUEsRUFBYyxDQUNkQyxLQUFPLFdBQ05DLEVBQUVDLEtBQUssQ0FDTkMsSUFBSyw2Q0FDTEMsU0FBVSxTQUNSQyxLQUFNLFNBQVdDLEVBQU1DLEVBQVlDLEdBS2pDRixFQUFLRyxPQUFTLEdBQ2pCUixFQUFFUyxLQUFLSixFQUFNLFNBQVNLLEVBQUtDLEdBQzFCLElBQUlDLEVBQWNELEVBQUlFLEdBVWxCQyxFQUFjSCxFQUFJSSxPQUNsQkMsRUFBZUYsRUFBVUcsTUFDekJDLEVBQWVKLEVBQVVLLEtBQ3pCQyxFQUFnQk4sRUFBVU8sT0FDMUJDLEVBQWdCUixFQUFVUyxPQUMxQkMsRUFBZ0JWLEVBQVVXLE9BUzFCQyxHQVJjWixFQUFVYSxJQVFILElBQ3hCRCxHQUFzQixtQ0FJdkIsSUFGQSxJQUFJRSxFQUFhLEVBRVJDLEVBQUksRUFBR0EsRUFBSVAsRUFBY08sSUFDakNILEdBQXNCLCtFQUFpRkUsRUFBYSxtQkFFcEhBLElBR0QsSUFVSUUsRUFBUUMsRUFBUUMsRUFUaEJDLEVBRDRCLEVBQytCWCxFQUUvRCxJQUFLTyxFQUFJLEVBQUdBLEVBQUlJLEVBQWdDSixJQUMvQ0gsR0FBc0IsaUZBQW1GRSxFQUFhLG9CQUV0SEEsSUFLRCxP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N0IsU0FBVyxXQUNWMUUsRUFBRSxrREFBa0R3RCxTQUVwRHhELEVBQUUsa0NBQWtDMEMsUUFBUSwwRkFpQjVDLElBQUk4RCxFQUFnQnhHLEVBQUUsdUNBRXRCQSxFQUFFUyxLQUFLK0YsRUFBZSxTQUFVOUYsRUFBS0MsR0FDcEMsSUFBSUMsRUFBY1osRUFBRVcsR0FBS3dDLEtBQUssY0FFZnJELEVBQVk2RSxVQUFVL0QsR0FFNUJ5RixLQUNSLEtBQ0szRixFQUFJLElBQU04RixFQUFjaEcsUUFDM0JWLEVBQVl3RyxXQUFXLHFCQUd4QkMsSUFDQS9ELFFBQVF3RCxNQUFNTyxRQU1sQkQsV0FBYSxTQUFVQSxHQUN0QixPQUFRQSxHQUNQLElBQUssbUJBR0wsSUFBSyxpQkFFTCxNQUNBLElBQUssbUJBRUp0RyxFQUFFLGtEQUFrRHdELFNBRXBEeEQsRUFBRSxrQ0FBa0MwQyxRQUFRLHNGQUc1QytELE9BQU9DLFdBQVksV0FDbEIxRyxFQUFFLGlEQUFpRDJHLFFBQVEsT0FBUSxTQUFVMUQsR0FDNUVqRCxFQUFFa0QsTUFBTU0sWUFFUCxTQU9KekQiLCJmaWxlIjoibW92aWVfYWRtaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIG1vdmllLWFkbWluLmpzICovXHJcbnZhciBtb3ZpZV9hZG1pbiA9ICggdHlwZW9mIChtb3ZpZV9hZG1pbikgPT09ICdvYmplY3QnICkgPyBtb3ZpZV9hZG1pbiA6IHt9O1xyXG4obW92aWVfYWRtaW4gPSB7XHJcblx0aW5pdCA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfZ2V0X21vdmllP3JlY2lkPWFsbCcsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uICggcmVzcCwgdGV4dFN0YXR1cywganFYSFIgKSB7XHJcblxyXG5cdFx0XHQvKmNvbnNvbGUubG9nKCdyZXNwOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVzcCk7Ki9cclxuXHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblxyXG5cdFx0XHRcdFx0LyoqXHJcblx0XHRcdFx0XHQgKiBTdGFyIEFTQ0lJIGNvZGVzXHJcblx0XHRcdFx0XHQgKiAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cdFx0XHRcdFx0ICogU29saWQgc3RhcjogJiM5NzMzO1xyXG5cdFx0XHRcdFx0ICogT3V0bGluZSBzdGFyOiAmIzk3MzQ7XHJcblx0XHRcdFx0XHQgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSAnJztcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXJzXCI+JztcclxuXHRcdFx0XHRcdC8qKiBTZXQgdGhlIGxvd2VzdCB2YWx1ZSAqL1xyXG5cdFx0XHRcdFx0dmFyIHJhdGluZ3N0YXIgPSAxO1xyXG5cdFx0XHRcdFx0LyoqIEFkZCBhIHNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIHRoZSBzZWxlY3RlZCByYXRpbmcgdmFsdWUgaXMgcmVhY2hlZCAqL1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZpZV9yYXRpbmc7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxzcGFuIGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXIgbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzMgPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRyYXRpbmdzdGFyKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvKiogU3VidHJhY3QgdGhlIHNlbGVjdGVkIHJhdGluZyBmcm9tIHRoZSBoaWdoZXN0IHBvc3NpYmxlIHRvIGdldCBhbiB1bnNlbGVjdGVkL2ZpbGxlciBjb3VudCAqL1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QgPSA1O1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCA9IG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QtbW92aWVfcmF0aW5nO1xyXG5cdFx0XHRcdFx0LyoqIEFkZCBhbiB1bnNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIGZpbGxlciBjb3VudCBpcyByZWFjaGVkICovXHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0OyBpKyspIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzQgIDwvc3Bhbj4nO1xyXG5cclxuXHRcdFx0XHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8L2Rpdj4nO1xyXG5cclxuXHRcdFx0XHRcdHZhciBEVkRzZWwsIFNUUnNlbCwgVkhTc2VsO1xyXG5cdFx0XHRcdFx0c3dpdGNoIChtb3ZpZV9mb3JtYXQpIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnRFZEJzpcclxuXHRcdFx0XHRcdFx0XHREVkRzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnU3RyZWFtaW5nJzpcclxuXHRcdFx0XHRcdFx0XHRTVFJzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnVkhTJzpcclxuXHRcdFx0XHRcdFx0XHRWSFNzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2xpc3RpbmcgPSAnPGRpdiBjbGFzcz1cIm1vdmllX2xpc3RpbmcgZm9ybS1ncm91cFwiICcgK1xyXG5cdFx0XHRcdFx0XHRcdCdkYXRhLXJlY2lkPVwiJyArIG1vdmllX3JlY2lkICsnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnZGF0YS1oYXNjaGdzPVwiZmFsc2VcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCdpZD1cIm1vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj5UaXRsZSA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfdGl0bGVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfdGl0bGUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJUaXRsZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV90aXRsZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIG1pbmxlbmd0aD1cIjFcIiBtYXhsZW5ndGg9XCI1MFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbHNcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfeWVhclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3llYXJfJyArIG1vdmllX3JlY2lkICsgJ1wiPlllYXIgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfeWVhciArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiWWVhclwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxODAwXCIgbWF4PVwiMjEwMFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9sZW5ndGhcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiPkxlbmd0aCA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD48L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9sZW5ndGggKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZ1wiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfcmF0aW5nICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW4+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCI+Rm9ybWF0PC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9mb3JtYXQgKyAnXCInICsnPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vICc8b3B0aW9uIHNlbGVjdGVkPk9wZW4gdGhpcyBzZWxlY3QgbWVudTwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiRFZEXCInICsgRFZEc2VsICsgJz5EVkQ8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiJyArIFNUUnNlbCArICc+U3RyZWFtaW5nPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJWSFNcIicgKyBWSFNzZWwgKyAnPlZIUzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9zZWxlY3Q+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHQnPC9kaXY+J1xyXG5cdFx0XHRcdFx0O1xyXG5cclxuXHRcdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykuYXBwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gcmVzcC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4ucmVhZHkoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSkuZmFpbCggZnVuY3Rpb24gKCBqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKSB7XHJcblx0XHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1cycpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cclxuXHRcdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGlkPVwibW92aWVfbGlzdF9zdGF0dXNcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmcgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+JyArXHJcblx0XHRcdFx0XHQnPHNwYW4gaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c19tc2dcIj5UaGVyZSB3YXMgYSBwcm9ibGVtIGxvYWRpbmcgdGhlIG1vdmllcy48L2JyPlRyeSByZWZyZXNoaW5nIHRoZSBwYWdlIGFuZCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cywgcGxlYXNlIGNvbnRhY3QgdXMuPC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHRcclxuXHRcdFx0JCgnI21vdmllX2FkbWluJykucHJlcGVuZChlcnJNc2cpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRyZWFkeSA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1cycpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdCQoJy5zYXZlX2FsbCcpLnNob3coKTtcclxuXHRcdFxyXG5cdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19maWVsZCgpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2hvdmVyKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5yYXRpbmdfY2xpY2soKTtcclxuXHRcdC8vIG1vdmllX2FkbWluLnNhdmVfb25lX2NsaWNrKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jbGljaygpO1xyXG5cclxuXHRcdC8qdmFyIHRlbXBTYXZlV2FybmluZyA9ICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj4nICtcclxuICBcdFx0XHRcdCc8c3Ryb25nPkhFQURTIFVQITwvc3Ryb25nPiBPbmx5IHRoZSBmaXJzdCBtb3ZpZSB0aXRsZSB3aWxsIHNhdmUgYXQgdGhlIG1vbWVudC4uLicgK1xyXG5cdFx0XHQnPC9kaXY+JztcclxuXHJcblx0XHQvLyAkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zJykuaG92ZXIoIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9ucycpLmFwcGVuZCh0ZW1wU2F2ZVdhcm5pbmcpO1xyXG5cdFx0Ly8gfSwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vICQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnMgLmFsZXJ0JykuYWxlcnQoJ2Nsb3NlJyk7XHJcblx0XHQvLyB9KTsqL1xyXG5cdH1cclxuXHQsXHJcblx0dHJhY2tfY2hhbmdlc19maWVsZCA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRcdFx0LyoqIElmIGEgLnZhbENoZ01zZyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRcdC8qaWYgKCAkKHRoaXMpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmFmdGVyKCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkIHZhbENoZ01zZ1wiPlVuc2F2ZWQgY2hhbmdlPC9zbWFsbD4nKTtcclxuXHRcdFx0XHR9Ki9cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignY2hhbmdlJywgJ3NlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRcdFx0LyoqIElmIGEgLnZhbENoZ01zZyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRcdC8qaWYgKCAkKHRoaXMpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmFmdGVyKCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkIHZhbENoZ01zZ1wiPlVuc2F2ZWQgY2hhbmdlPC9zbWFsbD4nKTtcclxuXHRcdFx0XHR9Ki9cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2xpc3RpbmcgOiBmdW5jdGlvbiAoanFPYmopIHtcclxuXHRcdHZhciBoYXNDaGdzID0ganFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5maW5kKCdpbnB1dCwgc2VsZWN0JykuaGFzQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdGlmIChoYXNDaGdzKSB7XHJcblx0XHRcdGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1oYXNjaGdzJywgdHJ1ZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmF0dHIoJ2RhdGEtaGFzY2hncycsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jaGVjaygpO1xyXG5cdH1cclxuXHQsXHJcblx0cmF0aW5nX2hvdmVyIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0JCgnLm1vdmllX3JhdGluZ19zdGFyJykuaG92ZXIoXHJcblx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQvKiogTWFrZSBob3ZlcmVkIGl0ZW0gaW50byBzZWxlY3RlZCBzdGF0ZSAqL1xyXG5cdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzMzICcpO1xyXG5cclxuXHRcdFx0XHQvKiogXHJcblx0XHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBiZWZvcmUgaG92ZXJlZCBpdGVtIGludG8gdGhlIHNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmh0bWwoJyYjOTczMyAnKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX3ByZXZTaWInKTtcclxuXHJcblx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgaG92ZXJlZCBpdGVtIGludG8gdGhlIHVuc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSB1bnNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0JCh0aGlzKS5uZXh0QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5odG1sKCcmIzk3MzQgJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9uZXh0U2liJyk7XHJcblx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9wcmV2U2liJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9uZXh0U2liJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0LyoqIFJlc2V0IGFsbCBzdGFycyB0byBvcmlnaW5hbCBzdGF0ZSAqL1xyXG5cdFx0XHRcdGlmICggJCh0aGlzKS5oYXNDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKSApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzMzICcpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczNCAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnLm1vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykuaHRtbCgnJiM5NzMzICcpO1xyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoJy5tb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJykuaHRtbCgnJiM5NzM0ICcpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHQsXHJcblx0cmF0aW5nX2NsaWNrIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0JCgnLm1vdmllX3JhdGluZ19zdGFyJykuY2xpY2soIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc2VsID0gJCh0aGlzKS5hdHRyKCdkYXRhLXJhdGluZ3N0YXInKTtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJCh0aGlzKS5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qKiBGaXJlIGNoYW5nZSBldmVudCBvbiBhc3NvY2lhdGVkIGlucHV0ICovXHJcblx0XHRcdCQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS52YWwobW92aWVfcmF0aW5nX3NlbCkuY2hhbmdlKCk7XHJcblxyXG5cdFx0XHR2YXIgb2dWYWwgPSAkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdC8qKiBDaGFuZ2UgY29sb3JzIG9uIHJhdGluZyBkaXNwbGF5IHRvIG1pbWljIGlucHV0IGZpZWxkcyAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5hZGRDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5yZW1vdmVDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqIFxyXG5cdFx0XHQgKiBNYWtlIHNlbGN0ZWQgaXRlbSBcclxuXHRcdFx0ICogYW5kIGFsbCBzaWJsaW5nIGl0ZW1zIGJlZm9yZSBpdCBcclxuXHRcdFx0ICogaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKTtcclxuXHRcdFx0JCh0aGlzKS5wcmV2QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cclxuXHRcdFx0LyoqIFxyXG5cdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGFmdGVyIHNlbGVjdGVkIGl0ZW0gaW50byB0aGUgdW5zZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSB1bnNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkKHRoaXMpLm5leHRBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lX2NoZWNrIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gY2hlY2sgaWYgZmllbGRzIGFzc29jaWF0ZWQgdG8gZ2l2ZW4gc2F2ZSBidXR0b24gaGF2ZSBjaGFuZ2VkXHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jaGVjayA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICggJCgnLnZhbENoZycpLmxlbmd0aCAhPT0gMCApIHtcclxuXHRcdFx0JCgnLnNhdmVfYWxsJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcblxyXG5cdFx0XHQvKiogSWYgYW4gLm1zZ191bnNhdmVkQ2hncyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRpZiAoICQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3Vuc2F2ZWRDaGdzJykubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ191bnNhdmVkQ2hncyBtc2ctd2FybmluZ1wiPlRoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXMhPC9zbWFsbD4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JCgnLnNhdmVfYWxsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfdW5zYXZlZENoZ3MnKS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lX2NsaWNrIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0JCgnLnNhdmVfaXRlbScpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHQkKHRoaXMpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9ICQodGhpcykuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9vbmUobW92aWVfcmVjaWQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jbGljayA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJy5zYXZlX2FsbCcpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHQkKCcuc2F2ZV9hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9pdGVtIDogZnVuY3Rpb24gKG1vdmllX3JlY2lkKSB7XHJcblx0XHR2YXIgcmVxX29iaiA9IHtcclxuXHRcdFx0J0lEJzogbW92aWVfcmVjaWRcclxuXHRcdH07XHJcblx0XHR2YXIgcmVxX29ial9mbGRzID0ge307XHJcblx0XHR2YXIgY2hnZEZsZHNBcnIgPSAkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQpLmZpbmQoJy52YWxDaGcnKTtcclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBGb3IgZWFjaCBjaGFuZ2VkIGZpZWxkLCBcclxuXHRcdCAqIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlIHRoYXQgaGFzIHRoZSBhc3NvY2lhdGVkIGZpZWxkIG5hbWUgaW4gdGhlIGRhdGEgc3RvcmVcclxuXHRcdCAqIGFsb25nIHdpdGggdGhlIGZpZWxkIHZhbHVlIFxyXG5cdFx0ICogdG8gYnVpbGQgYW4gb2JqZWN0IG9mIGtleS92YWx1ZSBwYWlycyBcclxuXHRcdCAqIHRvIHNlbmQgaW4gZWFjaCByZXF1ZXN0XHJcblx0XHQgKi9cclxuXHJcblx0XHQkLmVhY2goY2hnZEZsZHNBcnIsIGZ1bmN0aW9uIChpZHhfZmxkLCBpdG1fZmxkKSB7XHJcblx0XHRcdHZhciBmbGROYW1lID0gJChpdG1fZmxkKS5hdHRyKCdkYXRhLWZsZG5hbWUnKTtcclxuXHRcdFx0dmFyIGZsZFZhbCA9ICQoaXRtX2ZsZCkudmFsKCk7XHJcblxyXG5cdFx0XHRpZiAoIGZsZE5hbWUgPT09ICdZZWFyJyB8IGZsZE5hbWUgPT09ICdMZW5ndGgnIHwgZmxkTmFtZSA9PT0gJ1JhdGluZycgKSB7XHJcblx0XHRcdFx0ZmxkVmFsID0gTnVtYmVyKGZsZFZhbCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJlcV9vYmpfZmxkc1tmbGROYW1lXSA9IGZsZFZhbDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJlcV9vYmouZmllbGRzID0gcmVxX29ial9mbGRzO1xyXG5cclxuXHRcdHZhciByZXFfc3RyID0gSlNPTi5zdHJpbmdpZnkocmVxX29iaik7XHJcblxyXG5cdFx0dmFyIHNhdmVJdGVtUHJvbSA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiAocHJvbVN1Y2Nlc3MsIHByb21FcnJvcikge1xyXG5cdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfdXBkYXRlX21vdmllJyxcclxuXHRcdFx0XHR0eXBlOiAnUEFUQ0gnLFxyXG5cdFx0XHRcdGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdFx0ZGF0YTogcmVxX3N0cixcclxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCwgdGV4dFN0YXR1cywganFYaHIpIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnc3VjY2VzcyBldmVudCcpO1xyXG5cclxuXHRcdFx0XHRcdC8qKiBSZXNldCBmaWVsZHMgdG8gdW5jaGFuZ2VkIHN0eWxlICovXHJcblx0XHRcdFx0XHQkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQpLmZpbmQoJy52YWxDaGcsIC52YWxDaGctY29sb3JzT25seScpLnJlbW92ZUNsYXNzKCd2YWxDaGcgdmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHJcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9yYXRpbmdfc3RhcnMnKS5yZW1vdmVDbGFzcygndmFsQ2hnLWNvbG9yc09ubHknKTtcclxuXHJcblx0XHRcdFx0XHRwcm9tU3VjY2VzcygpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3IgZXZlbnQnKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2pxWEhSOiAnKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGpxWEhSKTtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIGVycl9kaXNwO1xyXG5cclxuXHRcdFx0XHRcdGlmICh0eXBlb2YganFYSFIucmVzcG9uc2VKU09OICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRsZXQgZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcclxuXHRcdFx0XHRcdFx0bGV0IGVycl9pcyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnZXJyb3InXTtcclxuXHRcdFx0XHRcdFx0bGV0IGVycl9tc2cgPSBqcVhIUi5yZXNwb25zZUpTT05bJ21lc3NhZ2UnXTtcclxuXHJcblx0XHRcdFx0XHRcdGVycl9kaXNwID0gZXJyX3N0YXR1c0NvZGUgKyAnXFxuJyArIGVycl9pcyArICdcXG4nICsgZXJyX21zZztcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGVycl9kaXNwID0ganFYSFIucmVzcG9uc2VUZXh0O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRwcm9tRXJyb3IoKTtcclxuXHJcblx0XHRcdFx0XHRhbGVydCgnRXJyb3I6XFxuJyArIGVycl9kaXNwKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBzYXZlSXRlbVByb207XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX29uZSA6IGZ1bmN0aW9uIChtb3ZpZV9yZWNpZCkge1xyXG5cdFx0dmFyIHNhdmVJdGVtID0gbW92aWVfYWRtaW4uc2F2ZV9pdGVtKG1vdmllX3JlY2lkKTtcclxuXHJcblx0XHRzYXZlSXRlbS50aGVuKFxyXG5cdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0LyoqIEZsYWcgYW4gZWxlbWVudCBzbyB0aGUgbWVzc2FnZSBjYW4gYmUgcGxhY2VkIGNvbnRleHR1YWxseSAqL1xyXG5cdFx0XHRcdC8vXHJcblxyXG5cdFx0XHRcdG1vdmllX2FkbWluLnN0YXR1c19tc2coJ3NhdmVfb25lX3N1Y2Nlc3MnKTtcclxuXHRcdFx0fSwgXHJcblx0XHRcdChlcnJPYmopID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVyck9iaik7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbCA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3NhdmVTdGF0dXMnKS5yZW1vdmUoKTtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c21hbGwgY2xhc3M9XCJtc2dfc2F2ZVN0YXR1cyBtc2dfc2F2aW5nQWxsQ2hncyBtc2ctaW5mb1wiPlNhdmluZyBhbGwgY2hhbmdlcy4uLjwvc21hbGw+Jyk7XHJcblxyXG5cdFx0LyoqIEdhdGhlciBjaGFuZ2VzIGFuZCBzZW5kIFBBVENIIHJlcXVlc3QgdG8gQVBJIHBlciBtb3ZpZSAqL1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIENoYW5nZXMgbmVlZCB0byBiZSBncm91cGVkIHBlciByZWNvcmQgKGkuZS4sIG1vdmllKVxyXG5cdFx0ICogXHJcblx0XHQgKiBQcmV0dHkgc3VyZSB0aGUgYmVzdCBvcHRpb24gaXMgdG8gXHJcblx0XHQgKiBmbGFnIGEgcGFyZW50IGVsZW1lbnQgKGUuZy4sIFwiLm1vdmllX2xpc3RpbmdcIikgb24gY2hhbmdlcyxcclxuXHRcdCAqIHVzaW5nIHRoYXQgYXMgdGhlIHN0YXJ0aW5nIHBvaW50IFxyXG5cdFx0ICogdG8gdHJhdmVyc2UgZG93biBjaGlsZHJlblxyXG5cdFx0ICogYW5kIGNvbGxlY3QgY2hhbmdlcy5cclxuXHRcdCAqXHJcblx0XHQgKiBJZiBhbGwgY2hhbmdlcyBmb3IgYSBnaXZlbiByZWNvcmQgYXJlIGJhY2tlZCBvdXRcclxuXHRcdCAqIGNsZWFyIGZsYWcgb24gcGFyZW50IGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cclxuXHRcdHZhciBjaGdkTW92aWVzQXJyID0gJCgnLm1vdmllX2xpc3RpbmdbZGF0YS1oYXNjaGdzPVwidHJ1ZVwiXScpO1xyXG5cclxuXHRcdCQuZWFjaChjaGdkTW92aWVzQXJyLCBmdW5jdGlvbiAoaWR4LCBpdG0pIHtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJChpdG0pLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHJcblx0XHRcdHZhciBzYXZlSXRlbSA9IG1vdmllX2FkbWluLnNhdmVfaXRlbShtb3ZpZV9yZWNpZCk7XHJcblxyXG5cdFx0XHRzYXZlSXRlbS50aGVuKFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gY2hnZE1vdmllc0Fyci5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9hbGxfc3VjY2VzcycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIFxyXG5cdFx0XHRcdChlcnJPYmopID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHN0YXR1c19tc2cgOiBmdW5jdGlvbiAoc3RhdHVzX21zZykge1xyXG5cdFx0c3dpdGNoIChzdGF0dXNfbXNnKSB7XHJcblx0XHRcdGNhc2UgJ3NhdmVfb25lX3N1Y2Nlc3MnOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9vbmVfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfc3VjY2Vzcyc6XHJcblx0XHRcdFx0LyoqIFJlbW92ZSBhbnkgbWVzc2FnZXMgYWJvdXQgc2F2ZSBzdGF0dXMgKi9cclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ19jaGdzU2F2ZWQgbXNnLXN1Y2Nlc3NcIj5BbGwgY2hhbmdlcyBzYXZlZC48L3NtYWxsPicpO1xyXG5cclxuXHRcdFx0XHQvKiogQWZ0ZXIgc3BlY2lmaWNlZCBkZWxheSwgZmFkZSB0aGUgbWVzc2FnZSwgdGhlbiByZW1vdmUgZnJvbSBET00gKi9cclxuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfY2hnc1NhdmVkJykuZmFkZU91dCgnc2xvdycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9LCAyMDAwKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3NhdmVfYWxsX2Vycm9yJzpcclxuXHRcdFx0XHQvLyBcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG59KS5pbml0KCk7XHJcbiJdfQ==
