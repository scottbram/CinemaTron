var e="object"==typeof e?e:{};(e={init:function(){$.ajax({url:"/.netlify/functions/at_api",dataType:"json"}).done(function(a,t,s){a.length>0&&$.each(a,function(t,s){var l=s.id,o=s.fields,i=o.Title,n=o.Year,r=o.Length,c=o.Rating,v=o.Format,_=(o.Art,"");_+='<div class="movie_rating_stars">';for(var g=1,m=0;m<c;m++)_+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+g+'">&#9733 </span>',g++;var d,h,u,f=5-c;for(m=0;m<f;m++)_+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+g+'">&#9734  </span>',g++;switch(_+="</div>",v){case"DVD":d="selected";break;case"Streaming":h="selected";break;case"VHS":u="selected"}var p='<div class="movie_listing form-group" data-recid="'+l+'"data-haschgs="false"id="movie_listing_'+l+'"><div class="movie_title"><label for="movie_title_'+l+'">Title <small class="text-muted">(50 characters or less)</small></label><input id="movie_title_'+l+'" value="'+i+'" data-fldname="Title" data-ogval="'+i+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year"><label for="movie_year_'+l+'">Year <small class="text-muted">(from 1800 to 2100)</small></label><input id="movie_year_'+l+'" value="'+n+'" data-fldname="Year" data-ogval="'+n+'" class="form-control" type="number" min="1800" max="2100"></div><div class="movie_length"><label for="movie_length_'+l+'">Length <small class="text-muted">(in minutes)</small></label><input id="movie_length_'+l+'" value="'+r+'" data-fldname="Length" data-ogval="'+r+'" class="form-control" type="number" min="0" max="500"></div><div class="movie_rating"><label for="movie_rating_'+l+'">Rating</label>'+_+'<input id="movie_rating_'+l+'" value="'+c+'" data-fldname="Rating" data-ogval="'+c+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format"><label for="movie_format_'+l+'">Format</label><select id="movie_format_'+l+'" class="custom-select" data-fldname="Format" data-ogval="'+v+'"><option value="DVD"'+d+'>DVD</option><option value="Streaming"'+h+'>Streaming</option><option value="VHS"'+u+">VHS</option></select></div></div></div>";$("#movie_admin_list").append(p),t+1===a.length&&e.ready()})}).fail(function(e,a,t){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:function(){$("#movie_list_status").alert("close"),$(".save_all").show(),e.track_changes_field(),e.rating_hover(),e.rating_click(),e.save_all_click()},track_changes_field:function(){$("#movie_admin_list").on("input change","input",function(a){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(a){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))})},track_changes_listing:function(a){console.log("jqObj: "),console.log(a);var t=a.closest(".movie_listing").find("input, select").hasClass("valChg");console.log("jqObj.closest('.movie_listing'): "),console.log(a.closest(".movie_listing")),t?a.closest(".movie_listing").attr("data-haschgs",!0):a.closest(".movie_listing").attr("data-haschgs",!1),e.save_all_check()},rating_hover:function(){$(".movie_rating_star").hover(function(){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")},function(){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:function(){$(".movie_rating_star").click(function(e){var a=$(this).attr("data-ratingstar"),t=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+t).val(a).change(),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_all_check:function(){0!==$(".valChg").length?($(".save_all").prop("disabled",!1),0===$(".save_all").nextAll(".unsavedChgMsg").length&&$(".save_all").after('<small class="text-muted unsavedChgMsg">There are unsaved changes!</small>')):($(".save_all").prop("disabled",!0),$(".save_all").nextAll(".unsavedChgMsg").remove())},save_all_click:function(){$(".save_all").click(function(a){$("#movie_title_recgYgj9HIfvXUZmo").hasClass("valChg")&&e.save_all()})},save_all:function(){var e=$('.movie_listing[data-haschgs="true"]');$.each(e,function(a,t){var s=$(t).attr("data-recid"),l={ID:s},o={};console.log("movie_recid: "),console.log(s);var i=$("#movie_listing_"+s).find(".valChg");console.log("chgdFldsArr: "),console.log(i),$.each(i,function(e,a){var t=$(a).attr("data-fldname"),s=$(a).val();"Year"===t|"Length"===t|"Rating"===t&&(s=Number(s)),console.log("fldName: "),console.log(t),console.log("fldVal: "),console.log(s),o[t]=s}),l.fields=o,console.log("req_obj: "),console.log(l);var n=JSON.stringify(l);console.log("req_str: "),console.log(n),$.ajax({url:"/.netlify/functions/at_api",type:"PATCH",contentType:"application/json",data:n,success:function(t,s,l){console.log("success event"),console.log("resp: "),console.log(t),console.log("textStatus: "),console.log(s),a+1===e.length&&window.location.reload(!0)},error:function(e,a,t){var s;console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON?(err_statusCode=e.responseJSON.statusCode,err_is=e.responseJSON.error,err_msg=e.responseJSON.message,s=err_statusCode+"\n"+err_is+"\n"+err_msg):s=e.responseText,alert("Error:\n"+s)},complete:function(){console.log("complete event")}})})},save_one:function(){}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllX2FkbWluLmpzIl0sIm5hbWVzIjpbIm1vdmllX2FkbWluIiwiaW5pdCIsIiQiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJkb25lIiwicmVzcCIsInRleHRTdGF0dXMiLCJqcVhIUiIsImxlbmd0aCIsImVhY2giLCJpZHgiLCJpdG0iLCJtb3ZpZV9yZWNpZCIsImlkIiwibW92aWVfb2JqIiwiZmllbGRzIiwibW92aWVfdGl0bGUiLCJUaXRsZSIsIm1vdmllX3llYXIiLCJZZWFyIiwibW92aWVfbGVuZ3RoIiwiTGVuZ3RoIiwibW92aWVfcmF0aW5nIiwiUmF0aW5nIiwibW92aWVfZm9ybWF0IiwiRm9ybWF0IiwibW92aWVfcmF0aW5nX3N0YXJzIiwiQXJ0IiwicmF0aW5nc3RhciIsImkiLCJEVkRzZWwiLCJTVFJzZWwiLCJWSFNzZWwiLCJtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QiLCJtb3ZpZV9saXN0aW5nIiwiYXBwZW5kIiwicmVhZHkiLCJmYWlsIiwiZXJyb3JUaHJvd24iLCJhbGVydCIsImNvbnNvbGUiLCJsb2ciLCJwcmVwZW5kIiwic2hvdyIsInRyYWNrX2NoYW5nZXNfZmllbGQiLCJyYXRpbmdfaG92ZXIiLCJyYXRpbmdfY2xpY2siLCJzYXZlX2FsbF9jbGljayIsIm9uIiwiZSIsInRoaXMiLCJhdHRyIiwidmFsIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJyZW1vdmUiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImhhc0NoZ3MiLCJjbG9zZXN0IiwiZmluZCIsImhhc0NsYXNzIiwic2F2ZV9hbGxfY2hlY2siLCJob3ZlciIsImh0bWwiLCJwcmV2QWxsIiwic2libGluZ3MiLCJjbGljayIsIm1vdmllX3JhdGluZ19zZWwiLCJjaGFuZ2UiLCJwcm9wIiwiYWZ0ZXIiLCJzYXZlX2FsbCIsImNoZ2RNb3ZpZXNBcnIiLCJyZXFfb2JqIiwiSUQiLCJyZXFfb2JqX2ZsZHMiLCJjaGdkRmxkc0FyciIsImlkeF9mbGQiLCJpdG1fZmxkIiwiZmxkTmFtZSIsImZsZFZhbCIsIk51bWJlciIsInJlcV9zdHIiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsImNvbnRlbnRUeXBlIiwiZGF0YSIsInN1Y2Nlc3MiLCJqcVhociIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsImVycl9zdGF0dXNDb2RlIiwiZXJyX2lzIiwiZXJyX21zZyIsInJlc3BvbnNlVGV4dCIsImNvbXBsZXRlIiwic2F2ZV9vbmUiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLEVBQXlDLGlCQUFsQixFQUErQkEsRUFBYyxJQUN2RUEsRUFBYyxDQUNkQyxLQUFPLFdBQ05DLEVBQUVDLEtBQUssQ0FDTkMsSUFBSyw2QkFDTEMsU0FBVSxTQUNSQyxLQUFNLFNBQVdDLEVBQU1DLEVBQVlDLEdBS2pDRixFQUFLRyxPQUFTLEdBQ2pCUixFQUFFUyxLQUFLSixFQUFNLFNBQVNLLEVBQUtDLEdBQzFCLElBQUlDLEVBQWNELEVBQUlFLEdBVWxCQyxFQUFjSCxFQUFJSSxPQUNsQkMsRUFBZUYsRUFBVUcsTUFDekJDLEVBQWVKLEVBQVVLLEtBQ3pCQyxFQUFnQk4sRUFBVU8sT0FDMUJDLEVBQWdCUixFQUFVUyxPQUMxQkMsRUFBZ0JWLEVBQVVXLE9BUzFCQyxHQVJjWixFQUFVYSxJQVFILElBQ3hCRCxHQUFzQixtQ0FJdkIsSUFGQSxJQUFJRSxFQUFhLEVBRVJDLEVBQUksRUFBR0EsRUFBSVAsRUFBY08sSUFDakNILEdBQXNCLCtFQUFpRkUsRUFBYSxtQkFFcEhBLElBR0QsSUFVSUUsRUFBUUMsRUFBUUMsRUFUaEJDLEVBRDRCLEVBQytCWCxFQUUvRCxJQUFLTyxFQUFJLEVBQUdBLEVBQUlJLEVBQWdDSixJQUMvQ0gsR0FBc0IsaUZBQW1GRSxFQUFhLG9CQUV0SEEsSUFLRCxPQUhBRixHQUFzQixTQUdkRixHQUNQLElBQUssTUFDSk0sRUFBUyxXQUNWLE1BQ0EsSUFBSyxZQUNKQyxF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LHdCQU9oQjhELFNBQVcsZUFHVHhHIiwiZmlsZSI6Im1vdmllX2FkbWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBtb3ZpZS1hZG1pbi5qcyAqL1xyXG52YXIgbW92aWVfYWRtaW4gPSAoIHR5cGVvZiAobW92aWVfYWRtaW4pID09PSAnb2JqZWN0JyApID8gbW92aWVfYWRtaW4gOiB7fTtcclxuKG1vdmllX2FkbWluID0ge1xyXG5cdGluaXQgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6ICcvLm5ldGxpZnkvZnVuY3Rpb25zL2F0X2FwaScsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uICggcmVzcCwgdGV4dFN0YXR1cywganFYSFIgKSB7XHJcblxyXG5cdFx0XHQvKmNvbnNvbGUubG9nKCdyZXNwOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVzcCk7Ki9cclxuXHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblxyXG5cdFx0XHRcdFx0LyoqXHJcblx0XHRcdFx0XHQgKiBTdGFyIEFTQ0lJIGNvZGVzXHJcblx0XHRcdFx0XHQgKiAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cdFx0XHRcdFx0ICogU29saWQgc3RhcjogJiM5NzMzO1xyXG5cdFx0XHRcdFx0ICogT3V0bGluZSBzdGFyOiAmIzk3MzQ7XHJcblx0XHRcdFx0XHQgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSAnJztcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXJzXCI+JztcclxuXHRcdFx0XHRcdC8qKiBTZXQgdGhlIGxvd2VzdCB2YWx1ZSAqL1xyXG5cdFx0XHRcdFx0dmFyIHJhdGluZ3N0YXIgPSAxO1xyXG5cdFx0XHRcdFx0LyoqIEFkZCBhIHNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIHRoZSBzZWxlY3RlZCByYXRpbmcgdmFsdWUgaXMgcmVhY2hlZCAqL1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZpZV9yYXRpbmc7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxzcGFuIGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXIgbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzMgPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRyYXRpbmdzdGFyKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvKiogU3VidHJhY3QgdGhlIHNlbGVjdGVkIHJhdGluZyBmcm9tIHRoZSBoaWdoZXN0IHBvc3NpYmxlIHRvIGdldCBhbiB1bnNlbGVjdGVkL2ZpbGxlciBjb3VudCAqL1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QgPSA1O1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCA9IG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QtbW92aWVfcmF0aW5nO1xyXG5cdFx0XHRcdFx0LyoqIEFkZCBhbiB1bnNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIGZpbGxlciBjb3VudCBpcyByZWFjaGVkICovXHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0OyBpKyspIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzQgIDwvc3Bhbj4nO1xyXG5cclxuXHRcdFx0XHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8L2Rpdj4nO1xyXG5cclxuXHRcdFx0XHRcdHZhciBEVkRzZWwsIFNUUnNlbCwgVkhTc2VsO1xyXG5cdFx0XHRcdFx0c3dpdGNoIChtb3ZpZV9mb3JtYXQpIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnRFZEJzpcclxuXHRcdFx0XHRcdFx0XHREVkRzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnU3RyZWFtaW5nJzpcclxuXHRcdFx0XHRcdFx0XHRTVFJzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnVkhTJzpcclxuXHRcdFx0XHRcdFx0XHRWSFNzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2xpc3RpbmcgPSAnPGRpdiBjbGFzcz1cIm1vdmllX2xpc3RpbmcgZm9ybS1ncm91cFwiICcgK1xyXG5cdFx0XHRcdFx0XHRcdCdkYXRhLXJlY2lkPVwiJyArIG1vdmllX3JlY2lkICsnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnZGF0YS1oYXNjaGdzPVwiZmFsc2VcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCdpZD1cIm1vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj5UaXRsZSA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfdGl0bGVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfdGl0bGUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJUaXRsZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV90aXRsZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIG1pbmxlbmd0aD1cIjFcIiBtYXhsZW5ndGg9XCI1MFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbHNcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfeWVhclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3llYXJfJyArIG1vdmllX3JlY2lkICsgJ1wiPlllYXIgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfeWVhciArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiWWVhclwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxODAwXCIgbWF4PVwiMjEwMFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9sZW5ndGhcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiPkxlbmd0aCA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD48L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9sZW5ndGggKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZ1wiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfcmF0aW5nICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW4+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCI+Rm9ybWF0PC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9mb3JtYXQgKyAnXCInICsnPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vICc8b3B0aW9uIHNlbGVjdGVkPk9wZW4gdGhpcyBzZWxlY3QgbWVudTwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiRFZEXCInICsgRFZEc2VsICsgJz5EVkQ8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiJyArIFNUUnNlbCArICc+U3RyZWFtaW5nPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJWSFNcIicgKyBWSFNzZWwgKyAnPlZIUzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9zZWxlY3Q+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHQnPC9kaXY+J1xyXG5cdFx0XHRcdFx0O1xyXG5cclxuXHRcdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykuYXBwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gcmVzcC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4ucmVhZHkoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSkuZmFpbCggZnVuY3Rpb24gKCBqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKSB7XHJcblx0XHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1cycpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cclxuXHRcdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGlkPVwibW92aWVfbGlzdF9zdGF0dXNcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmcgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+JyArXHJcblx0XHRcdFx0XHQnPHNwYW4gaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c19tc2dcIj5UaGVyZSB3YXMgYSBwcm9ibGVtIGxvYWRpbmcgdGhlIG1vdmllcy48L2JyPlRyeSByZWZyZXNoaW5nIHRoZSBwYWdlIGFuZCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cywgcGxlYXNlIGNvbnRhY3QgdXMuPC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHRcclxuXHRcdFx0JCgnI21vdmllX2FkbWluJykucHJlcGVuZChlcnJNc2cpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRyZWFkeSA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1cycpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdCQoJy5zYXZlX2FsbCcpLnNob3coKTtcclxuXHRcdFxyXG5cdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19maWVsZCgpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2hvdmVyKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5yYXRpbmdfY2xpY2soKTtcclxuXHRcdG1vdmllX2FkbWluLnNhdmVfYWxsX2NsaWNrKCk7XHJcblxyXG5cdFx0Lyp2YXIgdGVtcFNhdmVXYXJuaW5nID0gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG4gIFx0XHRcdFx0JzxzdHJvbmc+SEVBRFMgVVAhPC9zdHJvbmc+IE9ubHkgdGhlIGZpcnN0IG1vdmllIHRpdGxlIHdpbGwgc2F2ZSBhdCB0aGUgbW9tZW50Li4uJyArXHJcblx0XHRcdCc8L2Rpdj4nO1xyXG5cclxuXHRcdC8vICQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnMnKS5ob3ZlciggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zJykuYXBwZW5kKHRlbXBTYXZlV2FybmluZyk7XHJcblx0XHQvLyB9LCBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gJCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9ucyAuYWxlcnQnKS5hbGVydCgnY2xvc2UnKTtcclxuXHRcdC8vIH0pOyovXHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2ZpZWxkIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignaW5wdXQgY2hhbmdlJywgJ2lucHV0JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIG9nVmFsID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCh0aGlzKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdFx0XHQvKiogSWYgYSAudmFsQ2hnTXNnIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdFx0LyppZiAoICQodGhpcykubmV4dEFsbCgnLnZhbENoZ01zZycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuYWZ0ZXIoJzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWQgdmFsQ2hnTXNnXCI+VW5zYXZlZCBjaGFuZ2U8L3NtYWxsPicpO1xyXG5cdFx0XHRcdH0qL1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19saXN0aW5nKCAkKHRoaXMpICk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLm9uKCdjaGFuZ2UnLCAnc2VsZWN0JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIG9nVmFsID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCh0aGlzKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdFx0XHQvKiogSWYgYSAudmFsQ2hnTXNnIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdFx0LyppZiAoICQodGhpcykubmV4dEFsbCgnLnZhbENoZ01zZycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuYWZ0ZXIoJzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWQgdmFsQ2hnTXNnXCI+VW5zYXZlZCBjaGFuZ2U8L3NtYWxsPicpO1xyXG5cdFx0XHRcdH0qL1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19saXN0aW5nKCAkKHRoaXMpICk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHRyYWNrX2NoYW5nZXNfbGlzdGluZyA6IGZ1bmN0aW9uIChqcU9iaikge1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKCdqcU9iajogJyk7XHJcblx0XHRjb25zb2xlLmxvZyhqcU9iaik7XHJcblxyXG5cdFx0dmFyIGhhc0NoZ3MgPSBqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmZpbmQoJ2lucHV0LCBzZWxlY3QnKS5oYXNDbGFzcygndmFsQ2hnJyk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coXCJqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpOiBcIik7XHJcblx0XHRjb25zb2xlLmxvZyhqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpKTtcclxuXHJcblx0XHRpZiAoaGFzQ2hncykge1xyXG5cdFx0XHRqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmF0dHIoJ2RhdGEtaGFzY2hncycsIHRydWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0anFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLWhhc2NoZ3MnLCBmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGxfY2hlY2soKTtcclxuXHR9XHJcblx0LFxyXG5cdHJhdGluZ19ob3ZlciA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmhvdmVyKFxyXG5cdFx0XHRmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0LyoqIE1ha2UgaG92ZXJlZCBpdGVtIGludG8gc2VsZWN0ZWQgc3RhdGUgKi9cclxuXHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczMyAnKTtcclxuXHJcblx0XHRcdFx0LyoqIFxyXG5cdFx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGhvdmVyZWQgaXRlbSBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0JCh0aGlzKS5wcmV2QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5odG1sKCcmIzk3MzMgJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19ob3Zlcl9wcmV2U2liJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBcclxuXHRcdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGFmdGVyIGhvdmVyZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgdW5zZWxlY3RlZCBjb2xvclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuaHRtbCgnJiM5NzM0ICcpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfbmV4dFNpYicpO1xyXG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfcHJldlNpYicpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfbmV4dFNpYicpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8qKiBSZXNldCBhbGwgc3RhcnMgdG8gb3JpZ2luYWwgc3RhdGUgKi9cclxuXHRcdFx0XHRpZiAoICQodGhpcykuaGFzQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczMyAnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzQgJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoJy5tb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLmh0bWwoJyYjOTczMyAnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCcubW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpLmh0bWwoJyYjOTczNCAnKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LFxyXG5cdHJhdGluZ19jbGljayA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHR2YXIgbW92aWVfcmF0aW5nX3NlbCA9ICQodGhpcykuYXR0cignZGF0YS1yYXRpbmdzdGFyJyk7XHJcblx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9ICQodGhpcykuY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLXJlY2lkJyk7XHJcblxyXG5cdFx0XHQkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkudmFsKG1vdmllX3JhdGluZ19zZWwpLmNoYW5nZSgpO1xyXG5cdFx0XHQvLyAkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkudmFsKG1vdmllX3JhdGluZ19zZWwpO1xyXG5cdFx0XHQvLyAkKCcjbW92aWVfcmF0aW5nXycgKyBtb3ZpZV9yZWNpZCkuYXR0cigndmFsdWUnLCBtb3ZpZV9yYXRpbmdfc2VsKTtcclxuXHJcblx0XHRcdC8qKiBcclxuXHRcdFx0ICogTWFrZSBzZWxjdGVkIGl0ZW0gXHJcblx0XHRcdCAqIGFuZCBhbGwgc2libGluZyBpdGVtcyBiZWZvcmUgaXQgXHJcblx0XHRcdCAqIGludG8gdGhlIHNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHNlbGVjdGVkIGNvbG9yXHJcblx0XHRcdCAqL1xyXG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJyk7XHJcblx0XHRcdCQodGhpcykucHJldkFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKTtcclxuXHJcblx0XHRcdC8qKiBcclxuXHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBhZnRlciBzZWxlY3RlZCBpdGVtIGludG8gdGhlIHVuc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdCAqIGFuZCBhZGQgY2xhc3MgdGhhdCB3aWxsIG1ha2UgdGhlbSB0aGUgdW5zZWxlY3RlZCBjb2xvclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JCh0aGlzKS5uZXh0QWxsKCcubW92aWVfcmF0aW5nX3N0YXInKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jaGVjayA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICggJCgnLnZhbENoZycpLmxlbmd0aCAhPT0gMCApIHtcclxuXHRcdFx0JCgnLnNhdmVfYWxsJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcblxyXG5cdFx0XHQvKiogSWYgYW4gLnVuc2F2ZWRDaGdNc2cgaXNuJ3QgYWxyZWFkeSBwcmVzZW50LCBhZGQgaXQgKi9cclxuXHRcdFx0aWYgKCAkKCcuc2F2ZV9hbGwnKS5uZXh0QWxsKCcudW5zYXZlZENoZ01zZycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHQkKCcuc2F2ZV9hbGwnKS5hZnRlcignPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZCB1bnNhdmVkQ2hnTXNnXCI+VGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlcyE8L3NtYWxsPicpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkKCcuc2F2ZV9hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHQkKCcuc2F2ZV9hbGwnKS5uZXh0QWxsKCcudW5zYXZlZENoZ01zZycpLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGxfY2xpY2sgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQkKCcuc2F2ZV9hbGwnKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0aWYgKCAkKCcjbW92aWVfdGl0bGVfcmVjZ1lnajlISWZ2WFVabW8nKS5oYXNDbGFzcygndmFsQ2hnJykgKSB7XHJcblx0XHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbCA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8qKiBNYW51YWxseS1zcGVjaWZpZWQgdmFsdWVzIGZvciBkZXZlbG9wbWVudCAqL1xyXG5cdFx0Lyp2YXIgbW92aWVfcmVjaWQgPSAncmVjZ1lnajlISWZ2WFVabW8nLFxyXG5cdFx0XHRtb3ZpZV90aXRsZSA9ICQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCArICcgLm1vdmllX3RpdGxlIGlucHV0JykudmFsKCksXHJcblx0XHRcdHZhciByZXFfb2JqID0ge1xyXG5cdFx0XHRcdCdJRCc6IG1vdmllX3JlY2lkLFxyXG5cdFx0XHRcdCdUaXRsZSc6IG1vdmllX3RpdGxlXHJcblx0XHRcdH07Ki9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRoaXMgd2lsbCBicmVhayB0aGUgcmVxdWVzdCBhcyBhIHdheSBvZiBkZW1vaW5nIGVycm9yIGhhbmRsaW5nXHJcblx0XHQgKi9cclxuXHRcdC8vIHZhciBtb3ZpZV90aXRsZSBcdD0gJCgnIycgKyBtb3ZpZV9yZWNpZCArICcgLm1vdmllX3RpdGxlIGlucHV0Jyk7XHJcblxyXG5cdFx0LyoqIEdhdGhlciBjaGFuZ2VzIGFuZCBzZW5kIFBBVENIIHJlcXVlc3QgdG8gQVBJIHBlciBtb3ZpZSAqL1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIENoYW5nZXMgbmVlZCB0byBiZSBncm91cGVkIHBlciByZWNvcmQgKGkuZS4sIG1vdmllKVxyXG5cdFx0ICogXHJcblx0XHQgKiBQcmV0dHkgc3VyZSB0aGUgYmVzdCBvcHRpb24gaXMgdG8gXHJcblx0XHQgKiBmbGFnIGEgcGFyZW50IGVsZW1lbnQgKGUuZy4sIFwiLm1vdmllX2xpc3RpbmdcIikgb24gY2hhbmdlcyxcclxuXHRcdCAqIHVzaW5nIHRoYXQgYXMgdGhlIHN0YXJ0aW5nIHBvaW50IFxyXG5cdFx0ICogdG8gdHJhdmVyc2UgZG93biBjaGlsZHJlblxyXG5cdFx0ICogYW5kIGNvbGxlY3QgY2hhbmdlcy5cclxuXHRcdCAqXHJcblx0XHQgKiBJZiBhbGwgY2hhbmdlcyBmb3IgYSBnaXZlbiByZWNvcmQgYXJlIGJhY2tlZCBvdXRcclxuXHRcdCAqIGNsZWFyIGZsYWcgb24gcGFyZW50IGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cclxuXHRcdHZhciBjaGdkTW92aWVzQXJyID0gJCgnLm1vdmllX2xpc3RpbmdbZGF0YS1oYXNjaGdzPVwidHJ1ZVwiXScpO1xyXG5cclxuXHRcdCQuZWFjaChjaGdkTW92aWVzQXJyLCBmdW5jdGlvbiAoaWR4LCBpdG0pIHtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJChpdG0pLmF0dHIoJ2RhdGEtcmVjaWQnKTtcclxuXHRcdFx0dmFyIHJlcV9vYmogPSB7XHJcblx0XHRcdFx0J0lEJzogbW92aWVfcmVjaWRcclxuXHRcdFx0fTtcclxuXHRcdFx0dmFyIHJlcV9vYmpfZmxkcyA9IHt9O1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ21vdmllX3JlY2lkOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2cobW92aWVfcmVjaWQpO1xyXG5cclxuXHRcdFx0dmFyIGNoZ2RGbGRzQXJyID0gJCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkKS5maW5kKCcudmFsQ2hnJyk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygnY2hnZEZsZHNBcnI6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhjaGdkRmxkc0Fycik7XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIEZvciBlYWNoIGNoYW5nZWQgZmllbGQsIFxyXG5cdFx0XHQgKiBnZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB0aGF0IGhhcyB0aGUgYXNzb2NpYXRlZCBmaWVsZCBuYW1lIGluIHRoZSBkYXRhIHN0b3JlXHJcblx0XHRcdCAqIGFsb25nIHdpdGggdGhlIGZpZWxkIHZhbHVlIFxyXG5cdFx0XHQgKiB0byBidWlsZCBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIFxyXG5cdFx0XHQgKiB0byBzZW5kIGluIGVhY2ggcmVxdWVzdFxyXG5cdFx0XHQgKi9cclxuXHJcblx0XHRcdCQuZWFjaChjaGdkRmxkc0FyciwgZnVuY3Rpb24gKGlkeF9mbGQsIGl0bV9mbGQpIHtcclxuXHRcdFx0XHR2YXIgZmxkTmFtZSA9ICQoaXRtX2ZsZCkuYXR0cignZGF0YS1mbGRuYW1lJyk7XHJcblx0XHRcdFx0dmFyIGZsZFZhbCA9ICQoaXRtX2ZsZCkudmFsKCk7XHJcblxyXG5cdFx0XHRcdGlmICggZmxkTmFtZSA9PT0gJ1llYXInIHwgZmxkTmFtZSA9PT0gJ0xlbmd0aCcgfCBmbGROYW1lID09PSAnUmF0aW5nJyApIHtcclxuXHRcdFx0XHRcdGZsZFZhbCA9IE51bWJlcihmbGRWYWwpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2ZsZE5hbWU6ICcpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGZsZE5hbWUpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdmbGRWYWw6ICcpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGZsZFZhbCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmVxX29ial9mbGRzW2ZsZE5hbWVdID0gZmxkVmFsO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHJlcV9vYmouZmllbGRzID0gcmVxX29ial9mbGRzO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ3JlcV9vYmo6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhyZXFfb2JqKTtcclxuXHJcblx0XHRcdHZhciByZXFfc3RyID0gSlNPTi5zdHJpbmdpZnkocmVxX29iaik7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygncmVxX3N0cjogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKHJlcV9zdHIpO1xyXG5cclxuXHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHR1cmw6ICcvLm5ldGxpZnkvZnVuY3Rpb25zL2F0X2FwaScsXHJcblx0XHRcdFx0dHlwZSA6ICdQQVRDSCcsXHJcblx0XHRcdFx0Ly8gZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0ICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdFx0ZGF0YTogcmVxX3N0cixcclxuXHRcdFx0XHRzdWNjZXNzIDogZnVuY3Rpb24gKHJlc3AsIHRleHRTdGF0dXMsIGpxWGhyKSB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ3N1Y2Nlc3MgZXZlbnQnKTtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygncmVzcDogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhyZXNwKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlkeCsxID09PSBjaGdkTW92aWVzQXJyLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZXJyb3IgOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdqcVhIUjogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBlcnJfZGlzcDtcclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0ZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcclxuXHRcdFx0XHRcdFx0ZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xyXG5cdFx0XHRcdFx0XHRlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XHJcblxyXG5cdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGpxWEhSLnJlc3BvbnNlVGV4dDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0YWxlcnQoJ0Vycm9yOlxcbicgKyBlcnJfZGlzcCk7XHJcblxyXG5cdFx0XHRcdFx0Lyo8ZGl2IGlkPVwibW92aWVfbGlzdF9zdGF0dXNcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm8gZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwic3Bpbm5lciBzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1tZFwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGlkPVwibW92aWVfbGlzdF9zdGF0dXNfbXNnXCI+TW92aWVzIGxvYWRpbmcuLi48L3NwYW4+XHJcblx0XHRcdFx0XHQ8L2Rpdj4qL1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tcGxldGUgOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmUgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvKiogUG90ZW50aWFsIHVzZSBmb3Igc2luZ2xlIGZpZWxkIHNhdmUgKi9cclxuXHR9XHJcbn0pLmluaXQoKTtcclxuIl19
