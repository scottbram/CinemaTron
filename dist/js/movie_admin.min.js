var e="object"==typeof e?e:{};(e={init:()=>{$.ajax({url:"/.netlify/functions/at_get_movie?recid=all",dataType:"json"}).done(function(a,s,t){a.length>0&&$.each(a,function(s,t){var i,l,o,n=t.id,r=t.fields,m=r.Title,_=r.Year,v=r.Length,c=r.Rating,d=r.Format,g=(r.Art,e.seeing_stars(c));switch(d){case"DVD":i="selected";break;case"Streaming":l="selected";break;case"VHS":o="selected"}var h='<div class="movie_listing form-group" data-recid="'+n+'"data-haschgs="false"id="movie_listing_'+n+'"><div class="movie_title form-field-container"><label for="movie_title_'+n+'">Title <small class="text-muted">(50 characters or less)</small></label><input id="movie_title_'+n+'" value="'+m+'" data-fldname="Title" data-ogval="'+m+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+n+'">Year <small class="text-muted">(from 1800 to 2100)</small></label><input id="movie_year_'+n+'" value="'+_+'" data-fldname="Year" data-ogval="'+_+'" class="form-control" type="number" min="1800" max="2100"></div><div class="movie_length form-field-container"><label for="movie_length_'+n+'">Length <small class="text-muted">(in minutes)</small></label><input id="movie_length_'+n+'" value="'+v+'" data-fldname="Length" data-ogval="'+v+'" class="form-control" type="number" min="0" max="500"></div><div class="movie_rating form-field-container"><label for="movie_rating_'+n+'">Rating</label>'+g+'<input id="movie_rating_'+n+'" value="'+c+'" data-fldname="Rating" data-ogval="'+c+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format form-field-container"><label for="movie_format_'+n+'">Format</label><select id="movie_format_'+n+'" class="form-control" data-fldname="Format" data-ogval="'+d+'"><option value="DVD"'+i+'>DVD</option><option value="Streaming"'+l+'>Streaming</option><option value="VHS"'+o+">VHS</option></select></div></div></div>";$("#movie_admin_list").append(h),s+1===a.length&&e.ready()})}).fail(function(e,a,s){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(s);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:()=>{$("#movie_list_status").alert("close"),e.add_movie_click(),$(".add-movie").prop("disabled",!1),e.track_changes_field(),e.rating_hover(),e.rating_click(),e.save_all_click()},add_movie_click:()=>{$(".add-movie").click(function(a){e.add_movie(),$("input").first().focus()})},add_movie:()=>{var a=Date.now(),s='<div class="movie_listing form-group" data-recid="'+a+'"data-haschgs="false"id="movie_listing_'+a+'"class="movie_listing_new"><div class="movie_title form-field-container"><label for="movie_title_'+a+'">Title <small class="text-muted">(50 characters or less)</small></label><input id="movie_title_'+a+'" value="" data-fldname="Title" class="form-control" type="text" minlength="1" maxlength="50" required></div><div class="movie_details"><div class="movie_year form-field-container"><label for="movie_year_'+a+'">Year <small class="text-muted">(from 1800 to 2100)</small></label><input id="movie_year_'+a+'" value="" data-fldname="Year" class="form-control" type="number" min="1800" max="2100" required></div><div class="movie_length form-field-container"><label for="movie_length_'+a+'">Length <small class="text-muted">(in minutes)</small></label><input id="movie_length_'+a+'" value="" data-fldname="Length" class="form-control" type="number" min="0" max="500" required></div><div class="movie_rating form-field-container"><label for="movie_rating_'+a+'">Rating</label>'+e.seeing_stars("1")+'<input id="movie_rating_'+a+'" value="1" data-fldname="Rating" class="form-control" type="number" min="1" max="5" hidden required></div><div class="movie_format form-field-container"><label for="movie_format_'+a+'">Format</label><select id="movie_format_'+a+'" class="form-control" data-fldname="Format"<option value="DVD">DVD</option><option value="Streaming" selected>Streaming</option><option value="VHS">VHS</option></select></div></div></div>';$("#movie_admin_list").prepend(s)},seeing_stars:e=>{var a="";a+='<div class="movie_rating_stars">';for(var s=1,t=0;t<e;t++)a+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+s+'">&#9733 </span>',s++;var i=5-e;for(t=0;t<i;t++)a+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+s+'">&#9734  </span>',s++;return a+="</div>"},track_changes_field:()=>{$("#movie_admin_list").on("input change","input",function(a){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(a){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))})},track_changes_listing:a=>{a.closest(".movie_listing").find("input, select").hasClass("valChg")?a.closest(".movie_listing").attr("data-haschgs",!0):a.closest(".movie_listing").attr("data-haschgs",!1),e.save_all_check()},rating_hover:()=>{$("#movie_admin_list").on("mouseenter",".movie_rating_star",function(e){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")}).on("mouseleave",".movie_rating_star",function(e){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:()=>{$("#movie_admin_list").on("click",".movie_rating_star",function(e){var a=$(this).attr("data-ratingstar"),s=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+s).val(a).change(),$("#movie_rating_"+s).attr("data-ogval")!==$("#movie_rating_"+s).val()?$(this).closest(".movie_rating_stars").addClass("valChg-colorsOnly"):$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_one_check:()=>{},save_all_check:()=>{0!==$(".valChg").length?($(".save-all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save-all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_one_click:()=>{$(".save_item").click(function(a){$(this).prop("disabled",!0);var s=$(this).attr("data-recid");e.save_one(s)})},save_all_click:()=>{$(".save-all").click(function(a){$(".save-all").prop("disabled",!0),e.save_all()})},save_item:e=>{var a={ID:e},s={},t=$("#movie_listing_"+e).find(".valChg");$.each(t,function(e,a){var t=$(a).attr("data-fldname"),i=$(a).val();"Year"===t|"Length"===t|"Rating"===t&&(i=Number(i)),s[t]=i}),a.fields=s;var i=JSON.stringify(a);return new Promise(function(a,s){$.ajax({url:"/.netlify/functions/at_update_movie",type:"PATCH",contentType:"application/json",data:i,success:function(s,t,i){console.log("success event"),$("#movie_listing_"+e).find(".valChg, .valChg-colorsOnly").removeClass("valChg valChg-colorsOnly"),$(this).closest(".movie_rating_stars").removeClass("valChg-colorsOnly"),a()},error:function(e,a,t){var i;if(console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(a),console.log("errorThrown: "),console.log(t),void 0!==e.responseJSON){i=e.responseJSON.statusCode+"\n"+e.responseJSON.error+"\n"+e.responseJSON.message}else i=e.responseText;s(),alert("Error:\n"+i)},complete:function(){console.log("complete event")}})})},save_one:a=>{e.save_item(a).then(function(){e.status_msg("save_one_success")},function(e){console.error(e)})},save_all:()=>{$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingAllChgs msg-info">Saving all changes...</small>');var a=$('.movie_listing[data-haschgs="true"]');$.each(a,function(s,t){var i=$(t).attr("data-recid");e.save_item(i).then(function(){s+1===a.length&&e.status_msg("save_all_success")},function(e){console.error(e)})})},status_msg:e=>{switch(e){case"save_one_success":case"save_one_error":break;case"save_all_success":$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">All changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(e){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllX2FkbWluLmpzIl0sIm5hbWVzIjpbIm1vdmllX2FkbWluIiwiaW5pdCIsIiQiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJkb25lIiwicmVzcCIsInRleHRTdGF0dXMiLCJqcVhIUiIsImxlbmd0aCIsImVhY2giLCJpZHgiLCJpdG0iLCJEVkRzZWwiLCJTVFJzZWwiLCJWSFNzZWwiLCJtb3ZpZV9yZWNpZCIsImlkIiwibW92aWVfb2JqIiwiZmllbGRzIiwibW92aWVfdGl0bGUiLCJUaXRsZSIsIm1vdmllX3llYXIiLCJZZWFyIiwibW92aWVfbGVuZ3RoIiwiTGVuZ3RoIiwibW92aWVfcmF0aW5nIiwiUmF0aW5nIiwibW92aWVfZm9ybWF0IiwiRm9ybWF0IiwibW92aWVfcmF0aW5nX3N0YXJzIiwiQXJ0Iiwic2VlaW5nX3N0YXJzIiwibW92aWVfbGlzdGluZyIsImFwcGVuZCIsInJlYWR5IiwiZmFpbCIsImVycm9yVGhyb3duIiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwicHJlcGVuZCIsImFkZF9tb3ZpZV9jbGljayIsInByb3AiLCJ0cmFja19jaGFuZ2VzX2ZpZWxkIiwicmF0aW5nX2hvdmVyIiwicmF0aW5nX2NsaWNrIiwic2F2ZV9hbGxfY2xpY2siLCJjbGljayIsImUiLCJhZGRfbW92aWUiLCJmaXJzdCIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsInJhdGluZ3N0YXIiLCJpIiwibW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0Iiwib24iLCJ0aGlzIiwiYXR0ciIsInZhbCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJuZXh0QWxsIiwicmVtb3ZlIiwidHJhY2tfY2hhbmdlc19saXN0aW5nIiwianFPYmoiLCJjbG9zZXN0IiwiZmluZCIsImhhc0NsYXNzIiwic2F2ZV9hbGxfY2hlY2siLCJodG1sIiwicHJldkFsbCIsInNpYmxpbmdzIiwibW92aWVfcmF0aW5nX3NlbCIsImNoYW5nZSIsInNhdmVfb25lX2NoZWNrIiwic2F2ZV9vbmVfY2xpY2siLCJzYXZlX29uZSIsInNhdmVfYWxsIiwic2F2ZV9pdGVtIiwicmVxX29iaiIsIklEIiwicmVxX29ial9mbGRzIiwiY2hnZEZsZHNBcnIiLCJpZHhfZmxkIiwiaXRtX2ZsZCIsImZsZE5hbWUiLCJmbGRWYWwiLCJOdW1iZXIiLCJyZXFfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlByb21pc2UiLCJwcm9tU3VjY2VzcyIsInByb21FcnJvciIsInR5cGUiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWNjZXNzIiwianFYaHIiLCJlcnJvciIsImVycl9kaXNwIiwicmVzcG9uc2VKU09OIiwicmVzcG9uc2VUZXh0IiwiY29tcGxldGUiLCJ0aGVuIiwic3RhdHVzX21zZyIsImVyck9iaiIsImNoZ2RNb3ZpZXNBcnIiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiZmFkZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsRUFBeUMsaUJBQWxCLEVBQStCQSxFQUFjLElBQ3ZFQSxFQUFjLENBQ2RDLEtBQU8sS0FDTkMsRUFBRUMsS0FBSyxDQUNOQyxJQUFLLDZDQUNMQyxTQUFVLFNBQ1JDLEtBQU0sU0FBV0MsRUFBTUMsRUFBWUMsR0FDakNGLEVBQUtHLE9BQVMsR0FDakJSLEVBQUVTLEtBQUtKLEVBQU0sU0FBU0ssRUFBS0MsR0FDMUIsSUFvQklDLEVBQVFDLEVBQVFDLEVBcEJoQkMsRUFBY0osRUFBSUssR0FVbEJDLEVBQWNOLEVBQUlPLE9BQ2xCQyxFQUFlRixFQUFVRyxNQUN6QkMsRUFBZUosRUFBVUssS0FDekJDLEVBQWdCTixFQUFVTyxPQUMxQkMsRUFBZ0JSLEVBQVVTLE9BQzFCQyxFQUFnQlYsRUFBVVcsT0FHMUJDLEdBRmNaLEVBQVVhLElBRUhoQyxFQUFZaUMsYUFBYU4sSUFHbEQsT0FBUUUsR0FDUCxJQUFLLE1BQ0pmLEVBQVMsV0FDVixNQUNBLElBQUssWUFDSkMsRUFBUyxXQUNWLE1BQ0EsSUFBSyxNQUNKQyxFQUFTLFdBSVgsSUFBSWtCLEVBQWdCLHFEQUNEakIsRUFBYSwwQ0FFUEEs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QUFRLHNGQUc1Q3NFLE9BQU9DLFdBQVksV0FDbEIvRyxFQUFFLGlEQUFpRGdILFFBQVEsT0FBUSxTQUFVaEUsR0FDNUVoRCxFQUFFMEQsTUFBTU0sWUFFUCxTQU9KakUiLCJmaWxlIjoibW92aWVfYWRtaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIG1vdmllLWFkbWluLmpzICovXHJcbnZhciBtb3ZpZV9hZG1pbiA9ICggdHlwZW9mIChtb3ZpZV9hZG1pbikgPT09ICdvYmplY3QnICkgPyBtb3ZpZV9hZG1pbiA6IHt9O1xyXG4obW92aWVfYWRtaW4gPSB7XHJcblx0aW5pdCA6ICgpID0+IHtcclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfZ2V0X21vdmllP3JlY2lkPWFsbCcsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbidcclxuXHRcdH0pLmRvbmUoIGZ1bmN0aW9uICggcmVzcCwgdGV4dFN0YXR1cywganFYSFIgKSB7XHJcblx0XHRcdGlmIChyZXNwLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQkLmVhY2gocmVzcCwgZnVuY3Rpb24oaWR4LCBpdG0pIHtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yZWNpZCA9IGl0bS5pZDtcclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICAqIEZpZWxkczpcclxuXHRcdFx0XHRcdCAgKiBUaXRsZVxyXG5cdFx0XHRcdFx0ICAqIFllYXJcclxuXHRcdFx0XHRcdCAgKiBMZW5ndGhcclxuXHRcdFx0XHRcdCAgKiBSYXRpbmdcclxuXHRcdFx0XHRcdCAgKiBGb3JtYXRcclxuXHRcdFx0XHRcdCAgKiBBcnRcclxuXHRcdFx0XHRcdCAgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9vYmogXHRcdD0gaXRtLmZpZWxkcztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV90aXRsZSBcdD0gbW92aWVfb2JqLlRpdGxlO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3llYXIgXHRcdD0gbW92aWVfb2JqLlllYXI7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfbGVuZ3RoIFx0PSBtb3ZpZV9vYmouTGVuZ3RoO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZyBcdD0gbW92aWVfb2JqLlJhdGluZztcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9mb3JtYXQgXHQ9IG1vdmllX29iai5Gb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfYXJ0IFx0XHQ9IG1vdmllX29iai5BcnQ7XHJcblxyXG5cdFx0XHRcdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9IG1vdmllX2FkbWluLnNlZWluZ19zdGFycyhtb3ZpZV9yYXRpbmcpO1xyXG5cclxuXHRcdFx0XHRcdHZhciBEVkRzZWwsIFNUUnNlbCwgVkhTc2VsO1xyXG5cdFx0XHRcdFx0c3dpdGNoIChtb3ZpZV9mb3JtYXQpIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnRFZEJzpcclxuXHRcdFx0XHRcdFx0XHREVkRzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnU3RyZWFtaW5nJzpcclxuXHRcdFx0XHRcdFx0XHRTVFJzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnVkhTJzpcclxuXHRcdFx0XHRcdFx0XHRWSFNzZWwgPSAnc2VsZWN0ZWQnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2xpc3RpbmcgPSAnPGRpdiBjbGFzcz1cIm1vdmllX2xpc3RpbmcgZm9ybS1ncm91cFwiICcgK1xyXG5cdFx0XHRcdFx0XHRcdCdkYXRhLXJlY2lkPVwiJyArIG1vdmllX3JlY2lkICsnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnZGF0YS1oYXNjaGdzPVwiZmFsc2VcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCdpZD1cIm1vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdCc+JyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj5UaXRsZSA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfdGl0bGVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfdGl0bGUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJUaXRsZVwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV90aXRsZSArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwidGV4dFwiIG1pbmxlbmd0aD1cIjFcIiBtYXhsZW5ndGg9XCI1MFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbHNcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfeWVhciBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3llYXJfJyArIG1vdmllX3JlY2lkICsgJ1wiPlllYXIgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihmcm9tIDE4MDAgdG8gMjEwMCk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfeWVhciArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiWWVhclwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxODAwXCIgbWF4PVwiMjEwMFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9sZW5ndGggZm9ybS1maWVsZC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiPkxlbmd0aCA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGluIG1pbnV0ZXMpPC9zbWFsbD48L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdmFsdWU9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9sZW5ndGggKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiUmF0aW5nXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfcmF0aW5nICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjVcIiBoaWRkZW4+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2Zvcm1hdCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCI+Rm9ybWF0PC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gJzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJGb3JtYXRcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9mb3JtYXQgKyAnXCInICsnPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vICc8b3B0aW9uIHNlbGVjdGVkPk9wZW4gdGhpcyBzZWxlY3QgbWVudTwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiRFZEXCInICsgRFZEc2VsICsgJz5EVkQ8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiJyArIFNUUnNlbCArICc+U3RyZWFtaW5nPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJWSFNcIicgKyBWSFNzZWwgKyAnPlZIUzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPC9zZWxlY3Q+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHQnPC9kaXY+J1xyXG5cdFx0XHRcdFx0O1xyXG5cclxuXHRcdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0JykuYXBwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpZHgrMSA9PT0gcmVzcC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfYWRtaW4ucmVhZHkoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSkuZmFpbCggZnVuY3Rpb24gKCBqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKSB7XHJcblx0XHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1cycpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yVGhyb3duOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cclxuXHRcdFx0dmFyIGVyck1zZyA9ICc8ZGl2IGlkPVwibW92aWVfbGlzdF9zdGF0dXNcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmcgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+JyArXHJcblx0XHRcdFx0XHQnPHNwYW4gaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c19tc2dcIj5UaGVyZSB3YXMgYSBwcm9ibGVtIGxvYWRpbmcgdGhlIG1vdmllcy48L2JyPlRyeSByZWZyZXNoaW5nIHRoZSBwYWdlIGFuZCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cywgcGxlYXNlIGNvbnRhY3QgdXMuPC9zcGFuPicgK1xyXG5cdFx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHRcclxuXHRcdFx0JCgnI21vdmllX2FkbWluJykucHJlcGVuZChlcnJNc2cpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRyZWFkeSA6ICgpID0+IHtcclxuXHRcdCQoJyNtb3ZpZV9saXN0X3N0YXR1cycpLmFsZXJ0KCdjbG9zZScpO1xyXG5cclxuXHRcdG1vdmllX2FkbWluLmFkZF9tb3ZpZV9jbGljaygpO1xyXG5cdFx0JCgnLmFkZC1tb3ZpZScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG5cclxuXHRcdFxyXG5cdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19maWVsZCgpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2hvdmVyKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5yYXRpbmdfY2xpY2soKTtcclxuXHRcdC8vIG1vdmllX2FkbWluLnNhdmVfb25lX2NsaWNrKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jbGljaygpO1xyXG5cdH1cclxuXHQsXHJcblx0YWRkX21vdmllX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLmFkZC1tb3ZpZScpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRtb3ZpZV9hZG1pbi5hZGRfbW92aWUoKTtcclxuXHJcblx0XHRcdCQoJ2lucHV0JykuZmlyc3QoKS5mb2N1cygpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRhZGRfbW92aWUgOiAoKSA9PiB7XHJcblx0XHR2YXIgbW92aWVfcmVjaWQgPSBEYXRlLm5vdygpO1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFycyA9IG1vdmllX2FkbWluLnNlZWluZ19zdGFycygnMScpO1xyXG5cclxuXHRcdHZhciBtb3ZpZV9saXN0aW5nID0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9saXN0aW5nIGZvcm0tZ3JvdXBcIiAnICtcclxuXHRcdFx0XHQnZGF0YS1yZWNpZD1cIicgKyBtb3ZpZV9yZWNpZCArJ1wiJyArXHJcblx0XHRcdFx0Ly8gJ2RhdGEtcmVjaWQ9XCJuZXdcIicgK1xyXG5cdFx0XHRcdCdkYXRhLWhhc2NoZ3M9XCJmYWxzZVwiJyArXHJcblx0XHRcdFx0J2lkPVwibW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHQnY2xhc3M9XCJtb3ZpZV9saXN0aW5nX25ld1wiJyArXHJcblx0XHRcdCc+JyArXHJcblx0XHRcdFx0Ly8gJzxkaXYgY2xhc3M9XCJtb3ZpZV9wb3N0ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3RpdGxlIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIj5UaXRsZSA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KDUwIGNoYXJhY3RlcnMgb3IgbGVzcyk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfdGl0bGVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdCcgdmFsdWU9XCJcIicgK1xyXG5cdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlRpdGxlXCInICtcclxuXHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwibmV3X21vdmllXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0Ly8gJyBwbGFjZWhvbGRlcj1cIlRoZSBCaWcgRmxpY2sgVGl0bGVcIicgK1xyXG5cdFx0XHRcdFx0XHQnIHR5cGU9XCJ0ZXh0XCIgbWlubGVuZ3RoPVwiMVwiIG1heGxlbmd0aD1cIjUwXCIgcmVxdWlyZWQ+JyArXHJcblx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZGV0YWlsc1wiPicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV95ZWFyIGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCI+WWVhciA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+KGZyb20gMTgwMCB0byAyMTAwKTwvc21hbGw+PC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3llYXJfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIlwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJZZWFyXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIGRhdGEtb2d2YWw9XCJuZXdfbW92aWVfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBwbGFjZWhvbGRlcj1cIjIwMTlcIicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgdHlwZT1cIm51bWJlclwiIG1pbj1cIjE4MDBcIiBtYXg9XCIyMTAwXCIgcmVxdWlyZWQ+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX2xlbmd0aCBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCI+TGVuZ3RoIDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oaW4gbWludXRlcyk8L3NtYWxsPjwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9sZW5ndGhfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIlwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJMZW5ndGhcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9sZW5ndGggKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQvLyAnIHBsYWNlaG9sZGVyPVwiMTUwXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCIgcmVxdWlyZWQ+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZyBmb3JtLWZpZWxkLWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGxhYmVsIGZvcj1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCI+UmF0aW5nPC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICtcclxuXHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiMVwiJyArXHJcblx0XHRcdFx0XHRcdFx0JyBkYXRhLWZsZG5hbWU9XCJSYXRpbmdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV9yYXRpbmcgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgbWF4PVwiNVwiIGhpZGRlbiByZXF1aXJlZD4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfZm9ybWF0IGZvcm0tZmllbGQtY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIj5Gb3JtYXQ8L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHQvLyAnPHNlbGVjdCBpZD1cIm1vdmllX2Zvcm1hdF8nICsgbW92aWVfcmVjaWQgKyAnXCIgY2xhc3M9XCJjdXN0b20tc2VsZWN0XCInICtcclxuXHRcdFx0XHRcdFx0JzxzZWxlY3QgaWQ9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICtcclxuXHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIkZvcm1hdFwiJyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX2Zvcm1hdCArICdcIicgKyc+JyArXHJcblx0XHRcdFx0XHRcdFx0Ly8gJzxvcHRpb24gc2VsZWN0ZWQ+T3BlbiB0aGlzIHNlbGVjdCBtZW51PC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJEVkRcIj5EVkQ8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIlN0cmVhbWluZ1wiIHNlbGVjdGVkPlN0cmVhbWluZzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiVkhTXCI+VkhTPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdCc8L3NlbGVjdD4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdCc8L2Rpdj4nXHJcblx0XHQ7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5wcmVwZW5kKG1vdmllX2xpc3RpbmcpO1xyXG5cdH1cclxuXHQsXHJcblx0c2VlaW5nX3N0YXJzIDogKG1vdmllX3JhdGluZykgPT4ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBTdGFyIEFTQ0lJIGNvZGVzXHJcblx0XHQgKiAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cdFx0ICogU29saWQgc3RhcjogJiM5NzMzO1xyXG5cdFx0ICogT3V0bGluZSBzdGFyOiAmIzk3MzQ7XHJcblx0XHQgKi9cclxuXHRcdHZhciBtb3ZpZV9yYXRpbmdfc3RhcnMgPSAnJztcclxuXHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8ZGl2IGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXJzXCI+JztcclxuXHRcdC8qKiBTZXQgdGhlIGxvd2VzdCB2YWx1ZSAqL1xyXG5cdFx0dmFyIHJhdGluZ3N0YXIgPSAxO1xyXG5cdFx0LyoqIEFkZCBhIHNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIHRoZSBzZWxlY3RlZCByYXRpbmcgdmFsdWUgaXMgcmVhY2hlZCAqL1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb3ZpZV9yYXRpbmc7IGkrKykge1xyXG5cdFx0XHRtb3ZpZV9yYXRpbmdfc3RhcnMgKz0gJzxzcGFuIGNsYXNzPVwibW92aWVfcmF0aW5nX3N0YXIgbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzMgPC9zcGFuPic7XHJcblx0XHRcdFxyXG5cdFx0XHRyYXRpbmdzdGFyKys7XHJcblx0XHR9XHJcblx0XHQvKiogU3VidHJhY3QgdGhlIHNlbGVjdGVkIHJhdGluZyBmcm9tIHRoZSBoaWdoZXN0IHBvc3NpYmxlIHRvIGdldCBhbiB1bnNlbGVjdGVkL2ZpbGxlciBjb3VudCAqL1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QgPSA1O1xyXG5cdFx0dmFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdCA9IG1vdmllX3JhdGluZ19zdGFyX3RvdGFsQ3QtbW92aWVfcmF0aW5nO1xyXG5cdFx0LyoqIEFkZCBhbiB1bnNlbGVjdGVkIGluZGljYXRvciB0byB0aGUgb2JqZWN0IHVudGlsIGZpbGxlciBjb3VudCBpcyByZWFjaGVkICovXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZEN0OyBpKyspIHtcclxuXHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRcIiBkYXRhLXJhdGluZ3N0YXI9XCInICsgcmF0aW5nc3RhciArICdcIj4mIzk3MzQgIDwvc3Bhbj4nO1xyXG5cclxuXHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0fVxyXG5cdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8L2Rpdj4nO1xyXG5cclxuXHRcdHJldHVybiBtb3ZpZV9yYXRpbmdfc3RhcnM7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2ZpZWxkIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignaW5wdXQgY2hhbmdlJywgJ2lucHV0JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIG9nVmFsID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCh0aGlzKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdFx0XHQvKiogSWYgYSAudmFsQ2hnTXNnIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdFx0LyppZiAoICQodGhpcykubmV4dEFsbCgnLnZhbENoZ01zZycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuYWZ0ZXIoJzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWQgdmFsQ2hnTXNnXCI+VW5zYXZlZCBjaGFuZ2U8L3NtYWxsPicpO1xyXG5cdFx0XHRcdH0qL1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19saXN0aW5nKCAkKHRoaXMpICk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLm9uKCdjaGFuZ2UnLCAnc2VsZWN0JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIG9nVmFsID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCh0aGlzKS52YWwoKTtcclxuXHJcblx0XHRcdC8qKiBJZiB0aGUgY3VycmVudCB2YWx1ZSBpc24ndCB0aGUgb3JpZ2luYWwgdmFsdWUsIG1hcmsgdGhlIGZpZWxkICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdFx0XHQvKiogSWYgYSAudmFsQ2hnTXNnIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdFx0LyppZiAoICQodGhpcykubmV4dEFsbCgnLnZhbENoZ01zZycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHRcdCQodGhpcykuYWZ0ZXIoJzxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWQgdmFsQ2hnTXNnXCI+VW5zYXZlZCBjaGFuZ2U8L3NtYWxsPicpO1xyXG5cdFx0XHRcdH0qL1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3ZhbENoZycpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4udHJhY2tfY2hhbmdlc19saXN0aW5nKCAkKHRoaXMpICk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHRyYWNrX2NoYW5nZXNfbGlzdGluZyA6IChqcU9iaikgPT4ge1xyXG5cdFx0dmFyIGhhc0NoZ3MgPSBqcU9iai5jbG9zZXN0KCcubW92aWVfbGlzdGluZycpLmZpbmQoJ2lucHV0LCBzZWxlY3QnKS5oYXNDbGFzcygndmFsQ2hnJyk7XHJcblxyXG5cdFx0aWYgKGhhc0NoZ3MpIHtcclxuXHRcdFx0anFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLWhhc2NoZ3MnLCB0cnVlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1oYXNjaGdzJywgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdG1vdmllX2FkbWluLnNhdmVfYWxsX2NoZWNrKCk7XHJcblx0fVxyXG5cdCxcclxuXHRyYXRpbmdfaG92ZXIgOiAoKSA9PiB7XHJcblx0XHQvKiogSGF2ZSB0byB1c2UgZGVsZWdhdGVkIGFwcHJvYWNoIHRvIHdvcmsgd2l0aCBpbmplY3RlZCBlbGVtZW50cyAoZS5nLiwgbmV3IG1vdmllKSAqL1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKVxyXG5cdFx0XHQub24oJ21vdXNlZW50ZXInLCAnLm1vdmllX3JhdGluZ19zdGFyJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFxyXG5cdFx0XHRcdC8qKiBNYWtlIGhvdmVyZWQgaXRlbSBpbnRvIHNlbGVjdGVkIHN0YXRlICovXHJcblx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzMgJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBcclxuXHRcdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGJlZm9yZSBob3ZlcmVkIGl0ZW0gaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdCQodGhpcykucHJldkFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuaHRtbCgnJiM5NzMzICcpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfcHJldlNpYicpO1xyXG5cclxuXHRcdFx0XHQvKiogXHJcblx0XHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBhZnRlciBob3ZlcmVkIGl0ZW0gaW50byB0aGUgdW5zZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHQkKHRoaXMpLm5leHRBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmh0bWwoJyYjOTczNCAnKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX25leHRTaWInKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0Lm9uKCdtb3VzZWxlYXZlJywgJy5tb3ZpZV9yYXRpbmdfc3RhcicsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfcHJldlNpYicpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfbmV4dFNpYicpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8qKiBSZXNldCBhbGwgc3RhcnMgdG8gb3JpZ2luYWwgc3RhdGUgKi9cclxuXHRcdFx0XHRpZiAoICQodGhpcykuaGFzQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkJykgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoJyYjOTczMyAnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzQgJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoJy5tb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLmh0bWwoJyYjOTczMyAnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCcubW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpLmh0bWwoJyYjOTczNCAnKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LFxyXG5cdHJhdGluZ19jbGljayA6ICgpID0+IHtcclxuXHRcdC8vICQoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignY2xpY2snLCAnLm1vdmllX3JhdGluZ19zdGFyJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIG1vdmllX3JhdGluZ19zZWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmF0aW5nc3RhcicpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0LyoqIEZpcmUgY2hhbmdlIGV2ZW50IG9uIGFzc29jaWF0ZWQgaW5wdXQgKi9cclxuXHRcdFx0JCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbChtb3ZpZV9yYXRpbmdfc2VsKS5jaGFuZ2UoKTtcclxuXHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQoJyNtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkKS5hdHRyKCdkYXRhLW9ndmFsJyk7XHJcblx0XHRcdHZhciBjdXJyVmFsID0gJCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbCgpO1xyXG5cclxuXHRcdFx0LyoqIElmIHRoZSBjdXJyZW50IHZhbHVlIGlzbid0IHRoZSBvcmlnaW5hbCB2YWx1ZSwgbWFyayB0aGUgZmllbGQgKi9cclxuXHRcdFx0LyoqIENoYW5nZSBjb2xvcnMgb24gcmF0aW5nIGRpc3BsYXkgdG8gbWltaWMgaW5wdXQgZmllbGRzICovXHJcblx0XHRcdGlmIChvZ1ZhbCAhPT0gY3VyclZhbCkge1xyXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLmFkZENsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2Ugc2VsY3RlZCBpdGVtIFxyXG5cdFx0XHQgKiBhbmQgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGl0IFxyXG5cdFx0XHQgKiBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJyk7XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgc2VsZWN0ZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmVfY2hlY2sgOiAoKSA9PiB7XHJcblx0XHQvLyBjaGVjayBpZiBmaWVsZHMgYXNzb2NpYXRlZCB0byBnaXZlbiBzYXZlIGJ1dHRvbiBoYXZlIGNoYW5nZWRcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsX2NoZWNrIDogKCkgPT4ge1xyXG5cdFx0aWYgKCAkKCcudmFsQ2hnJykubGVuZ3RoICE9PSAwICkge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHJcblx0XHRcdC8qKiBJZiBhbiAubXNnX3Vuc2F2ZWRDaGdzIGlzbid0IGFscmVhZHkgcHJlc2VudCwgYWRkIGl0ICovXHJcblx0XHRcdGlmICggJCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfdW5zYXZlZENoZ3MnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3Vuc2F2ZWRDaGdzIG1zZy13YXJuaW5nXCI+VGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlcyE8L3NtYWxsPicpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkKCcuc2F2ZS1hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ191bnNhdmVkQ2hncycpLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmVfY2xpY2sgOiAoKSA9PiB7XHJcblx0XHQkKCcuc2F2ZV9pdGVtJykuY2xpY2soIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdCQodGhpcykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHRcdFx0dmFyIG1vdmllX3JlY2lkID0gJCh0aGlzKS5hdHRyKCdkYXRhLXJlY2lkJyk7XHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi5zYXZlX29uZShtb3ZpZV9yZWNpZCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsX2NsaWNrIDogKCkgPT4ge1xyXG5cdFx0JCgnLnNhdmUtYWxsJykuY2xpY2soIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdCQoJy5zYXZlLWFsbCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblxyXG5cdFx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2l0ZW0gOiAobW92aWVfcmVjaWQpID0+IHtcclxuXHRcdHZhciByZXFfb2JqID0ge1xyXG5cdFx0XHQnSUQnOiBtb3ZpZV9yZWNpZFxyXG5cdFx0fTtcclxuXHRcdHZhciByZXFfb2JqX2ZsZHMgPSB7fTtcclxuXHRcdHZhciBjaGdkRmxkc0FyciA9ICQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLnZhbENoZycpO1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIEZvciBlYWNoIGNoYW5nZWQgZmllbGQsIFxyXG5cdFx0ICogZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgdGhhdCBoYXMgdGhlIGFzc29jaWF0ZWQgZmllbGQgbmFtZSBpbiB0aGUgZGF0YSBzdG9yZVxyXG5cdFx0ICogYWxvbmcgd2l0aCB0aGUgZmllbGQgdmFsdWUgXHJcblx0XHQgKiB0byBidWlsZCBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIFxyXG5cdFx0ICogdG8gc2VuZCBpbiBlYWNoIHJlcXVlc3RcclxuXHRcdCAqL1xyXG5cclxuXHRcdCQuZWFjaChjaGdkRmxkc0FyciwgZnVuY3Rpb24gKGlkeF9mbGQsIGl0bV9mbGQpIHtcclxuXHRcdFx0dmFyIGZsZE5hbWUgPSAkKGl0bV9mbGQpLmF0dHIoJ2RhdGEtZmxkbmFtZScpO1xyXG5cdFx0XHR2YXIgZmxkVmFsID0gJChpdG1fZmxkKS52YWwoKTtcclxuXHJcblx0XHRcdGlmICggZmxkTmFtZSA9PT0gJ1llYXInIHwgZmxkTmFtZSA9PT0gJ0xlbmd0aCcgfCBmbGROYW1lID09PSAnUmF0aW5nJyApIHtcclxuXHRcdFx0XHRmbGRWYWwgPSBOdW1iZXIoZmxkVmFsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVxX29ial9mbGRzW2ZsZE5hbWVdID0gZmxkVmFsO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmVxX29iai5maWVsZHMgPSByZXFfb2JqX2ZsZHM7XHJcblxyXG5cdFx0dmFyIHJlcV9zdHIgPSBKU09OLnN0cmluZ2lmeShyZXFfb2JqKTtcclxuXHJcblx0XHR2YXIgc2F2ZUl0ZW1Qcm9tID0gbmV3IFByb21pc2UoIGZ1bmN0aW9uIChwcm9tU3VjY2VzcywgcHJvbUVycm9yKSB7XHJcblx0XHRcdCQuYWpheCh7XHJcblx0XHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF91cGRhdGVfbW92aWUnLFxyXG5cdFx0XHRcdHR5cGU6ICdQQVRDSCcsXHJcblx0XHRcdFx0Y29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRkYXRhOiByZXFfc3RyLFxyXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwLCB0ZXh0U3RhdHVzLCBqcVhocikge1xyXG5cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzIGV2ZW50Jyk7XHJcblxyXG5cdFx0XHRcdFx0LyoqIFJlc2V0IGZpZWxkcyB0byB1bmNoYW5nZWQgc3R5bGUgKi9cclxuXHRcdFx0XHRcdCQoJyNtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCkuZmluZCgnLnZhbENoZywgLnZhbENoZy1jb2xvcnNPbmx5JykucmVtb3ZlQ2xhc3MoJ3ZhbENoZyB2YWxDaGctY29sb3JzT25seScpO1xyXG5cclxuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLm1vdmllX3JhdGluZ19zdGFycycpLnJlbW92ZUNsYXNzKCd2YWxDaGctY29sb3JzT25seScpO1xyXG5cclxuXHRcdFx0XHRcdHByb21TdWNjZXNzKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRlcnJvcjogZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xyXG5cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvciBldmVudCcpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnanFYSFI6ICcpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coanFYSFIpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3JUaHJvd246ICcpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgZXJyX2Rpc3A7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBqcVhIUi5yZXNwb25zZUpTT04gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdGxldCBlcnJfc3RhdHVzQ29kZSA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnc3RhdHVzQ29kZSddO1xyXG5cdFx0XHRcdFx0XHRsZXQgZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xyXG5cdFx0XHRcdFx0XHRsZXQgZXJyX21zZyA9IGpxWEhSLnJlc3BvbnNlSlNPTlsnbWVzc2FnZSddO1xyXG5cclxuXHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBlcnJfc3RhdHVzQ29kZSArICdcXG4nICsgZXJyX2lzICsgJ1xcbicgKyBlcnJfbXNnO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0ZXJyX2Rpc3AgPSBqcVhIUi5yZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHByb21FcnJvcigpO1xyXG5cclxuXHRcdFx0XHRcdGFsZXJ0KCdFcnJvcjpcXG4nICsgZXJyX2Rpc3ApO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdjb21wbGV0ZSBldmVudCcpO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHNhdmVJdGVtUHJvbTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfb25lIDogKG1vdmllX3JlY2lkKSA9PiB7XHJcblx0XHR2YXIgc2F2ZUl0ZW0gPSBtb3ZpZV9hZG1pbi5zYXZlX2l0ZW0obW92aWVfcmVjaWQpO1xyXG5cclxuXHRcdHNhdmVJdGVtLnRoZW4oXHJcblx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQvKiogRmxhZyBhbiBlbGVtZW50IHNvIHRoZSBtZXNzYWdlIGNhbiBiZSBwbGFjZWQgY29udGV4dHVhbGx5ICovXHJcblx0XHRcdFx0Ly9cclxuXHJcblx0XHRcdFx0bW92aWVfYWRtaW4uc3RhdHVzX21zZygnc2F2ZV9vbmVfc3VjY2VzcycpO1xyXG5cdFx0XHR9LCBcclxuXHRcdFx0ZnVuY3Rpb24gKGVyck9iaikge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyT2JqKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LFxyXG5cdHNhdmVfYWxsIDogKCkgPT4ge1xyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfc2F2ZVN0YXR1cycpLnJlbW92ZSgpO1xyXG5cclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncycpLnByZXBlbmQoJzxzbWFsbCBjbGFzcz1cIm1zZ19zYXZlU3RhdHVzIG1zZ19zYXZpbmdBbGxDaGdzIG1zZy1pbmZvXCI+U2F2aW5nIGFsbCBjaGFuZ2VzLi4uPC9zbWFsbD4nKTtcclxuXHJcblx0XHQvKiogR2F0aGVyIGNoYW5nZXMgYW5kIHNlbmQgUEFUQ0ggcmVxdWVzdCB0byBBUEkgcGVyIG1vdmllICovXHJcblxyXG5cdFx0LyoqIFxyXG5cdFx0ICogQ2hhbmdlcyBuZWVkIHRvIGJlIGdyb3VwZWQgcGVyIHJlY29yZCAoaS5lLiwgbW92aWUpXHJcblx0XHQgKiBcclxuXHRcdCAqIFByZXR0eSBzdXJlIHRoZSBiZXN0IG9wdGlvbiBpcyB0byBcclxuXHRcdCAqIGZsYWcgYSBwYXJlbnQgZWxlbWVudCAoZS5nLiwgXCIubW92aWVfbGlzdGluZ1wiKSBvbiBjaGFuZ2VzLFxyXG5cdFx0ICogdXNpbmcgdGhhdCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgXHJcblx0XHQgKiB0byB0cmF2ZXJzZSBkb3duIGNoaWxkcmVuXHJcblx0XHQgKiBhbmQgY29sbGVjdCBjaGFuZ2VzLlxyXG5cdFx0ICpcclxuXHRcdCAqIElmIGFsbCBjaGFuZ2VzIGZvciBhIGdpdmVuIHJlY29yZCBhcmUgYmFja2VkIG91dFxyXG5cdFx0ICogY2xlYXIgZmxhZyBvbiBwYXJlbnQgZWxlbWVudFxyXG5cdFx0ICovXHJcblxyXG5cdFx0dmFyIGNoZ2RNb3ZpZXNBcnIgPSAkKCcubW92aWVfbGlzdGluZ1tkYXRhLWhhc2NoZ3M9XCJ0cnVlXCJdJyk7XHJcblxyXG5cdFx0JC5lYWNoKGNoZ2RNb3ZpZXNBcnIsIGZ1bmN0aW9uIChpZHgsIGl0bSkge1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKGl0bSkuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cclxuXHRcdFx0dmFyIHNhdmVJdGVtID0gbW92aWVfYWRtaW4uc2F2ZV9pdGVtKG1vdmllX3JlY2lkKTtcclxuXHJcblx0XHRcdHNhdmVJdGVtLnRoZW4oXHJcblx0XHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKGlkeCsxID09PSBjaGdkTW92aWVzQXJyLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRtb3ZpZV9hZG1pbi5zdGF0dXNfbXNnKCdzYXZlX2FsbF9zdWNjZXNzJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgXHJcblx0XHRcdFx0ZnVuY3Rpb24gKGVyck9iaikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJPYmopO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c3RhdHVzX21zZyA6IChzdGF0dXNfbXNnKSA9PiB7XHJcblx0XHRzd2l0Y2ggKHN0YXR1c19tc2cpIHtcclxuXHRcdFx0Y2FzZSAnc2F2ZV9vbmVfc3VjY2Vzcyc6XHJcblx0XHRcdFx0Ly8gXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdzYXZlX29uZV9lcnJvcic6XHJcblx0XHRcdFx0Ly8gXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdzYXZlX2FsbF9zdWNjZXNzJzpcclxuXHRcdFx0XHQvKiogUmVtb3ZlIGFueSBtZXNzYWdlcyBhYm91dCBzYXZlIHN0YXR1cyAqL1xyXG5cdFx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3NhdmVTdGF0dXMnKS5yZW1vdmUoKTtcclxuXHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX2NoZ3NTYXZlZCBtc2ctc3VjY2Vzc1wiPkFsbCBjaGFuZ2VzIHNhdmVkLjwvc21hbGw+Jyk7XHJcblxyXG5cdFx0XHRcdC8qKiBBZnRlciBzcGVjaWZpY2VkIGRlbGF5LCBmYWRlIHRoZSBtZXNzYWdlLCB0aGVuIHJlbW92ZSBmcm9tIERPTSAqL1xyXG5cdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19jaGdzU2F2ZWQnKS5mYWRlT3V0KCdzbG93JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0sIDIwMDApO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2F2ZV9hbGxfZXJyb3InOlxyXG5cdFx0XHRcdC8vIFxyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcbn0pLmluaXQoKTtcclxuIl19
