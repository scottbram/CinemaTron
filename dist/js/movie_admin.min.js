var e="object"==typeof e?e:{};(e={init:function(){$.ajax({url:"/.netlify/functions/at_api",dataType:"json"}).done(function(s,a,t){s.length>0&&$.each(s,function(a,t){var l=t.id,i=t.fields,o=i.Title,n=i.Year,r=i.Length,_=i.Rating,c=i.Format,m=(i.Art,"");m+='<div class="movie_rating_stars">';for(var v=1,g=0;g<_;g++)m+='<span class="movie_rating_star movie_rating_star_selected" data-ratingstar="'+v+'">&#9733 </span>',v++;var d,h,u,f=5-_;for(g=0;g<f;g++)m+='<span class="movie_rating_star movie_rating_star_unselected" data-ratingstar="'+v+'">&#9734  </span>',v++;switch(m+="</div>",c){case"DVD":d="selected";break;case"Streaming":h="selected";break;case"VHS":u="selected"}var p='<div class="movie_listing form-group" data-recid="'+l+'"data-haschgs="false"id="movie_listing_'+l+'"><div class="movie_title"><label for="movie_title_'+l+'">Title <small class="text-muted">(50 characters or less)</small></label><input id="movie_title_'+l+'" value="'+o+'" data-fldname="Title" data-ogval="'+o+'" class="form-control" type="text" minlength="1" maxlength="50"></div><div class="movie_details"><div class="movie_year"><label for="movie_year_'+l+'">Year <small class="text-muted">(from 1800 to 2100)</small></label><input id="movie_year_'+l+'" value="'+n+'" data-fldname="Year" data-ogval="'+n+'" class="form-control" type="number" min="1800" max="2100"></div><div class="movie_length"><label for="movie_length_'+l+'">Length <small class="text-muted">(in minutes)</small></label><input id="movie_length_'+l+'" value="'+r+'" data-fldname="Length" data-ogval="'+r+'" class="form-control" type="number" min="0" max="500"></div><div class="movie_rating"><label for="movie_rating_'+l+'">Rating</label>'+m+'<input id="movie_rating_'+l+'" value="'+_+'" data-fldname="Rating" data-ogval="'+_+'" class="form-control" type="number" min="1" max="5" hidden></div><div class="movie_format"><label for="movie_format_'+l+'">Format</label><select id="movie_format_'+l+'" class="custom-select" data-fldname="Format" data-ogval="'+c+'"><option value="DVD"'+d+'>DVD</option><option value="Streaming"'+h+'>Streaming</option><option value="VHS"'+u+">VHS</option></select></div></div></div>";$("#movie_admin_list").append(p),a+1===s.length&&e.ready()})}).fail(function(e,s,a){$("#movie_list_status").alert("close"),console.log("textStatus: "),console.log(s),console.log("errorThrown: "),console.log(a);$("#movie_admin").prepend('<div id="movie_list_status" class="alert alert-warning fade show" role="alert"><span id="movie_list_status_msg">There was a problem loading the movies.</br>Try refreshing the page and if the problem persists, please contact us.</span></div>')})},ready:function(){$("#movie_list_status").alert("close"),$(".save_all").show(),e.track_changes_field(),e.rating_hover(),e.rating_click(),e.save_all_click()},track_changes_field:function(){$("#movie_admin_list").on("input change","input",function(s){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))}),$("#movie_admin_list").on("change","select",function(s){$(this).attr("data-ogval")!==$(this).val()?$(this).addClass("valChg"):$(this).removeClass("valChg").nextAll(".valChgMsg").remove(),e.track_changes_listing($(this))})},track_changes_listing:function(s){console.log("jqObj: "),console.log(s);var a=s.closest(".movie_listing").find("input, select").hasClass("valChg");console.log("jqObj.closest('.movie_listing'): "),console.log(s.closest(".movie_listing")),a?s.closest(".movie_listing").attr("data-haschgs",!0):s.closest(".movie_listing").attr("data-haschgs",!1),e.save_all_check()},rating_hover:function(){$(".movie_rating_star").hover(function(){$(this).html("&#9733 "),$(this).prevAll(".movie_rating_star").html("&#9733 ").addClass("movie_rating_hover_prevSib"),$(this).nextAll(".movie_rating_star").html("&#9734 ").addClass("movie_rating_hover_nextSib")},function(){$(this).siblings().removeClass("movie_rating_hover_prevSib").removeClass("movie_rating_hover_nextSib"),$(this).hasClass("movie_rating_star_selected")?$(this).html("&#9733 "):$(this).html("&#9734 "),$(this).siblings(".movie_rating_star_selected").html("&#9733 "),$(this).siblings(".movie_rating_star_unselected").html("&#9734 ")})},rating_click:function(){$(".movie_rating_star").click(function(e){var s=$(this).attr("data-ratingstar"),a=$(this).closest(".movie_listing").attr("data-recid");$("#movie_rating_"+a).val(s).change(),$(this).addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).prevAll(".movie_rating_star").addClass("movie_rating_star_selected").removeClass("movie_rating_star_unselected"),$(this).nextAll(".movie_rating_star").addClass("movie_rating_star_unselected").removeClass("movie_rating_star_selected")})},save_all_check:function(){0!==$(".valChg").length?($(".save_all").prop("disabled",!1),0===$("#movie_admin_list_actions_msgs .msg_unsavedChgs").length&&$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_unsavedChgs msg-warning">There are unsaved changes!</small>')):($(".save_all").prop("disabled",!0),$("#movie_admin_list_actions_msgs .msg_unsavedChgs").remove())},save_all_click:function(){$(".save_all").click(function(s){$(".save_all").prop("disabled",!0),e.save_all()})},save_all:function(){$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_savingChgs msg-info">Saving changes...</small>');var s=$('.movie_listing[data-haschgs="true"]');$.each(s,function(a,t){var l=$(t).attr("data-recid"),i={ID:l},o={};console.log("movie_recid: "),console.log(l);var n=$("#movie_listing_"+l).find(".valChg");console.log("chgdFldsArr: "),console.log(n),$.each(n,function(e,s){var a=$(s).attr("data-fldname"),t=$(s).val();"Year"===a|"Length"===a|"Rating"===a&&(t=Number(t)),console.log("fldName: "),console.log(a),console.log("fldVal: "),console.log(t),o[a]=t}),i.fields=o,console.log("req_obj: "),console.log(i);var r=JSON.stringify(i);console.log("req_str: "),console.log(r),$.ajax({url:"/.netlify/functions/at_api",type:"PATCH",contentType:"application/json",data:r,success:function(t,l,i){console.log("success event"),console.log("resp: "),console.log(t),console.log("textStatus: "),console.log(l),a+1===s.length&&e.status_msg("save_success")},error:function(e,s,a){var t;console.log("error event"),console.log("jqXHR: "),console.log(e),console.log("textStatus: "),console.log(s),console.log("errorThrown: "),console.log(a),void 0!==e.responseJSON?(err_statusCode=e.responseJSON.statusCode,err_is=e.responseJSON.error,err_msg=e.responseJSON.message,t=err_statusCode+"\n"+err_is+"\n"+err_msg):t=e.responseText,alert("Error:\n"+t)},complete:function(){console.log("complete event")}})})},save_one:function(){},status_msg:function(e){switch(e){case"save_success":$(".valChg").removeClass("valChg"),$("#movie_admin_list_actions_msgs .msg_saveStatus").remove(),$("#movie_admin_list_actions_msgs").prepend('<small class="msg_saveStatus msg_chgsSaved msg-success">Changes saved.</small>'),window.setTimeout(function(){$("#movie_admin_list_actions_msgs .msg_chgsSaved").fadeOut("slow",function(e){$(this).remove()})},2e3)}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdmllX2FkbWluLmpzIl0sIm5hbWVzIjpbIm1vdmllX2FkbWluIiwiaW5pdCIsIiQiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJkb25lIiwicmVzcCIsInRleHRTdGF0dXMiLCJqcVhIUiIsImxlbmd0aCIsImVhY2giLCJpZHgiLCJpdG0iLCJtb3ZpZV9yZWNpZCIsImlkIiwibW92aWVfb2JqIiwiZmllbGRzIiwibW92aWVfdGl0bGUiLCJUaXRsZSIsIm1vdmllX3llYXIiLCJZZWFyIiwibW92aWVfbGVuZ3RoIiwiTGVuZ3RoIiwibW92aWVfcmF0aW5nIiwiUmF0aW5nIiwibW92aWVfZm9ybWF0IiwiRm9ybWF0IiwibW92aWVfcmF0aW5nX3N0YXJzIiwiQXJ0IiwicmF0aW5nc3RhciIsImkiLCJEVkRzZWwiLCJTVFJzZWwiLCJWSFNzZWwiLCJtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QiLCJtb3ZpZV9saXN0aW5nIiwiYXBwZW5kIiwicmVhZHkiLCJmYWlsIiwiZXJyb3JUaHJvd24iLCJhbGVydCIsImNvbnNvbGUiLCJsb2ciLCJwcmVwZW5kIiwic2hvdyIsInRyYWNrX2NoYW5nZXNfZmllbGQiLCJyYXRpbmdfaG92ZXIiLCJyYXRpbmdfY2xpY2siLCJzYXZlX2FsbF9jbGljayIsIm9uIiwiZSIsInRoaXMiLCJhdHRyIiwidmFsIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJyZW1vdmUiLCJ0cmFja19jaGFuZ2VzX2xpc3RpbmciLCJqcU9iaiIsImhhc0NoZ3MiLCJjbG9zZXN0IiwiZmluZCIsImhhc0NsYXNzIiwic2F2ZV9hbGxfY2hlY2siLCJob3ZlciIsImh0bWwiLCJwcmV2QWxsIiwic2libGluZ3MiLCJjbGljayIsIm1vdmllX3JhdGluZ19zZWwiLCJjaGFuZ2UiLCJwcm9wIiwic2F2ZV9hbGwiLCJjaGdkTW92aWVzQXJyIiwicmVxX29iaiIsIklEIiwicmVxX29ial9mbGRzIiwiY2hnZEZsZHNBcnIiLCJpZHhfZmxkIiwiaXRtX2ZsZCIsImZsZE5hbWUiLCJmbGRWYWwiLCJOdW1iZXIiLCJyZXFfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWNjZXNzIiwianFYaHIiLCJzdGF0dXNfbXNnIiwiZXJyb3IiLCJlcnJfZGlzcCIsInJlc3BvbnNlSlNPTiIsImVycl9zdGF0dXNDb2RlIiwiZXJyX2lzIiwiZXJyX21zZyIsInJlc3BvbnNlVGV4dCIsImNvbXBsZXRlIiwic2F2ZV9vbmUiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiZmFkZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsRUFBeUMsaUJBQWxCLEVBQStCQSxFQUFjLElBQ3ZFQSxFQUFjLENBQ2RDLEtBQU8sV0FDTkMsRUFBRUMsS0FBSyxDQUNOQyxJQUFLLDZCQUNMQyxTQUFVLFNBQ1JDLEtBQU0sU0FBV0MsRUFBTUMsRUFBWUMsR0FLakNGLEVBQUtHLE9BQVMsR0FDakJSLEVBQUVTLEtBQUtKLEVBQU0sU0FBU0ssRUFBS0MsR0FDMUIsSUFBSUMsRUFBY0QsRUFBSUUsR0FVbEJDLEVBQWNILEVBQUlJLE9BQ2xCQyxFQUFlRixFQUFVRyxNQUN6QkMsRUFBZUosRUFBVUssS0FDekJDLEVBQWdCTixFQUFVTyxPQUMxQkMsRUFBZ0JSLEVBQVVTLE9BQzFCQyxFQUFnQlYsRUFBVVcsT0FTMUJDLEdBUmNaLEVBQVVhLElBUUgsSUFDeEJELEdBQXNCLG1DQUl2QixJQUZBLElBQUlFLEVBQWEsRUFFUkMsRUFBSSxFQUFHQSxFQUFJUCxFQUFjTyxJQUNqQ0gsR0FBc0IsK0VBQWlGRSxFQUFhLG1CQUVwSEEsSUFHRCxJQVVJRSxFQUFRQyxFQUFRQyxFQVRoQkMsRUFENEIsRUFDK0JYLEVBRS9ELElBQUtPLEVBQUksRUFBR0EsRUFBSUksRUFBZ0NKLElBQy9DSCxHQUFzQixpRkFBbUZFLEVBQWEsb0JBRXRIQSxJQUtELE9BSEFGLEdBQXNCLFNBR2RGLEdBQ1AsSUFBSyxNQUNKTSxFQUFTLFdBQ1YsTUFDQSxJQUFL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QUFhc0QsSUFPcEJNLFNBQVcsV0FFVjNELFFBQVFDLElBQUksd0JBT2hCMkQsU0FBVyxhQUlYVCxXQUFhLFNBQVVBLEdBQ3RCLE9BQVFBLEdBQ1AsSUFBSyxlQU1KM0YsRUFBRSxXQUFXc0QsWUFBWSxVQUd6QnRELEVBQUUsa0RBQWtEd0QsU0FFcER4RCxFQUFFLGtDQUFrQzBDLFFBQVEsa0ZBRzVDMkQsT0FBT0MsV0FBWSxXQUNsQnRHLEVBQUUsaURBQWlEdUcsUUFBUSxPQUFRLFNBQVV0RCxHQUM1RWpELEVBQUVrRCxNQUFNTSxZQUVQLFNBT0p6RCIsImZpbGUiOiJtb3ZpZV9hZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogbW92aWUtYWRtaW4uanMgKi9cclxudmFyIG1vdmllX2FkbWluID0gKCB0eXBlb2YgKG1vdmllX2FkbWluKSA9PT0gJ29iamVjdCcgKSA/IG1vdmllX2FkbWluIDoge307XHJcbihtb3ZpZV9hZG1pbiA9IHtcclxuXHRpbml0IDogZnVuY3Rpb24gKCkge1xyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiAnLy5uZXRsaWZ5L2Z1bmN0aW9ucy9hdF9hcGknLFxyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nXHJcblx0XHR9KS5kb25lKCBmdW5jdGlvbiAoIHJlc3AsIHRleHRTdGF0dXMsIGpxWEhSICkge1xyXG5cclxuXHRcdFx0Lypjb25zb2xlLmxvZygncmVzcDogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKHJlc3ApOyovXHJcblxyXG5cdFx0XHRpZiAocmVzcC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0JC5lYWNoKHJlc3AsIGZ1bmN0aW9uKGlkeCwgaXRtKSB7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfcmVjaWQgPSBpdG0uaWQ7XHJcblx0XHRcdFx0XHQvKipcclxuXHRcdFx0XHRcdCAgKiBGaWVsZHM6XHJcblx0XHRcdFx0XHQgICogVGl0bGVcclxuXHRcdFx0XHRcdCAgKiBZZWFyXHJcblx0XHRcdFx0XHQgICogTGVuZ3RoXHJcblx0XHRcdFx0XHQgICogUmF0aW5nXHJcblx0XHRcdFx0XHQgICogRm9ybWF0XHJcblx0XHRcdFx0XHQgICogQXJ0XHJcblx0XHRcdFx0XHQgICovXHJcblx0XHRcdFx0XHR2YXIgbW92aWVfb2JqIFx0XHQ9IGl0bS5maWVsZHM7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfdGl0bGUgXHQ9IG1vdmllX29iai5UaXRsZTtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV95ZWFyIFx0XHQ9IG1vdmllX29iai5ZZWFyO1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2xlbmd0aCBcdD0gbW92aWVfb2JqLkxlbmd0aDtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmcgXHQ9IG1vdmllX29iai5SYXRpbmc7XHJcblx0XHRcdFx0XHR2YXIgbW92aWVfZm9ybWF0IFx0PSBtb3ZpZV9vYmouRm9ybWF0O1xyXG5cdFx0XHRcdFx0dmFyIG1vdmllX2FydCBcdFx0PSBtb3ZpZV9vYmouQXJ0O1xyXG5cclxuXHRcdFx0XHRcdC8qKlxyXG5cdFx0XHRcdFx0ICogU3RhciBBU0NJSSBjb2Rlc1xyXG5cdFx0XHRcdFx0ICogLSAtIC0gLSAtIC0gLSAtIC1cclxuXHRcdFx0XHRcdCAqIFNvbGlkIHN0YXI6ICYjOTczMztcclxuXHRcdFx0XHRcdCAqIE91dGxpbmUgc3RhcjogJiM5NzM0O1xyXG5cdFx0XHRcdFx0ICovXHJcblx0XHRcdFx0XHR2YXIgbW92aWVfcmF0aW5nX3N0YXJzID0gJyc7XHJcblx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPGRpdiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyc1wiPic7XHJcblx0XHRcdFx0XHQvKiogU2V0IHRoZSBsb3dlc3QgdmFsdWUgKi9cclxuXHRcdFx0XHRcdHZhciByYXRpbmdzdGFyID0gMTtcclxuXHRcdFx0XHRcdC8qKiBBZGQgYSBzZWxlY3RlZCBpbmRpY2F0b3IgdG8gdGhlIG9iamVjdCB1bnRpbCB0aGUgc2VsZWN0ZWQgcmF0aW5nIHZhbHVlIGlzIHJlYWNoZWQgKi9cclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW92aWVfcmF0aW5nOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0bW92aWVfcmF0aW5nX3N0YXJzICs9ICc8c3BhbiBjbGFzcz1cIm1vdmllX3JhdGluZ19zdGFyIG1vdmllX3JhdGluZ19zdGFyX3NlbGVjdGVkXCIgZGF0YS1yYXRpbmdzdGFyPVwiJyArIHJhdGluZ3N0YXIgKyAnXCI+JiM5NzMzIDwvc3Bhbj4nO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0cmF0aW5nc3RhcisrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0LyoqIFN1YnRyYWN0IHRoZSBzZWxlY3RlZCByYXRpbmcgZnJvbSB0aGUgaGlnaGVzdCBwb3NzaWJsZSB0byBnZXQgYW4gdW5zZWxlY3RlZC9maWxsZXIgY291bnQgKi9cclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3Rhcl90b3RhbEN0ID0gNTtcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkQ3QgPSBtb3ZpZV9yYXRpbmdfc3Rhcl90b3RhbEN0LW1vdmllX3JhdGluZztcclxuXHRcdFx0XHRcdC8qKiBBZGQgYW4gdW5zZWxlY3RlZCBpbmRpY2F0b3IgdG8gdGhlIG9iamVjdCB1bnRpbCBmaWxsZXIgY291bnQgaXMgcmVhY2hlZCAqL1xyXG5cdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWRDdDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPHNwYW4gY2xhc3M9XCJtb3ZpZV9yYXRpbmdfc3RhciBtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkXCIgZGF0YS1yYXRpbmdzdGFyPVwiJyArIHJhdGluZ3N0YXIgKyAnXCI+JiM5NzM0ICA8L3NwYW4+JztcclxuXHJcblx0XHRcdFx0XHRcdHJhdGluZ3N0YXIrKztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArPSAnPC9kaXY+JztcclxuXHJcblx0XHRcdFx0XHR2YXIgRFZEc2VsLCBTVFJzZWwsIFZIU3NlbDtcclxuXHRcdFx0XHRcdHN3aXRjaCAobW92aWVfZm9ybWF0KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ0RWRCc6XHJcblx0XHRcdFx0XHRcdFx0RFZEc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1N0cmVhbWluZyc6XHJcblx0XHRcdFx0XHRcdFx0U1RSc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ1ZIUyc6XHJcblx0XHRcdFx0XHRcdFx0VkhTc2VsID0gJ3NlbGVjdGVkJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBtb3ZpZV9saXN0aW5nID0gJzxkaXYgY2xhc3M9XCJtb3ZpZV9saXN0aW5nIGZvcm0tZ3JvdXBcIiAnICtcclxuXHRcdFx0XHRcdFx0XHQnZGF0YS1yZWNpZD1cIicgKyBtb3ZpZV9yZWNpZCArJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0J2RhdGEtaGFzY2hncz1cImZhbHNlXCInICtcclxuXHRcdFx0XHRcdFx0XHQnaWQ9XCJtb3ZpZV9saXN0aW5nXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHQnPicgK1xyXG5cdFx0XHRcdFx0XHRcdC8vICc8ZGl2IGNsYXNzPVwibW92aWVfcG9zdGVyXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV90aXRsZVwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV90aXRsZV8nICsgbW92aWVfcmVjaWQgKyAnXCI+VGl0bGUgPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPig1MCBjaGFyYWN0ZXJzIG9yIGxlc3MpPC9zbWFsbD48L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX3RpdGxlXycgKyBtb3ZpZV9yZWNpZCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3RpdGxlICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiVGl0bGVcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfdGl0bGUgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cInRleHRcIiBtaW5sZW5ndGg9XCIxXCIgbWF4bGVuZ3RoPVwiNTBcIj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxzXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1vdmllX3llYXJcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV95ZWFyXycgKyBtb3ZpZV9yZWNpZCArICdcIj5ZZWFyIDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4oZnJvbSAxODAwIHRvIDIxMDApPC9zbWFsbD48L2xhYmVsPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPGlucHV0IGlkPVwibW92aWVfeWVhcl8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX3llYXIgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlllYXJcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1vZ3ZhbD1cIicgKyBtb3ZpZV95ZWFyICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMTgwMFwiIG1heD1cIjIxMDBcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibW92aWVfbGVuZ3RoXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8bGFiZWwgZm9yPVwibW92aWVfbGVuZ3RoXycgKyBtb3ZpZV9yZWNpZCArICdcIj5MZW5ndGggPHNtYWxsIGNsYXNzPVwidGV4dC1tdXRlZFwiPihpbiBtaW51dGVzKTwvc21hbGw+PC9sYWJlbD4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxpbnB1dCBpZD1cIm1vdmllX2xlbmd0aF8nICsgbW92aWVfcmVjaWQgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIHZhbHVlPVwiJyArIG1vdmllX2xlbmd0aCArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiTGVuZ3RoXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfbGVuZ3RoICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjUwMFwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9yYXRpbmdcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiPlJhdGluZzwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1vdmllX3JhdGluZ19zdGFycyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8aW5wdXQgaWQ9XCJtb3ZpZV9yYXRpbmdfJyArIG1vdmllX3JlY2lkICsgJ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyB2YWx1ZT1cIicgKyBtb3ZpZV9yYXRpbmcgKyAnXCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtZmxkbmFtZT1cIlJhdGluZ1wiJyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyBkYXRhLW9ndmFsPVwiJyArIG1vdmllX3JhdGluZyArICdcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1XCIgaGlkZGVuPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtb3ZpZV9mb3JtYXRcIj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JzxsYWJlbCBmb3I9XCJtb3ZpZV9mb3JtYXRfJyArIG1vdmllX3JlY2lkICsgJ1wiPkZvcm1hdDwvbGFiZWw+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8c2VsZWN0IGlkPVwibW92aWVfZm9ybWF0XycgKyBtb3ZpZV9yZWNpZCArICdcIiBjbGFzcz1cImN1c3RvbS1zZWxlY3RcIicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgZGF0YS1mbGRuYW1lPVwiRm9ybWF0XCInICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGRhdGEtb2d2YWw9XCInICsgbW92aWVfZm9ybWF0ICsgJ1wiJyArJz4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAnPG9wdGlvbiBzZWxlY3RlZD5PcGVuIHRoaXMgc2VsZWN0IG1lbnU8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnPG9wdGlvbiB2YWx1ZT1cIkRWRFwiJyArIERWRHNlbCArICc+RFZEPC9vcHRpb24+JyArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxvcHRpb24gdmFsdWU9XCJTdHJlYW1pbmdcIicgKyBTVFJzZWwgKyAnPlN0cmVhbWluZzwvb3B0aW9uPicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8b3B0aW9uIHZhbHVlPVwiVkhTXCInICsgVkhTc2VsICsgJz5WSFM8L29wdGlvbj4nICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jzwvc2VsZWN0PicgK1xyXG5cdFx0XHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdFx0JzwvZGl2PidcclxuXHRcdFx0XHRcdDtcclxuXHJcblx0XHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdCcpLmFwcGVuZChtb3ZpZV9saXN0aW5nKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaWR4KzEgPT09IHJlc3AubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdG1vdmllX2FkbWluLnJlYWR5KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pLmZhaWwoIGZ1bmN0aW9uICgganFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG5cdFx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCd0ZXh0U3RhdHVzOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcclxuXHJcblx0XHRcdHZhciBlcnJNc2cgPSAnPGRpdiBpZD1cIm1vdmllX2xpc3Rfc3RhdHVzXCIgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPicgK1xyXG5cdFx0XHRcdFx0JzxzcGFuIGlkPVwibW92aWVfbGlzdF9zdGF0dXNfbXNnXCI+VGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHRoZSBtb3ZpZXMuPC9icj5UcnkgcmVmcmVzaGluZyB0aGUgcGFnZSBhbmQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHVzLjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JztcclxuXHRcdFx0XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbicpLnByZXBlbmQoZXJyTXNnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0cmVhZHkgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQkKCcjbW92aWVfbGlzdF9zdGF0dXMnKS5hbGVydCgnY2xvc2UnKTtcclxuXHJcblx0XHQkKCcuc2F2ZV9hbGwnKS5zaG93KCk7XHJcblx0XHRcclxuXHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfZmllbGQoKTtcclxuXHRcdG1vdmllX2FkbWluLnJhdGluZ19ob3ZlcigpO1xyXG5cdFx0bW92aWVfYWRtaW4ucmF0aW5nX2NsaWNrKCk7XHJcblx0XHRtb3ZpZV9hZG1pbi5zYXZlX2FsbF9jbGljaygpO1xyXG5cclxuXHRcdC8qdmFyIHRlbXBTYXZlV2FybmluZyA9ICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj4nICtcclxuICBcdFx0XHRcdCc8c3Ryb25nPkhFQURTIFVQITwvc3Ryb25nPiBPbmx5IHRoZSBmaXJzdCBtb3ZpZSB0aXRsZSB3aWxsIHNhdmUgYXQgdGhlIG1vbWVudC4uLicgK1xyXG5cdFx0XHQnPC9kaXY+JztcclxuXHJcblx0XHQvLyAkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zJykuaG92ZXIoIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9ucycpLmFwcGVuZCh0ZW1wU2F2ZVdhcm5pbmcpO1xyXG5cdFx0Ly8gfSwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vICQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnMgLmFsZXJ0JykuYWxlcnQoJ2Nsb3NlJyk7XHJcblx0XHQvLyB9KTsqL1xyXG5cdH1cclxuXHQsXHJcblx0dHJhY2tfY2hhbmdlc19maWVsZCA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0Jykub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRcdFx0LyoqIElmIGEgLnZhbENoZ01zZyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRcdC8qaWYgKCAkKHRoaXMpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmFmdGVyKCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkIHZhbENoZ01zZ1wiPlVuc2F2ZWQgY2hhbmdlPC9zbWFsbD4nKTtcclxuXHRcdFx0XHR9Ki9cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3QnKS5vbignY2hhbmdlJywgJ3NlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBvZ1ZhbCA9ICQodGhpcykuYXR0cignZGF0YS1vZ3ZhbCcpO1xyXG5cdFx0XHR2YXIgY3VyclZhbCA9ICQodGhpcykudmFsKCk7XHJcblxyXG5cdFx0XHQvKiogSWYgdGhlIGN1cnJlbnQgdmFsdWUgaXNuJ3QgdGhlIG9yaWdpbmFsIHZhbHVlLCBtYXJrIHRoZSBmaWVsZCAqL1xyXG5cdFx0XHRpZiAob2dWYWwgIT09IGN1cnJWYWwpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd2YWxDaGcnKTtcclxuXHJcblx0XHRcdFx0LyoqIElmIGEgLnZhbENoZ01zZyBpc24ndCBhbHJlYWR5IHByZXNlbnQsIGFkZCBpdCAqL1xyXG5cdFx0XHRcdC8qaWYgKCAkKHRoaXMpLm5leHRBbGwoJy52YWxDaGdNc2cnKS5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmFmdGVyKCc8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkIHZhbENoZ01zZ1wiPlVuc2F2ZWQgY2hhbmdlPC9zbWFsbD4nKTtcclxuXHRcdFx0XHR9Ki9cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd2YWxDaGcnKS5uZXh0QWxsKCcudmFsQ2hnTXNnJykucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1vdmllX2FkbWluLnRyYWNrX2NoYW5nZXNfbGlzdGluZyggJCh0aGlzKSApO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdCxcclxuXHR0cmFja19jaGFuZ2VzX2xpc3RpbmcgOiBmdW5jdGlvbiAoanFPYmopIHtcclxuXHJcblx0XHRjb25zb2xlLmxvZygnanFPYmo6ICcpO1xyXG5cdFx0Y29uc29sZS5sb2coanFPYmopO1xyXG5cclxuXHRcdHZhciBoYXNDaGdzID0ganFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5maW5kKCdpbnB1dCwgc2VsZWN0JykuaGFzQ2xhc3MoJ3ZhbENoZycpO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKFwianFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKTogXCIpO1xyXG5cdFx0Y29uc29sZS5sb2coanFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKSk7XHJcblxyXG5cdFx0aWYgKGhhc0NoZ3MpIHtcclxuXHRcdFx0anFPYmouY2xvc2VzdCgnLm1vdmllX2xpc3RpbmcnKS5hdHRyKCdkYXRhLWhhc2NoZ3MnLCB0cnVlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGpxT2JqLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1oYXNjaGdzJywgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdG1vdmllX2FkbWluLnNhdmVfYWxsX2NoZWNrKCk7XHJcblx0fVxyXG5cdCxcclxuXHRyYXRpbmdfaG92ZXIgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQkKCcubW92aWVfcmF0aW5nX3N0YXInKS5ob3ZlcihcclxuXHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdC8qKiBNYWtlIGhvdmVyZWQgaXRlbSBpbnRvIHNlbGVjdGVkIHN0YXRlICovXHJcblx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzMgJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBcclxuXHRcdFx0XHQgKiBNYWtlIGFsbCBzaWJsaW5nIGl0ZW1zIGJlZm9yZSBob3ZlcmVkIGl0ZW0gaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUgXHJcblx0XHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdCQodGhpcykucHJldkFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuaHRtbCgnJiM5NzMzICcpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfaG92ZXJfcHJldlNpYicpO1xyXG5cclxuXHRcdFx0XHQvKiogXHJcblx0XHRcdFx0ICogTWFrZSBhbGwgc2libGluZyBpdGVtcyBhZnRlciBob3ZlcmVkIGl0ZW0gaW50byB0aGUgdW5zZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHQkKHRoaXMpLm5leHRBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmh0bWwoJyYjOTczNCAnKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX25leHRTaWInKTtcclxuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX3ByZXZTaWInKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX2hvdmVyX25leHRTaWInKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvKiogUmVzZXQgYWxsIHN0YXJzIHRvIG9yaWdpbmFsIHN0YXRlICovXHJcblx0XHRcdFx0aWYgKCAkKHRoaXMpLmhhc0NsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpICkge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5odG1sKCcmIzk3MzMgJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCQodGhpcykuaHRtbCgnJiM5NzM0ICcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCcubW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5odG1sKCcmIzk3MzMgJyk7XHJcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnLm1vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5odG1sKCcmIzk3MzQgJyk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdCxcclxuXHRyYXRpbmdfY2xpY2sgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQkKCcubW92aWVfcmF0aW5nX3N0YXInKS5jbGljayggZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIG1vdmllX3JhdGluZ19zZWwgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcmF0aW5nc3RhcicpO1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb3ZpZV9saXN0aW5nJykuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cclxuXHRcdFx0JCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbChtb3ZpZV9yYXRpbmdfc2VsKS5jaGFuZ2UoKTtcclxuXHRcdFx0Ly8gJCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLnZhbChtb3ZpZV9yYXRpbmdfc2VsKTtcclxuXHRcdFx0Ly8gJCgnI21vdmllX3JhdGluZ18nICsgbW92aWVfcmVjaWQpLmF0dHIoJ3ZhbHVlJywgbW92aWVfcmF0aW5nX3NlbCk7XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2Ugc2VsY3RlZCBpdGVtIFxyXG5cdFx0XHQgKiBhbmQgYWxsIHNpYmxpbmcgaXRlbXMgYmVmb3JlIGl0IFxyXG5cdFx0XHQgKiBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZSBcclxuXHRcdFx0ICogYW5kIGFkZCBjbGFzcyB0aGF0IHdpbGwgbWFrZSB0aGVtIHRoZSBzZWxlY3RlZCBjb2xvclxyXG5cdFx0XHQgKi9cclxuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfdW5zZWxlY3RlZCcpO1xyXG5cdFx0XHQkKHRoaXMpLnByZXZBbGwoJy5tb3ZpZV9yYXRpbmdfc3RhcicpLmFkZENsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdtb3ZpZV9yYXRpbmdfc3Rhcl91bnNlbGVjdGVkJyk7XHJcblxyXG5cdFx0XHQvKiogXHJcblx0XHRcdCAqIE1ha2UgYWxsIHNpYmxpbmcgaXRlbXMgYWZ0ZXIgc2VsZWN0ZWQgaXRlbSBpbnRvIHRoZSB1bnNlbGVjdGVkIHN0YXRlIFxyXG5cdFx0XHQgKiBhbmQgYWRkIGNsYXNzIHRoYXQgd2lsbCBtYWtlIHRoZW0gdGhlIHVuc2VsZWN0ZWQgY29sb3JcclxuXHRcdFx0ICovXHJcblx0XHRcdCQodGhpcykubmV4dEFsbCgnLm1vdmllX3JhdGluZ19zdGFyJykuYWRkQ2xhc3MoJ21vdmllX3JhdGluZ19zdGFyX3Vuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnbW92aWVfcmF0aW5nX3N0YXJfc2VsZWN0ZWQnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGxfY2hlY2sgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoICQoJy52YWxDaGcnKS5sZW5ndGggIT09IDAgKSB7XHJcblx0XHRcdCQoJy5zYXZlX2FsbCcpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG5cclxuXHRcdFx0LyoqIElmIGFuIC5tc2dfdW5zYXZlZENoZ3MgaXNuJ3QgYWxyZWFkeSBwcmVzZW50LCBhZGQgaXQgKi9cclxuXHRcdFx0aWYgKCAkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ191bnNhdmVkQ2hncycpLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c21hbGwgY2xhc3M9XCJtc2dfc2F2ZVN0YXR1cyBtc2dfdW5zYXZlZENoZ3MgbXNnLXdhcm5pbmdcIj5UaGVyZSBhcmUgdW5zYXZlZCBjaGFuZ2VzITwvc21hbGw+Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCQoJy5zYXZlX2FsbCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblx0XHRcdCQoJyNtb3ZpZV9hZG1pbl9saXN0X2FjdGlvbnNfbXNncyAubXNnX3Vuc2F2ZWRDaGdzJykucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdCxcclxuXHRzYXZlX2FsbF9jbGljayA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoJy5zYXZlX2FsbCcpLmNsaWNrKCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHQkKCcuc2F2ZV9hbGwnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cclxuXHRcdFx0bW92aWVfYWRtaW4uc2F2ZV9hbGwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9hbGwgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MgLm1zZ19zYXZlU3RhdHVzJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzJykucHJlcGVuZCgnPHNtYWxsIGNsYXNzPVwibXNnX3NhdmVTdGF0dXMgbXNnX3NhdmluZ0NoZ3MgbXNnLWluZm9cIj5TYXZpbmcgY2hhbmdlcy4uLjwvc21hbGw+Jyk7XHJcblxyXG5cdFx0LyoqIE1hbnVhbGx5LXNwZWNpZmllZCB2YWx1ZXMgZm9yIGRldmVsb3BtZW50ICovXHJcblx0XHQvKnZhciBtb3ZpZV9yZWNpZCA9ICdyZWNnWWdqOUhJZnZYVVptbycsXHJcblx0XHRcdG1vdmllX3RpdGxlID0gJCgnI21vdmllX2xpc3RpbmdfJyArIG1vdmllX3JlY2lkICsgJyAubW92aWVfdGl0bGUgaW5wdXQnKS52YWwoKSxcclxuXHRcdFx0dmFyIHJlcV9vYmogPSB7XHJcblx0XHRcdFx0J0lEJzogbW92aWVfcmVjaWQsXHJcblx0XHRcdFx0J1RpdGxlJzogbW92aWVfdGl0bGVcclxuXHRcdFx0fTsqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVGhpcyB3aWxsIGJyZWFrIHRoZSByZXF1ZXN0IGFzIGEgd2F5IG9mIGRlbW9pbmcgZXJyb3IgaGFuZGxpbmdcclxuXHRcdCAqL1xyXG5cdFx0Ly8gdmFyIG1vdmllX3RpdGxlIFx0PSAkKCcjJyArIG1vdmllX3JlY2lkICsgJyAubW92aWVfdGl0bGUgaW5wdXQnKTtcclxuXHJcblx0XHQvKiogR2F0aGVyIGNoYW5nZXMgYW5kIHNlbmQgUEFUQ0ggcmVxdWVzdCB0byBBUEkgcGVyIG1vdmllICovXHJcblxyXG5cdFx0LyoqIFxyXG5cdFx0ICogQ2hhbmdlcyBuZWVkIHRvIGJlIGdyb3VwZWQgcGVyIHJlY29yZCAoaS5lLiwgbW92aWUpXHJcblx0XHQgKiBcclxuXHRcdCAqIFByZXR0eSBzdXJlIHRoZSBiZXN0IG9wdGlvbiBpcyB0byBcclxuXHRcdCAqIGZsYWcgYSBwYXJlbnQgZWxlbWVudCAoZS5nLiwgXCIubW92aWVfbGlzdGluZ1wiKSBvbiBjaGFuZ2VzLFxyXG5cdFx0ICogdXNpbmcgdGhhdCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgXHJcblx0XHQgKiB0byB0cmF2ZXJzZSBkb3duIGNoaWxkcmVuXHJcblx0XHQgKiBhbmQgY29sbGVjdCBjaGFuZ2VzLlxyXG5cdFx0ICpcclxuXHRcdCAqIElmIGFsbCBjaGFuZ2VzIGZvciBhIGdpdmVuIHJlY29yZCBhcmUgYmFja2VkIG91dFxyXG5cdFx0ICogY2xlYXIgZmxhZyBvbiBwYXJlbnQgZWxlbWVudFxyXG5cdFx0ICovXHJcblxyXG5cdFx0dmFyIGNoZ2RNb3ZpZXNBcnIgPSAkKCcubW92aWVfbGlzdGluZ1tkYXRhLWhhc2NoZ3M9XCJ0cnVlXCJdJyk7XHJcblxyXG5cdFx0JC5lYWNoKGNoZ2RNb3ZpZXNBcnIsIGZ1bmN0aW9uIChpZHgsIGl0bSkge1xyXG5cdFx0XHR2YXIgbW92aWVfcmVjaWQgPSAkKGl0bSkuYXR0cignZGF0YS1yZWNpZCcpO1xyXG5cdFx0XHR2YXIgcmVxX29iaiA9IHtcclxuXHRcdFx0XHQnSUQnOiBtb3ZpZV9yZWNpZFxyXG5cdFx0XHR9O1xyXG5cdFx0XHR2YXIgcmVxX29ial9mbGRzID0ge307XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygnbW92aWVfcmVjaWQ6ICcpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhtb3ZpZV9yZWNpZCk7XHJcblxyXG5cdFx0XHR2YXIgY2hnZEZsZHNBcnIgPSAkKCcjbW92aWVfbGlzdGluZ18nICsgbW92aWVfcmVjaWQpLmZpbmQoJy52YWxDaGcnKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCdjaGdkRmxkc0FycjogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGNoZ2RGbGRzQXJyKTtcclxuXHJcblx0XHRcdC8qKiBcclxuXHRcdFx0ICogRm9yIGVhY2ggY2hhbmdlZCBmaWVsZCwgXHJcblx0XHRcdCAqIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlIHRoYXQgaGFzIHRoZSBhc3NvY2lhdGVkIGZpZWxkIG5hbWUgaW4gdGhlIGRhdGEgc3RvcmVcclxuXHRcdFx0ICogYWxvbmcgd2l0aCB0aGUgZmllbGQgdmFsdWUgXHJcblx0XHRcdCAqIHRvIGJ1aWxkIGFuIG9iamVjdCBvZiBrZXkvdmFsdWUgcGFpcnMgXHJcblx0XHRcdCAqIHRvIHNlbmQgaW4gZWFjaCByZXF1ZXN0XHJcblx0XHRcdCAqL1xyXG5cclxuXHRcdFx0JC5lYWNoKGNoZ2RGbGRzQXJyLCBmdW5jdGlvbiAoaWR4X2ZsZCwgaXRtX2ZsZCkge1xyXG5cdFx0XHRcdHZhciBmbGROYW1lID0gJChpdG1fZmxkKS5hdHRyKCdkYXRhLWZsZG5hbWUnKTtcclxuXHRcdFx0XHR2YXIgZmxkVmFsID0gJChpdG1fZmxkKS52YWwoKTtcclxuXHJcblx0XHRcdFx0aWYgKCBmbGROYW1lID09PSAnWWVhcicgfCBmbGROYW1lID09PSAnTGVuZ3RoJyB8IGZsZE5hbWUgPT09ICdSYXRpbmcnICkge1xyXG5cdFx0XHRcdFx0ZmxkVmFsID0gTnVtYmVyKGZsZFZhbCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZygnZmxkTmFtZTogJyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZmxkTmFtZSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2ZsZFZhbDogJyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZmxkVmFsKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXFfb2JqX2ZsZHNbZmxkTmFtZV0gPSBmbGRWYWw7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cmVxX29iai5maWVsZHMgPSByZXFfb2JqX2ZsZHM7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygncmVxX29iajogJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKHJlcV9vYmopO1xyXG5cclxuXHRcdFx0dmFyIHJlcV9zdHIgPSBKU09OLnN0cmluZ2lmeShyZXFfb2JqKTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKCdyZXFfc3RyOiAnKTtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVxX3N0cik7XHJcblxyXG5cdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdHVybDogJy8ubmV0bGlmeS9mdW5jdGlvbnMvYXRfYXBpJyxcclxuXHRcdFx0XHR0eXBlIDogJ1BBVENIJyxcclxuXHRcdFx0XHQvLyBkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHQgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRkYXRhOiByZXFfc3RyLFxyXG5cdFx0XHRcdHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzcCwgdGV4dFN0YXR1cywganFYaHIpIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnc3VjY2VzcyBldmVudCcpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdyZXNwOiAnKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKHJlc3ApO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygndGV4dFN0YXR1czogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaWR4KzEgPT09IGNoZ2RNb3ZpZXNBcnIubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcblx0XHRcdFx0XHRcdG1vdmllX2FkbWluLnN0YXR1c19tc2coJ3NhdmVfc3VjY2VzcycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZXJyb3IgOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIGV2ZW50Jyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdqcVhIUjogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XHJcblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ3RleHRTdGF0dXM6ICcpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2codGV4dFN0YXR1cyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvclRocm93bjogJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvclRocm93bik7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBlcnJfZGlzcDtcclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIGpxWEhSLnJlc3BvbnNlSlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0ZXJyX3N0YXR1c0NvZGUgPSBqcVhIUi5yZXNwb25zZUpTT05bJ3N0YXR1c0NvZGUnXTtcclxuXHRcdFx0XHRcdFx0ZXJyX2lzID0ganFYSFIucmVzcG9uc2VKU09OWydlcnJvciddO1xyXG5cdFx0XHRcdFx0XHRlcnJfbXNnID0ganFYSFIucmVzcG9uc2VKU09OWydtZXNzYWdlJ107XHJcblxyXG5cdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGVycl9zdGF0dXNDb2RlICsgJ1xcbicgKyBlcnJfaXMgKyAnXFxuJyArIGVycl9tc2c7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRlcnJfZGlzcCA9IGpxWEhSLnJlc3BvbnNlVGV4dDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0YWxlcnQoJ0Vycm9yOlxcbicgKyBlcnJfZGlzcCk7XHJcblxyXG5cdFx0XHRcdFx0Lyo8ZGl2IGlkPVwibW92aWVfbGlzdF9zdGF0dXNcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm8gZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwic3Bpbm5lciBzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1tZFwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGlkPVwibW92aWVfbGlzdF9zdGF0dXNfbXNnXCI+TW92aWVzIGxvYWRpbmcuLi48L3NwYW4+XHJcblx0XHRcdFx0XHQ8L2Rpdj4qL1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tcGxldGUgOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnY29tcGxldGUgZXZlbnQnKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHQsXHJcblx0c2F2ZV9vbmUgOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvKiogUG90ZW50aWFsIHVzZSBmb3Igc2luZ2xlIGZpZWxkIHNhdmUgKi9cclxuXHR9XHJcblx0LFxyXG5cdHN0YXR1c19tc2cgOiBmdW5jdGlvbiAoc3RhdHVzX21zZykge1xyXG5cdFx0c3dpdGNoIChzdGF0dXNfbXNnKSB7XHJcblx0XHRcdGNhc2UgJ3NhdmVfc3VjY2Vzcyc6XHJcblx0XHRcdFx0Lyp2YXIgbXNnID0gJzxkaXYgaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c1wiIGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2VzcyBmYWRlIHNob3cgXCIgcm9sZT1cImFsZXJ0XCI+JyArXHJcblx0XHRcdFx0XHQnPHNwYW4gaWQ9XCJtb3ZpZV9saXN0X3N0YXR1c19tc2dcIj5DaGFuZ2VzIHNhdmVkLjwvc3Bhbj4nICtcclxuXHRcdFx0XHQnPC9kaXY+JzsqL1xyXG5cclxuXHRcdFx0XHQvKiogUmVzZXQgZmllbGRzIHRvIHVuY2hhbmdlZCBzdHlsZSAqL1xyXG5cdFx0XHRcdCQoJy52YWxDaGcnKS5yZW1vdmVDbGFzcygndmFsQ2hnJyk7XHJcblxyXG5cdFx0XHRcdC8qKiBSZW1vdmUgYW55IG1lc3NhZ2VzIGFib3V0IHNhdmUgc3RhdHVzICovXHJcblx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfc2F2ZVN0YXR1cycpLnJlbW92ZSgpO1xyXG5cclxuXHRcdFx0XHQkKCcjbW92aWVfYWRtaW5fbGlzdF9hY3Rpb25zX21zZ3MnKS5wcmVwZW5kKCc8c21hbGwgY2xhc3M9XCJtc2dfc2F2ZVN0YXR1cyBtc2dfY2hnc1NhdmVkIG1zZy1zdWNjZXNzXCI+Q2hhbmdlcyBzYXZlZC48L3NtYWxsPicpO1xyXG5cclxuXHRcdFx0XHQvKiogQWZ0ZXIgc3BlY2lmaWNlZCBkZWxheSwgZmFkZSB0aGUgbWVzc2FnZSwgdGhlbiByZW1vdmUgZnJvbSBET00gKi9cclxuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JCgnI21vdmllX2FkbWluX2xpc3RfYWN0aW9uc19tc2dzIC5tc2dfY2hnc1NhdmVkJykuZmFkZU91dCgnc2xvdycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9LCAyMDAwKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdC8qY2FzZSAnJzpcclxuXHRcdFx0XHRcclxuXHRcdFx0YnJlYWs7Ki9cclxuXHRcdH1cclxuXHR9XHJcbn0pLmluaXQoKTtcclxuIl19
